(function(t){function n(n){for(var r,u,a=n[0],c=n[1],s=n[2],f=0,d=[];f<a.length;f++)u=a[f],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&d.push(o[u][0]),o[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(n);while(d.length)d.shift()();return i.push.apply(i,s||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],r=!0,a=1;a<e.length;a++){var c=e[a];0!==o[c]&&(r=!1)}r&&(i.splice(n--,1),t=u(u.s=e[0]))}return t}var r={},o={rich_text_editor:0},i=[];function u(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,u),e.l=!0,e.exports}u.m=t,u.c=r,u.d=function(t,n,e){u.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,n){if(1&n&&(t=u(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(u.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)u.d(e,r,function(n){return t[n]}.bind(null,r));return e},u.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(n,"a",n),n},u.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},u.p="/static/dist/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=n,a=a.slice();for(var s=0;s<a.length;s++)n(a[s]);var l=c;i.push([1,"chunk-common"]),e()})({"030f":function(t,n,e){(function(t){(function(){"use strict";var n=function(t){var n=typeof t;return null===t?"null":"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},e=function(t){return function(e){return n(e)===t}},r=function(t){return function(n){return typeof n===t}},o=function(t){return function(n){return t===n}},i=e("string"),u=e("object"),a=e("array"),c=o(null),s=r("boolean"),l=o(void 0),f=function(t){return null===t||void 0===t},d=function(t){return!f(t)},m=r("function"),g=r("number"),h=function(t,n){if(a(t)){for(var e=0,r=t.length;e<r;++e)if(!n(t[e]))return!1;return!0}return!1},v=function(){},p=function(t){return function(){return t()}},b=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(n.apply(null,e))}},y=function(t,n){return function(e){return t(n(e))}},w=function(t){return function(){return t}},x=function(t){return t},S=function(t,n){return t===n};function C(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.concat(e);return t.apply(null,o)}}var k=function(t){return function(n){return!t(n)}},O=function(t){return function(){throw new Error(t)}},z=w(!1),T=w(!0),M=tinymce.util.Tools.resolve("tinymce.ThemeManager"),D=function(){return D=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e],n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},D.apply(this,arguments)};function _(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}function A(t,n,e){if(e||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))}var H=function(){return E},E=function(){var t=function(t){return t()},n=x,e={fold:function(t,n){return t()},isSome:z,isNone:T,getOr:n,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:w(null),getOrUndefined:w(void 0),or:n,orThunk:t,map:H,each:v,bind:H,exists:z,forall:T,filter:function(){return H()},toArray:function(){return[]},toString:w("none()")};return e}(),R=function(t){var n=w(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:T,isNone:z,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return R(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:E},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},B=function(t){return null===t||void 0===t?E:R(t)},V={some:R,none:H,from:B},I=Array.prototype.slice,P=Array.prototype.indexOf,L=Array.prototype.push,F=function(t,n){return P.call(t,n)},N=function(t,n){var e=F(t,n);return-1===e?V.none():V.some(e)},j=function(t,n){return F(t,n)>-1},U=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];if(n(o,e))return!0}return!1},W=function(t,n){for(var e=[],r=0;r<t;r++)e.push(n(r));return e},G=function(t,n){for(var e=[],r=0;r<t.length;r+=n){var o=I.call(t,r,r+n);e.push(o)}return e},$=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},q=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];n(o,e)}},X=function(t,n){for(var e=t.length-1;e>=0;e--){var r=t[e];n(r,e)}},K=function(t,n){for(var e=[],r=[],o=0,i=t.length;o<i;o++){var u=t[o],a=n(u,o)?e:r;a.push(u)}return{pass:e,fail:r}},Y=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},J=function(t,n,e){return X(t,(function(t,r){e=n(e,t,r)})),e},Q=function(t,n,e){return q(t,(function(t,r){e=n(e,t,r)})),e},Z=function(t,n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r))return V.some(i);if(e(i,r))break}return V.none()},tt=function(t,n){return Z(t,n,z)},nt=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];if(n(o,e))return V.some(e)}return V.none()},et=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!a(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);L.apply(n,t[e])}return n},rt=function(t,n){return et($(t,n))},ot=function(t,n){for(var e=0,r=t.length;e<r;++e){var o=t[e];if(!0!==n(o,e))return!1}return!0},it=function(t){var n=I.call(t,0);return n.reverse(),n},ut=function(t,n){return Y(t,(function(t){return!j(n,t)}))},at=function(t,n){for(var e={},r=0,o=t.length;r<o;r++){var i=t[r];e[String(i)]=n(i,r)}return e},ct=function(t){return[t]},st=function(t,n){var e=I.call(t,0);return e.sort(n),e},lt=function(t,n){return n>=0&&n<t.length?V.some(t[n]):V.none()},ft=function(t){return lt(t,0)},dt=function(t){return lt(t,t.length-1)},mt=m(Array.from)?Array.from:function(t){return I.call(t)},gt=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return V.none()},ht=Object.keys,vt=Object.hasOwnProperty,pt=function(t,n){for(var e=ht(t),r=0,o=e.length;r<o;r++){var i=e[r],u=t[i];n(u,i)}},bt=function(t,n){return yt(t,(function(t,e){return{k:e,v:n(t,e)}}))},yt=function(t,n){var e={};return pt(t,(function(t,r){var o=n(t,r);e[o.k]=o.v})),e},wt=function(t){return function(n,e){t[e]=n}},xt=function(t,n,e,r){var o={};return pt(t,(function(t,o){(n(t,o)?e:r)(t,o)})),o},St=function(t,n){var e={};return xt(t,n,wt(e),v),e},Ct=function(t,n){var e=[];return pt(t,(function(t,r){e.push(n(t,r))})),e},kt=function(t,n){for(var e=ht(t),r=0,o=e.length;r<o;r++){var i=e[r],u=t[i];if(n(u,i,t))return V.some(u)}return V.none()},Ot=function(t){return Ct(t,x)},zt=function(t,n){return Tt(t,n)?V.from(t[n]):V.none()},Tt=function(t,n){return vt.call(t,n)},Mt=function(t,n){return Tt(t,n)&&void 0!==t[n]&&null!==t[n]},Dt=function(t,n,e){return void 0===e&&(e=S),t.exists((function(t){return e(t,n)}))},_t=function(t,n,e){return void 0===e&&(e=S),Et(t,n,e).getOr(t.isNone()&&n.isNone())},At=function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n},Ht=function(t){for(var n=[],e=0;e<t.length;e++){var r=t[e];if(!r.isSome())return V.none();n.push(r.getOrDie())}return V.some(n)},Et=function(t,n,e){return t.isSome()&&n.isSome()?V.some(e(t.getOrDie(),n.getOrDie())):V.none()},Rt=function(t,n,e,r){return t.isSome()&&n.isSome()&&e.isSome()?V.some(r(t.getOrDie(),n.getOrDie(),e.getOrDie())):V.none()},Bt=function(t,n){return void 0!==t&&null!==t?V.some(n(t)):V.none()},Vt=function(t,n){return t?V.some(n):V.none()},It=function(t,n){return t+n},Pt=function(t,n){return t.substring(n)},Lt=function(t,n,e){return""===n||t.length>=n.length&&t.substr(e,e+n.length)===n},Ft=function(t,n){return Ut(t,n)?Pt(t,n.length):t},Nt=function(t,n){return Wt(t,n)?t:It(t,n)},jt=function(t,n){return-1!==t.indexOf(n)},Ut=function(t,n){return Lt(t,n,0)},Wt=function(t,n){return Lt(t,n,t.length-n.length)},Gt=function(t){return function(n){return n.replace(t,"")}},$t=Gt(/^\s+|\s+$/g),qt=function(t){return t.length>0},Xt=function(t){return!qt(t)},Kt=function(t){return void 0!==t.style&&m(t.style.getPropertyValue)},Yt=function(t,n){var e=n||document,r=e.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Zt(r.childNodes[0])},Jt=function(t,n){var e=n||document,r=e.createElement(t);return Zt(r)},Qt=function(t,n){var e=n||document,r=e.createTextNode(t);return Zt(r)},Zt=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},tn=function(t,n,e){return V.from(t.dom.elementFromPoint(n,e)).map(Zt)},nn={fromHtml:Yt,fromTag:Jt,fromText:Qt,fromDom:Zt,fromPoint:tn};"undefined"!==typeof window?window:Function("return this;")();var en,rn=9,on=11,un=1,an=3,cn=function(t){var n=t.dom.nodeName;return n.toLowerCase()},sn=function(t){return t.dom.nodeType},ln=function(t){return function(n){return sn(n)===t}},fn=ln(un),dn=ln(an),mn=ln(rn),gn=ln(on),hn=function(t){var n,e=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e||(e=!0,n=t.apply(null,r)),n}},vn=function(t,n,e,r){var o=t.isiOS()&&!0===/ipad/i.test(e),i=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),s=i||u&&!c,l=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(e),f=!s&&!c&&!l;return{isiPad:w(o),isiPhone:w(i),isTablet:w(c),isPhone:w(s),isTouch:w(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:w(l),isDesktop:w(f)}},pn=function(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(r.test(n))return r}},bn=function(t,n){var e=pn(t,n);if(!e)return{major:0,minor:0};var r=function(t){return Number(n.replace(e,"$"+t))};return xn(r(1),r(2))},yn=function(t,n){var e=String(n).toLowerCase();return 0===t.length?wn():bn(t,e)},wn=function(){return xn(0,0)},xn=function(t,n){return{major:t,minor:n}},Sn={nu:xn,detect:yn,unknown:wn},Cn=function(t,n){return gt(n.brands,(function(n){var e=n.brand.toLowerCase();return tt(t,(function(t){var n;return e===(null===(n=t.brand)||void 0===n?void 0:n.toLowerCase())})).map((function(t){return{current:t.name,version:Sn.nu(parseInt(n.version,10),0)}}))}))},kn=function(t,n){var e=String(n).toLowerCase();return tt(t,(function(t){return t.search(e)}))},On=function(t,n){return kn(t,n).map((function(t){var e=Sn.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},zn=function(t,n){return kn(t,n).map((function(t){var e=Sn.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},Tn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mn=function(t){return function(n){return jt(n,t)}},Dn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return jt(t,"edge/")&&jt(t,"chrome")&&jt(t,"safari")&&jt(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tn],search:function(t){return jt(t,"chrome")&&!jt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return jt(t,"msie")||jt(t,"trident")}},{name:"Opera",versionRegexes:[Tn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mn("firefox")},{name:"Safari",versionRegexes:[Tn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(jt(t,"safari")||jt(t,"mobile/"))&&jt(t,"applewebkit")}}],_n=[{name:"Windows",search:Mn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return jt(t,"iphone")||jt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Mn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mn("linux"),versionRegexes:[]},{name:"Solaris",search:Mn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],An={browsers:w(Dn),oses:w(_n)},Hn="Edge",En="Chrome",Rn="IE",Bn="Opera",Vn="Firefox",In="Safari",Pn=function(){return Ln({current:void 0,version:Sn.unknown()})},Ln=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isEdge:r(Hn),isChrome:r(En),isIE:r(Rn),isOpera:r(Bn),isFirefox:r(Vn),isSafari:r(In)}},Fn={unknown:Pn,nu:Ln,edge:w(Hn),chrome:w(En),ie:w(Rn),opera:w(Bn),firefox:w(Vn),safari:w(In)},Nn="Windows",jn="iOS",Un="Android",Wn="Linux",Gn="OSX",$n="Solaris",qn="FreeBSD",Xn="ChromeOS",Kn=function(){return Yn({current:void 0,version:Sn.unknown()})},Yn=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isWindows:r(Nn),isiOS:r(jn),isAndroid:r(Un),isOSX:r(Gn),isLinux:r(Wn),isSolaris:r($n),isFreeBSD:r(qn),isChromeOS:r(Xn)}},Jn={unknown:Kn,nu:Yn,windows:w(Nn),ios:w(jn),android:w(Un),linux:w(Wn),osx:w(Gn),solaris:w($n),freebsd:w(qn),chromeos:w(Xn)},Qn=function(t,n,e){var r=An.browsers(),o=An.oses(),i=n.bind((function(t){return Cn(r,t)})).orThunk((function(){return On(r,t)})).fold(Fn.unknown,Fn.nu),u=zn(o,t).fold(Jn.unknown,Jn.nu),a=vn(u,i,t,e);return{browser:i,os:u,deviceType:a}},Zn={detect:Qn},te=function(t){return window.matchMedia(t).matches},ne=hn((function(){return Zn.detect(navigator.userAgent,V.from(navigator.userAgentData),te)})),ee=function(){return ne()},re=function(t,n,e){return 0!==(t.compareDocumentPosition(n)&e)},oe=function(t,n){return re(t,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},ie=function(t,n){var e=t.dom;if(e.nodeType!==un)return!1;var r=e;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},ue=function(t){return t.nodeType!==un&&t.nodeType!==rn&&t.nodeType!==on||0===t.childElementCount},ae=function(t,n){var e=void 0===n?document:n.dom;return ue(e)?[]:$(e.querySelectorAll(t),nn.fromDom)},ce=function(t,n){var e=void 0===n?document:n.dom;return ue(e)?V.none():V.from(e.querySelector(t)).map(nn.fromDom)},se=function(t,n){return t.dom===n.dom},le=function(t,n){var e=t.dom,r=n.dom;return e!==r&&e.contains(r)},fe=function(t,n){return oe(t.dom,n.dom)},de=function(t,n){return ee().browser.isIE()?fe(t,n):le(t,n)},me=function(t){return nn.fromDom(t.dom.ownerDocument)},ge=function(t){return mn(t)?t:me(t)},he=function(t){return nn.fromDom(ge(t).dom.documentElement)},ve=function(t){return nn.fromDom(ge(t).dom.defaultView)},pe=function(t){return V.from(t.dom.parentNode).map(nn.fromDom)},be=function(t){return pe(t)},ye=function(t){return V.from(t.dom.offsetParent).map(nn.fromDom)},we=function(t){return V.from(t.dom.nextSibling).map(nn.fromDom)},xe=function(t){return $(t.dom.childNodes,nn.fromDom)},Se=function(t,n){var e=t.dom.childNodes;return V.from(e[n]).map(nn.fromDom)},Ce=function(t){return Se(t,0)},ke=function(t,n){return{element:t,offset:n}},Oe=function(t,n){var e=xe(t);return e.length>0&&n<e.length?ke(e[n],0):ke(t,n)},ze=function(t){return gn(t)&&d(t.dom.host)},Te=m(Element.prototype.attachShadow)&&m(Node.prototype.getRootNode),Me=w(Te),De=Te?function(t){return nn.fromDom(t.dom.getRootNode())}:ge,_e=function(t){return ze(t)?t:nn.fromDom(ge(t).dom.body)},Ae=function(t){return He(t).isSome()},He=function(t){var n=De(t);return ze(n)?V.some(n):V.none()},Ee=function(t){return nn.fromDom(t.dom.host)},Re=function(t){if(Me()&&d(t.target)){var n=nn.fromDom(t.target);if(fn(n)&&Be(n)&&t.composed&&t.composedPath){var e=t.composedPath();if(e)return ft(e)}}return V.from(t.target)},Be=function(t){return d(t.dom.shadowRoot)},Ve=function(t){var n=dn(t)?t.dom.parentNode:t.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var e=n.ownerDocument;return He(nn.fromDom(n)).fold((function(){return e.body.contains(n)}),y(Ve,Ee))},Ie=function(){return Pe(nn.fromDom(document))},Pe=function(t){var n=t.dom.body;if(null===n||void 0===n)throw new Error("Body is not available yet");return nn.fromDom(n)},Le=function(t,n,e){if(!(i(e)||s(e)||g(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")},Fe=function(t,n,e){Le(t.dom,n,e)},Ne=function(t,n){var e=t.dom;pt(n,(function(t,n){Le(e,n,t)}))},je=function(t,n){var e=t.dom.getAttribute(n);return null===e?void 0:e},Ue=function(t,n){return V.from(je(t,n))},We=function(t,n){var e=t.dom;return!(!e||!e.hasAttribute)&&e.hasAttribute(n)},Ge=function(t,n){t.dom.removeAttribute(n)},$e=function(t,n,e){if(!i(e))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",e,":: Element ",t),new Error("CSS value must be a string: "+e);Kt(t)&&t.style.setProperty(n,e)},qe=function(t,n){Kt(t)&&t.style.removeProperty(n)},Xe=function(t,n,e){var r=t.dom;$e(r,n,e)},Ke=function(t,n){var e=t.dom;pt(n,(function(t,n){$e(e,n,t)}))},Ye=function(t,n){var e=t.dom;pt(n,(function(t,n){t.fold((function(){qe(e,n)}),(function(t){$e(e,n,t)}))}))},Je=function(t,n){var e=t.dom,r=window.getComputedStyle(e),o=r.getPropertyValue(n);return""!==o||Ve(t)?o:Qe(e,n)},Qe=function(t,n){return Kt(t)?t.style.getPropertyValue(n):""},Ze=function(t,n){var e=t.dom,r=Qe(e,n);return V.from(r).filter((function(t){return t.length>0}))},tr=function(t){var n={},e=t.dom;if(Kt(e))for(var r=0;r<e.style.length;r++){var o=e.style.item(r);n[o]=e.style[o]}return n},nr=function(t,n,e){var r=nn.fromTag(t);Xe(r,n,e);var o=Ze(r,n);return o.isSome()},er=function(t,n){var e=t.dom;qe(e,n),Dt(Ue(t,"style").map($t),"")&&Ge(t,"style")},rr=function(t){return t.dom.offsetWidth},or=function(t,n){var e=function(n,e){if(!g(e)&&!e.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+e);var r=n.dom;Kt(r)&&(r.style[t]=e+"px")},r=function(e){var r=n(e);if(r<=0||null===r){var o=Je(e,t);return parseFloat(o)||0}return r},o=r,i=function(t,n){return Q(n,(function(n,e){var r=Je(t,e),o=void 0===r?0:parseInt(r,10);return isNaN(o)?n:n+o}),0)},u=function(t,n,e){var r=i(t,e),o=n>r?n-r:0;return o};return{set:e,get:r,getOuter:o,aggregate:i,max:u}},ir=or("height",(function(t){var n=t.dom;return Ve(t)?n.getBoundingClientRect().height:n.offsetHeight})),ur=function(t){return ir.get(t)},ar=function(t){return ir.getOuter(t)},cr=function(t,n){var e=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=ir.max(t,n,e);Xe(t,"max-height",r+"px")},sr=function(t,n){var e=function(e,r){return sr(t+e,n+r)};return{left:t,top:n,translate:e}},lr=sr,fr=function(t){var n=t.getBoundingClientRect();return lr(n.left,n.top)},dr=function(t,n){return void 0!==t?t:void 0!==n?n:0},mr=function(t){var n=t.dom.ownerDocument,e=n.body,r=n.defaultView,o=n.documentElement;if(e===t.dom)return lr(e.offsetLeft,e.offsetTop);var i=dr(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),u=dr(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),a=dr(o.clientTop,e.clientTop),c=dr(o.clientLeft,e.clientLeft);return gr(t).translate(u-c,i-a)},gr=function(t){var n=t.dom,e=n.ownerDocument,r=e.body;return r===n?lr(r.offsetLeft,r.offsetTop):Ve(t)?fr(n):lr(0,0)},hr=or("width",(function(t){return t.dom.offsetWidth})),vr=function(t,n){return hr.set(t,n)},pr=function(t){return hr.get(t)},br=function(t){return hr.getOuter(t)},yr=function(t,n){var e=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=hr.max(t,n,e);Xe(t,"max-width",r+"px")},wr=function(t,n,e,r,o,i,u){return{target:t,x:n,y:e,stop:r,prevent:o,kill:i,raw:u}},xr=function(t){var n=nn.fromDom(Re(t).getOr(t.target)),e=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=b(r,e);return wr(n,t.clientX,t.clientY,e,r,o,t)},Sr=function(t,n){return function(e){t(e)&&n(xr(e))}},Cr=function(t,n,e,r,o){var i=Sr(e,r);return t.dom.addEventListener(n,i,o),{unbind:C(zr,t,n,i,o)}},kr=function(t,n,e,r){return Cr(t,n,e,r,!1)},Or=function(t,n,e,r){return Cr(t,n,e,r,!0)},zr=function(t,n,e,r){t.dom.removeEventListener(n,e,r)},Tr=function(t,n){var e=pe(t);e.each((function(e){e.dom.insertBefore(n.dom,t.dom)}))},Mr=function(t,n){var e=we(t);e.fold((function(){var e=pe(t);e.each((function(t){_r(t,n)}))}),(function(t){Tr(t,n)}))},Dr=function(t,n){var e=Ce(t);e.fold((function(){_r(t,n)}),(function(e){t.dom.insertBefore(n.dom,e.dom)}))},_r=function(t,n){t.dom.appendChild(n.dom)},Ar=function(t,n,e){Se(t,e).fold((function(){_r(t,n)}),(function(t){Tr(t,n)}))},Hr=function(t,n){q(n,(function(n){Tr(t,n)}))},Er=function(t,n){q(n,(function(n){_r(t,n)}))},Rr=function(t){t.dom.textContent="",q(xe(t),(function(t){Br(t)}))},Br=function(t){var n=t.dom;null!==n.parentNode&&n.parentNode.removeChild(n)},Vr=function(t){var n=xe(t);n.length>0&&Hr(t,n),Br(t)},Ir=function(t){var n=void 0!==t?t.dom:document,e=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return lr(e,r)},Pr=function(t,n,e){var r=void 0!==e?e.dom:document,o=r.defaultView;o&&o.scrollTo(t,n)},Lr=function(t){var n=void 0===t?window:t;return ee().browser.isFirefox()?V.none():V.from(n["visualViewport"])},Fr=function(t,n,e,r){return{x:t,y:n,width:e,height:r,right:t+e,bottom:n+r}},Nr=function(t){var n=void 0===t?window:t,e=n.document,r=Ir(nn.fromDom(e));return Lr(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,o=t.clientHeight;return Fr(r.left,r.top,e,o)}),(function(t){return Fr(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},jr=function(t,n){var e=t.view(n);return e.fold(w([]),(function(n){var e=t.owner(n),r=jr(t,e);return[n].concat(r)}))},Ur=function(t,n){var e=n.owner(t),r=jr(n,e);return V.some(r)},Wr=function(t){var n,e=t.dom===document?V.none():V.from(null===(n=t.dom.defaultView)||void 0===n?void 0:n.frameElement);return e.map(nn.fromDom)},Gr=function(t){return me(t)},$r=Object.freeze({__proto__:null,view:Wr,owner:Gr}),qr=function(t){var n=nn.fromDom(document),e=Ir(n),r=Ur(t,$r);return r.fold(C(mr,t),(function(n){var r=gr(t),o=J(n,(function(t,n){var e=gr(n);return{left:t.left+e.left,top:t.top+e.top}}),{left:0,top:0});return lr(o.left+r.left+e.left,o.top+r.top+e.top)}))},Xr=function(t,n,e){return{point:t,width:n,height:e}},Kr=function(t,n,e,r){return{x:t,y:n,width:e,height:r}},Yr=function(t,n,e,r){return{x:t,y:n,width:e,height:r,right:t+e,bottom:n+r}},Jr=function(t){var n=mr(t),e=br(t),r=ar(t);return Yr(n.left,n.top,e,r)},Qr=function(t){var n=qr(t),e=br(t),r=ar(t);return Yr(n.left,n.top,e,r)},Zr=function(){return Nr(window)},to=function(t){var n=function(n){return to(t)},e=function(n){return to(t)},r=function(n){return to(n(t))},o=function(n){return to(t)},i=function(n){n(t)},u=function(n){return n(t)},a=function(n,e){return e(t)},c=function(n){return n(t)},s=function(n){return n(t)},l=function(){return V.some(t)};return{isValue:T,isError:z,getOr:w(t),getOrThunk:w(t),getOrDie:w(t),or:n,orThunk:e,fold:a,map:r,mapError:o,each:i,bind:u,exists:c,forall:s,toOptional:l}},no=function(t){var n=function(t){return t()},e=function(){return O(String(t))()},r=x,o=function(t){return t()},i=function(n){return no(t)},u=function(n){return no(n(t))},a=function(n){return no(t)},c=function(n,e){return n(t)};return{isValue:z,isError:T,getOr:x,getOrThunk:n,getOrDie:e,or:r,orThunk:o,fold:c,map:i,mapError:u,each:v,bind:a,exists:z,forall:T,toOptional:V.none}},eo=function(t,n){return t.fold((function(){return no(n)}),to)},ro={value:to,error:no,fromOption:eo};(function(t){t[t["Error"]=0]="Error",t[t["Value"]=1]="Value"})(en||(en={}));var oo=function(t,n,e){return t.stype===en.Error?n(t.serror):e(t.svalue)},io=function(t){var n=[],e=[];return q(t,(function(t){oo(t,(function(t){return e.push(t)}),(function(t){return n.push(t)}))})),{values:n,errors:e}},uo=function(t,n){return t.stype===en.Error?{stype:en.Error,serror:n(t.serror)}:t},ao=function(t,n){return t.stype===en.Value?{stype:en.Value,svalue:n(t.svalue)}:t},co=function(t,n){return t.stype===en.Value?n(t.svalue):t},so=function(t,n){return t.stype===en.Error?n(t.serror):t},lo=function(t){return{stype:en.Value,svalue:t}},fo=function(t){return{stype:en.Error,serror:t}},mo=function(t){return oo(t,ro.error,ro.value)},go=function(t){return t.fold(fo,lo)},ho={fromResult:go,toResult:mo,svalue:lo,partition:io,serror:fo,bind:co,bindError:so,map:ao,mapError:uo,fold:oo},vo=function(t,n,e,r){return{tag:"field",key:t,newKey:n,presence:e,prop:r}},po=function(t,n){return{tag:"custom",newKey:t,instantiator:n}},bo=function(t,n,e){switch(t.tag){case"field":return n(t.key,t.newKey,t.presence,t.prop);case"custom":return e(t.newKey,t.instantiator)}},yo=function(t,n){return n},wo=function(t,n){var e=u(t)&&u(n);return e?So(t,n):n},xo=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(0===n.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<n.length;o++){var i=n[o];for(var u in i)Tt(i,u)&&(r[u]=t(r[u],i[u]))}return r}},So=xo(wo),Co=xo(yo),ko=function(){return{tag:"required",process:{}}},Oo=function(t){return{tag:"defaultedThunk",process:t}},zo=function(t){return Oo(w(t))},To=function(){return{tag:"option",process:{}}},Mo=function(t){return{tag:"mergeWithThunk",process:t}},Do=function(t){return Mo(w(t))},_o=function(t,n){return t.length>0?ho.svalue(So(n,Co.apply(void 0,t))):ho.svalue(n)},Ao=function(t){return b(ho.serror,et)(t)},Ho=function(t,n){var e=ho.partition(t);return e.errors.length>0?Ao(e.errors):_o(e.values,n)},Eo=function(t){var n=ho.partition(t);return n.errors.length>0?Ao(n.errors):ho.svalue(n.values)},Ro={consolidateObj:Ho,consolidateArr:Eo},Bo=function(t){return u(t)&&ht(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Vo=function(t){var n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:w("... (only showing first ten failures)")}]):t;return $(n,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))},Io=function(t,n){return ho.serror([{path:t,getErrorInfo:n}])},Po=function(t,n,e){return Io(t,(function(){return'Could not find valid *required* value for "'+n+'" in '+Bo(e)}))},Lo=function(t,n){return Io(t,(function(){return'Choice schema did not contain choice key: "'+n+'"'}))},Fo=function(t,n,e){return Io(t,(function(){return'The chosen schema: "'+e+'" did not exist in branches: '+Bo(n)}))},No=function(t,n){return Io(t,(function(){return"There are unsupported fields: ["+n.join(", ")+"] specified"}))},jo=function(t,n){return Io(t,w(n))},Uo=function(t){var n=function(n,e){return ho.bindError(t(e),(function(t){return jo(n,t)}))},e=w("val");return{extract:n,toString:e}},Wo=Uo(ho.svalue),Go=function(t,n,e,r){return zt(n,e).fold((function(){return Po(t,e,n)}),r)},$o=function(t,n,e,r){var o=zt(t,n).getOrThunk((function(){return e(t)}));return r(o)},qo=function(t,n,e){return e(zt(t,n))},Xo=function(t,n,e,r){var o=zt(t,n).map((function(n){return!0===n?e(t):n}));return r(o)},Ko=function(t,n,e,r,o){var i=function(t){return o.extract(n.concat([r]),t)},u=function(t){return t.fold((function(){return ho.svalue(V.none())}),(function(t){var e=o.extract(n.concat([r]),t);return ho.map(e,V.some)}))};switch(t.tag){case"required":return Go(n,e,r,i);case"defaultedThunk":return $o(e,r,t.process,i);case"option":return qo(e,r,u);case"defaultedOptionThunk":return Xo(e,r,t.process,u);case"mergeWithThunk":return $o(e,r,w({}),(function(n){var r=So(t.process(e),n);return i(r)}))}},Yo=function(t,n,e){for(var r={},o=[],i=0,u=e;i<u.length;i++){var a=u[i];bo(a,(function(e,i,u,a){var c=Ko(u,t,n,e,a);ho.fold(c,(function(t){o.push.apply(o,t)}),(function(t){r[i]=t}))}),(function(t,e){r[t]=e(n)}))}return o.length>0?ho.serror(o):ho.svalue(r)},Jo=function(t){var n=function(n,e){return t().extract(n,e)},e=function(){return t().toString()};return{extract:n,toString:e}},Qo=function(t){return ht(St(t,d))},Zo=function(t){var n=ti(t),e=J(t,(function(t,n){return bo(n,(function(n){var e;return So(t,(e={},e[n]=!0,e))}),w(t))}),{}),r=function(t,r){var o=s(r)?[]:Qo(r),i=Y(o,(function(t){return!Mt(e,t)}));return 0===i.length?n.extract(t,r):No(t,i)};return{extract:r,toString:n.toString}},ti=function(t){var n=function(n,e){return Yo(n,e,t)},e=function(){var n=$(t,(function(t){return bo(t,(function(t,n,e,r){return t+" -> "+r.toString()}),(function(t,n){return"state("+t+")"}))}));return"obj{\n"+n.join("\n")+"}"};return{extract:n,toString:e}},ni=function(t){var n=function(n,e){var r=$(e,(function(e,r){return t.extract(n.concat(["["+r+"]"]),e)}));return Ro.consolidateArr(r)},e=function(){return"array("+t.toString()+")"};return{extract:n,toString:e}},ei=function(t){var n=function(n,e){for(var r=[],o=0,i=t;o<i.length;o++){var u=i[o],a=u.extract(n,e);if(a.stype===en.Value)return a;r.push(a)}return Ro.consolidateArr(r)},e=function(){return"oneOf("+$(t,(function(t){return t.toString()})).join(", ")+")"};return{extract:n,toString:e}},ri=function(t,n){var e=function(n,e){return ni(Uo(t)).extract(n,e)},r=function(t,r){var o=ht(r),i=e(t,o);return ho.bind(i,(function(e){var o=$(e,(function(t){return vo(t,t,ko(),n)}));return ti(o).extract(t,r)}))},o=function(){return"setOf("+n.toString()+")"};return{extract:r,toString:o}},oi=function(t,n){var e=hn(n),r=function(t,n){return e().extract(t,n)},o=function(){return e().toString()};return{extract:r,toString:o}},ii=b(ni,ti),ui=w(Wo),ai=function(t,n){return Uo((function(e){var r=typeof e;return t(e)?ho.svalue(e):ho.serror("Expected type: "+n+" but got: "+r)}))},ci=ai(g,"number"),si=ai(i,"string"),li=ai(s,"boolean"),fi=ai(m,"function"),di=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every((function(n){return di(t[n])}));default:return!1}},mi=Uo((function(t){return di(t)?ho.svalue(t):ho.serror("Expected value to be acceptable for sending via postMessage")})),gi=function(t,n,e,r){var o=zt(e,r);return o.fold((function(){return Fo(t,e,r)}),(function(e){return e.extract(t.concat(["branch: "+r]),n)}))},hi=function(t,n){var e=function(e,r){var o=zt(r,t);return o.fold((function(){return Lo(e,t)}),(function(t){return gi(e,r,n,t)}))},r=function(){return"chooseOn("+t+"). Possible values: "+ht(n)};return{extract:e,toString:r}},vi=function(){return ni(Wo)},pi=function(t){return Uo((function(n){return t(n).fold(ho.serror,ho.svalue)}))},bi=function(t,n){return ri((function(n){return ho.fromResult(t(n))}),n)},yi=function(t,n,e){var r=n.extract([t],e);return ho.mapError(r,(function(t){return{input:e,errors:t}}))},wi=function(t,n,e){return ho.toResult(yi(t,n,e))},xi=function(t){return t.fold((function(t){throw new Error(Ci(t))}),x)},Si=function(t,n,e){return xi(wi(t,n,e))},Ci=function(t){return"Errors: \n"+Vo(t.errors).join("\n")+"\n\nInput object: "+Bo(t.input)},ki=function(t,n){return hi(t,bt(n,ti))},Oi=function(t,n){return oi(t,n)},zi=vo,Ti=po,Mi=function(t){return pi((function(n){return j(t,n)?ro.value(n):ro.error('Unsupported value: "'+n+'", choose one of "'+t.join(", ")+'".')}))},Di=function(t){return zi(t,t,ko(),ui())},_i=function(t,n){return zi(t,t,ko(),n)},Ai=function(t){return _i(t,ci)},Hi=function(t){return _i(t,si)},Ei=function(t,n){return zi(t,t,ko(),Mi(n))},Ri=function(t){return _i(t,li)},Bi=function(t){return _i(t,fi)},Vi=function(t,n){return zi(t,t,To(),Uo((function(e){return ho.serror("The field: "+t+" is forbidden. "+n)})))},Ii=function(t,n){return zi(t,t,ko(),ti(n))},Pi=function(t,n){return zi(t,t,ko(),ii(n))},Li=function(t,n){return zi(t,t,ko(),ni(n))},Fi=function(t){return zi(t,t,To(),ui())},Ni=function(t,n){return zi(t,t,To(),n)},ji=function(t){return Ni(t,ci)},Ui=function(t){return Ni(t,si)},Wi=function(t){return Ni(t,fi)},Gi=function(t,n){return Ni(t,ni(n))},$i=function(t,n){return Ni(t,ti(n))},qi=function(t,n){return Ni(t,Zo(n))},Xi=function(t,n){return zi(t,t,zo(n),ui())},Ki=function(t,n,e){return zi(t,t,zo(n),e)},Yi=function(t,n){return Ki(t,n,ci)},Ji=function(t,n){return Ki(t,n,si)},Qi=function(t,n,e){return Ki(t,n,Mi(e))},Zi=function(t,n){return Ki(t,n,li)},tu=function(t,n){return Ki(t,n,fi)},nu=function(t,n){return Ki(t,n,mi)},eu=function(t,n,e){return Ki(t,n,ni(e))},ru=function(t,n,e){return Ki(t,n,ti(e))},ou=function(t){var n=t,e=function(){return n},r=function(t){n=t};return{get:e,set:r}},iu=function(t){if(!a(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],e={};return q(t,(function(r,o){var i=ht(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],c=r[u];if(void 0!==e[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!a(c))throw new Error("case arguments must be an array");n.push(u),e[u]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length;if(i!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+i);var a=function(t){var r=ht(t);if(n.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+r.join(","));var o=ot(n,(function(t){return j(r,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+n.join(", "));return t[u].apply(null,e)};return{fold:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var i=n[o];return i.apply(null,e)},match:a,log:function(t){console.log(t,{constructors:n,constructor:u,params:e})}}}})),e},uu={generate:iu};uu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var au,cu=function(t){var n=[],e=[];return q(t,(function(t){t.fold((function(t){n.push(t)}),(function(t){e.push(t)}))})),{errors:n,values:e}},su=function(t,n){var e={};return pt(t,(function(t,r){j(n,r)||(e[r]=t)})),e},lu=function(t,n){var e;return e={},e[t]=n,e},fu=function(t){var n={};return q(t,(function(t){n[t.key]=t.value})),n},du=function(t,n){return su(t,n)},mu=function(t,n){return lu(t,n)},gu=function(t){return fu(t)},hu=function(t,n){return 0===t.length?ro.value(n):ro.value(So(n,Co.apply(void 0,t)))},vu=function(t){return ro.error(et(t))},pu=function(t,n){var e=cu(t);return e.errors.length>0?vu(e.errors):hu(e.values,n)},bu=function(t){return m(t)?t:z},yu=function(t,n,e){var r=t.dom,o=bu(e);while(r.parentNode){r=r.parentNode;var i=nn.fromDom(r),u=n(i);if(u.isSome())return u;if(o(i))break}return V.none()},wu=function(t,n,e){var r=n(t),o=bu(e);return r.orThunk((function(){return o(t)?V.none():yu(t,n,o)}))},xu=function(t,n){return se(t.element,n.event.target)},Su={can:T,abort:z,run:v},Cu=function(t){if(!Mt(t,"can")&&!Mt(t,"abort")&&!Mt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return D(D({},Su),t)},ku=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Q(t,(function(t,r){return t&&n(r).apply(void 0,e)}),!0)}},Ou=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Q(t,(function(t,r){return t||n(r).apply(void 0,e)}),!1)}},zu=function(t){return m(t)?{can:T,abort:z,run:t}:t},Tu=function(t){var n=ku(t,(function(t){return t.can})),e=Ou(t,(function(t){return t.abort})),r=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];q(t,(function(t){t.run.apply(void 0,n)}))};return{can:n,abort:e,run:r}},Mu=w,Du=Mu("touchstart"),_u=Mu("touchmove"),Au=Mu("touchend"),Hu=Mu("touchcancel"),Eu=Mu("mousedown"),Ru=Mu("mousemove"),Bu=Mu("mouseout"),Vu=Mu("mouseup"),Iu=Mu("mouseover"),Pu=Mu("focusin"),Lu=Mu("focusout"),Fu=Mu("keydown"),Nu=Mu("keyup"),ju=Mu("input"),Uu=Mu("change"),Wu=Mu("click"),Gu=Mu("transitioncancel"),$u=Mu("transitionend"),qu=Mu("transitionstart"),Xu=Mu("selectstart"),Ku=function(t){return w("alloy."+t)},Yu={tap:Ku("tap")},Ju=Ku("focus"),Qu=Ku("blur.post"),Zu=Ku("paste.post"),ta=Ku("receive"),na=Ku("execute"),ea=Ku("focus.item"),ra=Yu.tap,oa=Ku("longpress"),ia=Ku("sandbox.close"),ua=Ku("typeahead.cancel"),aa=Ku("system.init"),ca=Ku("system.touchmove"),sa=Ku("system.touchend"),la=Ku("system.scroll"),fa=Ku("system.resize"),da=Ku("system.attached"),ma=Ku("system.detached"),ga=Ku("system.dismissRequested"),ha=Ku("system.repositionRequested"),va=Ku("focusmanager.shifted"),pa=Ku("slotcontainer.visibility"),ba=Ku("change.tab"),ya=Ku("dismiss.tab"),wa=Ku("highlight"),xa=Ku("dehighlight"),Sa=function(t,n){za(t,t.element,n,{})},Ca=function(t,n,e){za(t,t.element,n,e)},ka=function(t){Sa(t,na())},Oa=function(t,n,e){za(t,n,e,{})},za=function(t,n,e,r){var o=D({target:n},r);t.getSystem().triggerEvent(e,n,o)},Ta=function(t,n,e,r){t.getSystem().triggerEvent(e,n,r.event)},Ma=function(t){return gu(t)},Da=function(t,n){return{key:t,value:Cu({abort:n})}},_a=function(t,n){return{key:t,value:Cu({can:n})}},Aa=function(t){return{key:t,value:Cu({run:function(t,n){n.event.prevent()}})}},Ha=function(t,n){return{key:t,value:Cu({run:n})}},Ea=function(t,n,e){return{key:t,value:Cu({run:function(t,r){n.apply(void 0,[t,r].concat(e))}})}},Ra=function(t){return function(n){return Ha(t,n)}},Ba=function(t){return function(n){return{key:t,value:Cu({run:function(t,e){xu(t,e)&&n(t,e)}})}}},Va=function(t,n){return Ha(t,(function(e,r){e.getSystem().getByUid(n).each((function(n){Ta(n,n.element,t,r)}))}))},Ia=function(t,n,e){var r=n.partUids[e];return Va(t,r)},Pa=function(t,n){return Ha(t,(function(t,e){var r=e.event,o=t.getSystem().getByDom(r.target).getOrThunk((function(){var n=wu(r.target,(function(n){return t.getSystem().getByDom(n).toOptional()}),z);return n.getOr(t)}));n(t,o,e)}))},La=function(t){return Ha(t,(function(t,n){n.cut()}))},Fa=function(t){return Ha(t,(function(t,n){n.stop()}))},Na=function(t,n){return Ba(t)(n)},ja=Ba(da()),Ua=Ba(ma()),Wa=Ba(aa()),Ga=Ra(na()),$a=function(t,n){var e=n||document,r=e.createElement("div");return r.innerHTML=t,xe(nn.fromDom(r))},qa=function(t){return t.dom.innerHTML},Xa=function(t,n){var e=me(t),r=e.dom,o=nn.fromDom(r.createDocumentFragment()),i=$a(n,r);Er(o,i),Rr(t),_r(t,o)},Ka=function(t){var n=nn.fromTag("div"),e=nn.fromDom(t.dom.cloneNode(!0));return _r(n,e),qa(n)},Ya=function(t,n){return nn.fromDom(t.dom.cloneNode(n))},Ja=function(t){return Ya(t,!1)},Qa=function(t){if(ze(t))return"#shadow-root";var n=Ja(t);return Ka(n)},Za=function(t){return Qa(t)},tc=function(t,n,e){return se(n,t.element)&&!se(n,e)},nc=Ma([_a(Ju(),(function(t,n){var e=n.event,r=e.originator,o=e.target;return!tc(t,r,o)||(console.warn(Ju()+" did not get interpreted by the desired target. \nOriginator: "+Za(r)+"\nTarget: "+Za(o)+"\nCheck the "+Ju()+" event handlers"),!1)}))]),ec=Object.freeze({__proto__:null,events:nc}),rc=0,oc=function(t){var n=new Date,e=n.getTime(),r=Math.floor(1e9*Math.random());return rc++,t+"_"+r+rc+String(e)},ic=w("alloy-id-"),uc=w("data-alloy-id"),ac=ic(),cc=uc(),sc=function(t,n){var e=oc(ac+t);return lc(n,e),e},lc=function(t,n){Object.defineProperty(t.dom,cc,{value:n,writable:!0})},fc=function(t){var n=fn(t)?t.dom[cc]:null;return V.from(n)},dc=function(t){return oc(t)},mc=x,gc=function(t){var n=function(n){return"The component must be in a context to execute: "+n+(t?"\n"+Za(t().element)+" is not in context.":"")},e=function(t){return function(){throw new Error(n(t))}},r=function(t){return function(){console.warn(n(t))}};return{debugInfo:w("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),isConnected:z}},hc=gc(),vc=function(t,n,e){var r=e.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),u=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:pc(u.slice(0,1).concat(u.slice(3)))}},t},pc=function(t){return $(t,(function(t){return Wt(t,"/*")?t.substring(0,t.length-"/*".length):t}))},bc=function(t,n){var e=t.toString(),r=e.indexOf(")")+1,o=e.indexOf("("),i=e.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:pc(i)}},t},yc=function(t,n){var e=n.toString(),r=e.indexOf(")")+1,o=e.indexOf("("),i=e.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:pc(i.slice(1))}},t},wc=oc("alloy-premade"),xc=function(t){return mu(wc,t)},Sc=function(t){return zt(t,wc)},Cc=function(t){return yc((function(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.apply(void 0,A([n.getApis(),n],e,!1))}),t)},kc={init:function(){return Oc({readState:w("No State required")})}},Oc=function(t){return t},zc=function(t,n){var e=$(n,(function(t){return $i(t.name(),[Di("config"),Xi("state",kc)])})),r=wi("component.behaviours",ti(e),t.behaviours).fold((function(n){throw new Error(Ci(n)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),x);return{list:n,data:bt(r,(function(t){var n=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return w(n)}))}},Tc=function(t){return t.list},Mc=function(t){return t.data},Dc=function(t,n){var e={};return pt(t,(function(t,r){pt(t,(function(t,o){var i=zt(e,o).getOr([]);e[o]=i.concat([n(r,t)])}))})),e},_c=function(t){return{classes:l(t.classes)?[]:t.classes,attributes:l(t.attributes)?{}:t.attributes,styles:l(t.styles)?{}:t.styles}},Ac=function(t,n){return D(D({},t),{attributes:D(D({},t.attributes),n.attributes),styles:D(D({},t.styles),n.styles),classes:t.classes.concat(n.classes)})},Hc=function(t,n,e,r){var o=D({},n);q(e,(function(n){o[n.name()]=n.exhibit(t,r)}));var i=Dc(o,(function(t,n){return{name:t,modification:n}})),u=function(t){return J(t,(function(t,n){return D(D({},n.modification),t)}),{})},a=J(i.classes,(function(t,n){return n.modification.concat(t)}),[]),c=u(i.attributes),s=u(i.styles);return _c({classes:a,attributes:c,styles:s})},Ec=function(t,n,e,r){try{var o=st(e,(function(e,o){var i=e[n],u=o[n],a=r.indexOf(i),c=r.indexOf(u);if(-1===a)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===c)throw new Error("The ordering for "+t+" does not have an entry for "+u+".\nOrder specified: "+JSON.stringify(r,null,2));return a<c?-1:c<a?1:0}));return ro.value(o)}catch(i){return ro.error([i])}},Rc=function(t,n){return{handler:t,purpose:n}},Bc=function(t,n){return{cHandler:t,purpose:n}},Vc=function(t,n){return Bc(C.apply(void 0,[t.handler].concat(n)),t.purpose)},Ic=function(t){return t.cHandler},Pc=function(t,n){return{name:t,handler:n}},Lc=function(t,n){var e={};return q(t,(function(t){e[t.name()]=t.handlers(n)})),e},Fc=function(t,n,e){var r=D(D({},e),Lc(n,t));return Dc(r,Pc)},Nc=function(t,n,e,r){var o=Fc(t,e,r);return Gc(o,n)},jc=function(t){var n=zu(t);return function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[t,e].concat(r);n.abort.apply(void 0,i)?e.stop():n.can.apply(void 0,i)&&n.run.apply(void 0,i)}},Uc=function(t,n){return ro.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify($(n,(function(t){return t.name})),null,2)])},Wc=function(t,n,e){var r=n[e];return r?Ec("Event: "+e,"name",t,r).map((function(t){var n=$(t,(function(t){return t.handler}));return Tu(n)})):Uc(e,t)},Gc=function(t,n){var e=Ct(t,(function(t,e){var r=1===t.length?ro.value(t[0].handler):Wc(t,n,e);return r.map((function(r){var o=jc(r),i=t.length>1?Y(n[e],(function(n){return U(t,(function(t){return t.name===n}))})).join(" > "):t[0].name;return mu(e,Rc(o,i))}))}));return pu(e,{})},$c="alloy.base.behaviour",qc=ti([zi("dom","dom",ko(),ti([Di("tag"),Xi("styles",{}),Xi("classes",[]),Xi("attributes",{}),Fi("value"),Fi("innerHtml")])),Di("components"),Di("uid"),Xi("events",{}),Xi("apis",{}),zi("eventOrder","eventOrder",Do((au={},au[na()]=["disabling",$c,"toggling","typeaheadevents"],au[Ju()]=[$c,"focusing","keying"],au[aa()]=[$c,"disabling","toggling","representing"],au[ju()]=[$c,"representing","streaming","invalidating"],au[ma()]=[$c,"representing","item-events","tooltipping"],au[Eu()]=["focusing",$c,"item-type-events"],au[Du()]=["focusing",$c,"item-type-events"],au[Iu()]=["item-type-events","tooltipping"],au[ta()]=["receiving","reflecting","tooltipping"],au)),ui()),Fi("domModification")]),Xc=function(t){return wi("custom.definition",qc,t)},Kc=function(t){return D(D({},t.dom),{uid:t.uid,domChildren:$(t.components,(function(t){return t.element}))})},Yc=function(t){return t.domModification.fold((function(){return _c({})}),_c)},Jc=function(t){return t.events},Qc=function(t,n){var e=je(t,n);return void 0===e||""===e?[]:e.split(" ")},Zc=function(t,n,e){var r=Qc(t,n),o=r.concat([e]);return Fe(t,n,o.join(" ")),!0},ts=function(t,n,e){var r=Y(Qc(t,n),(function(t){return t!==e}));return r.length>0?Fe(t,n,r.join(" ")):Ge(t,n),!1},ns=function(t){return void 0!==t.dom.classList},es=function(t){return Qc(t,"class")},rs=function(t,n){return Zc(t,"class",n)},os=function(t,n){return ts(t,"class",n)},is=function(t,n){ns(t)?t.dom.classList.add(n):rs(t,n)},us=function(t){var n=ns(t)?t.dom.classList:es(t);0===n.length&&Ge(t,"class")},as=function(t,n){if(ns(t)){var e=t.dom.classList;e.remove(n)}else os(t,n);us(t)},cs=function(t,n){return ns(t)&&t.dom.classList.contains(n)},ss=function(t,n){q(n,(function(n){is(t,n)}))},ls=function(t,n){q(n,(function(n){as(t,n)}))},fs=function(t,n){return ot(n,(function(n){return cs(t,n)}))},ds=function(t){return t.dom.value},ms=function(t,n){if(void 0===n)throw new Error("Value.set was undefined");t.dom.value=n},gs=function(t){var n=nn.fromTag(t.tag);Ne(n,t.attributes),ss(n,t.classes),Ke(n,t.styles),t.innerHtml.each((function(t){return Xa(n,t)}));var e=t.domChildren;return Er(n,e),t.value.each((function(t){ms(n,t)})),t.uid,lc(n,t.uid),n},hs=function(t){var n=zt(t,"behaviours").getOr({});return rt(ht(n),(function(t){var e=n[t];return d(e)?[e.me]:[]}))},vs=function(t,n){return zc(t,n)},ps=function(t){var n=hs(t);return vs(t,n)},bs=function(t,n,e){var r=Kc(t),o=Yc(t),i={"alloy.base.modification":o},u=n.length>0?Hc(e,i,n,r):o;return Ac(r,u)},ys=function(t,n,e){var r={"alloy.base.behaviour":Jc(t)};return Nc(e,t.eventOrder,n,r).getOrDie()},ws=function(t){var n=function(){return y},e=ou(hc),r=xi(Xc(t)),o=ps(t),i=Tc(o),u=Mc(o),a=bs(r,i,u),c=gs(a),s=ys(r,i,u),l=ou(r.components),f=function(t){e.set(t)},d=function(){e.set(gc(n))},g=function(){var t=xe(c),n=rt(t,(function(t){return e.get().getByDom(t).fold((function(){return[]}),ct)}));l.set(n)},h=function(n){var e=u,r=m(e[n.name()])?e[n.name()]:function(){throw new Error("Could not find "+n.name()+" in "+JSON.stringify(t,null,2))};return r()},v=function(t){return m(u[t.name()])},p=function(){return r.apis},b=function(t){return u[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},y={uid:t.uid,getSystem:e.get,config:h,hasConfigured:v,spec:t,readState:b,getApis:p,connect:f,disconnect:d,element:c,syncComponents:g,components:l.get,events:s};return y},xs=function(t){var n=zt(t,"components").getOr([]);return $(n,Ts)},Ss=function(t){var n=mc(t),e=n.events,r=_(n,["events"]),o=xs(r),i=D(D({},r),{events:D(D({},ec),e),components:o});return ro.value(ws(i))},Cs=function(t){var n=nn.fromText(t);return ks({element:n})},ks=function(t){var n=Si("external.component",Zo([Di("element"),Fi("uid")]),t),e=ou(gc()),r=function(t){e.set(t)},o=function(){e.set(gc((function(){return u})))},i=n.uid.getOrThunk((function(){return dc("external")}));lc(n.element,i);var u={uid:i,getSystem:e.get,config:V.none,hasConfigured:z,connect:r,disconnect:o,getApis:function(){return{}},element:n.element,spec:t,readState:w("No state"),syncComponents:v,components:w([]),events:{}};return xc(u)},Os=dc,zs=function(t){return Tt(t,"uid")},Ts=function(t){return Sc(t).getOrThunk((function(){var n=zs(t)?t:D({uid:Os("")},t);return Ss(n).getOrDie()}))},Ms=xc;function Ds(t,n,e,r,o){return t(e,r)?V.some(e):m(o)&&o(e)?V.none():n(e,r,o)}var _s,As=function(t,n,e){var r=t.dom,o=m(e)?e:z;while(r.parentNode){r=r.parentNode;var i=nn.fromDom(r);if(n(i))return V.some(i);if(o(i))break}return V.none()},Hs=function(t,n,e){var r=function(t,n){return n(t)};return Ds(r,As,t,n,e)},Es=function(t,n){var e=function(t){return n(nn.fromDom(t))},r=tt(t.dom.childNodes,e);return r.map(nn.fromDom)},Rs=function(t,n){var e=function(t){for(var r=0;r<t.childNodes.length;r++){var o=nn.fromDom(t.childNodes[r]);if(n(o))return V.some(o);var i=e(t.childNodes[r]);if(i.isSome())return i}return V.none()};return e(t.dom)},Bs=function(t,n,e){return Hs(t,n,e).isSome()},Vs=function(t,n,e){return As(t,(function(t){return ie(t,n)}),e)},Is=function(t,n){return Es(t,(function(t){return ie(t,n)}))},Ps=function(t,n){return ce(n,t)},Ls=function(t,n,e){var r=function(t,n){return ie(t,n)};return Ds(r,Vs,t,n,e)},Fs=function(t){var n=Hs(t,(function(t){if(!fn(t))return!1;var n=je(t,"id");return void 0!==n&&n.indexOf("aria-owns")>-1}));return n.bind((function(t){var n=je(t,"id"),e=De(t);return Ps(e,'[aria-owns="'+n+'"]')}))},Ns=function(){var t=oc("aria-owns"),n=function(n){Fe(n,"aria-owns",t)},e=function(t){Ge(t,"aria-owns")};return{id:t,link:n,unlink:e}},js=function(t,n){return Fs(n).exists((function(n){return Us(t,n)}))},Us=function(t,n){return Bs(n,(function(n){return se(n,t.element)}),z)||js(t,n)},Ws="unknown";(function(t){t[t["STOP"]=0]="STOP",t[t["NORMAL"]=1]="NORMAL",t[t["LOGGING"]=2]="LOGGING"})(_s||(_s={}));var Gs=ou({}),$s=function(t,n){var e=[],r=(new Date).getTime();return{logEventCut:function(t,n,r){e.push({outcome:"cut",target:n,purpose:r})},logEventStopped:function(t,n,r){e.push({outcome:"stopped",target:n,purpose:r})},logNoParent:function(t,n,r){e.push({outcome:"no-parent",target:n,purpose:r})},logEventNoHandlers:function(t,n){e.push({outcome:"no-handlers-left",target:n})},logEventResponse:function(t,n,r){e.push({outcome:"response",purpose:r,target:n})},write:function(){var o=(new Date).getTime();j(["mousemove","mouseover","mouseout",aa()],t)||console.log(t,{event:t,time:o-r,target:n.dom,sequence:$(e,(function(t){return j(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Za(t.target)+")":t.outcome}))})}}},qs=function(t,n,e){var r=zt(Gs.get(),t).orThunk((function(){var n=ht(Gs.get());return gt(n,(function(n){return t.indexOf(n)>-1?V.some(Gs.get()[n]):V.none()}))})).getOr(_s.NORMAL);switch(r){case _s.NORMAL:return e(Qs());case _s.LOGGING:var o=$s(t,n),i=e(o);return o.write(),i;case _s.STOP:return!0}},Xs=["alloy/data/Fields","alloy/debugging/Debugging"],Ks=function(){var t=new Error;if(void 0!==t.stack){var n=t.stack.split("\n");return tt(n,(function(t){return t.indexOf("alloy")>0&&!U(Xs,(function(n){return t.indexOf(n)>-1}))})).getOr(Ws)}return Ws},Ys={logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v},Js=function(t,n,e){return qs(t,n,e)},Qs=w(Ys),Zs=w([Di("menu"),Di("selectedMenu")]),tl=w([Di("item"),Di("selectedItem")]);w(ti(tl().concat(Zs())));var nl=w(ti(tl())),el=Ii("initSize",[Di("numColumns"),Di("numRows")]),rl=function(){return _i("markers",nl())},ol=function(){return Ii("markers",[Di("backgroundMenu")].concat(Zs()).concat(tl()))},il=function(t){return Ii("markers",$(t,Di))},ul=function(t,n,e){return Ks(),zi(n,n,e,pi((function(t){return ro.value((function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.apply(void 0,n)}))})))},al=function(t){return ul("onHandler",t,zo(v))},cl=function(t){return ul("onKeyboardHandler",t,zo(V.none))},sl=function(t){return ul("onHandler",t,ko())},ll=function(t){return ul("onKeyboardHandler",t,ko())},fl=function(t,n){return Ti(t,w(n))},dl=function(t){return Ti(t,x)},ml=w(el),gl=function(t,n,e,r,o,i,u,a){return void 0===a&&(a=!1),{x:t,y:n,bubble:e,direction:r,placement:o,restriction:i,label:u+"-"+o,alwaysFit:a}},hl=uu.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),vl=function(t,n,e,r,o,i,u,a,c){return t.fold(n,e,r,o,i,u,a,c)},pl=function(t,n,e,r){return t.fold(n,n,r,r,n,r,e,e)},bl=function(t,n,e,r){return t.fold(n,r,n,r,e,e,n,r)},yl=hl.southeast,wl=hl.southwest,xl=hl.northeast,Sl=hl.northwest,Cl=hl.south,kl=hl.north,Ol=hl.east,zl=hl.west,Tl=function(t,n,e,r){var o=t+n;return o>r?e:o<e?r:o},Ml=function(t,n,e){return Math.min(Math.max(t,n),e)},Dl=function(t,n){switch(n){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},_l=function(t,n){return at(["left","right","top","bottom"],(function(e){return zt(n,e).map((function(n){return Dl(t,n)}))}))},Al=function(t,n,e){var r=function(r,o){return n[r].map((function(n){var i="top"===r||"bottom"===r,u=i?e.top:e.left,a="left"===r||"top"===r?Math.max:Math.min,c=a(n,o)+u;return i?Ml(c,t.y,t.bottom):Ml(c,t.x,t.right)})).getOr(o)},o=r("left",t.x),i=r("top",t.y),u=r("right",t.right),a=r("bottom",t.bottom);return Yr(o,i,u-o,a-i)},Hl="layout",El=function(t){return t.x},Rl=function(t,n){return t.x+t.width/2-n.width/2},Bl=function(t,n){return t.x+t.width-n.width},Vl=function(t,n){return t.y-n.height},Il=function(t){return t.y+t.height},Pl=function(t,n){return t.y+t.height/2-n.height/2},Ll=function(t){return t.x+t.width},Fl=function(t,n){return t.x-n.width},Nl=function(t,n,e){return gl(El(t),Il(t),e.southeast(),yl(),"southeast",_l(t,{left:1,top:3}),Hl)},jl=function(t,n,e){return gl(Bl(t,n),Il(t),e.southwest(),wl(),"southwest",_l(t,{right:0,top:3}),Hl)},Ul=function(t,n,e){return gl(El(t),Vl(t,n),e.northeast(),xl(),"northeast",_l(t,{left:1,bottom:2}),Hl)},Wl=function(t,n,e){return gl(Bl(t,n),Vl(t,n),e.northwest(),Sl(),"northwest",_l(t,{right:0,bottom:2}),Hl)},Gl=function(t,n,e){return gl(Rl(t,n),Vl(t,n),e.north(),kl(),"north",_l(t,{bottom:2}),Hl)},$l=function(t,n,e){return gl(Rl(t,n),Il(t),e.south(),Cl(),"south",_l(t,{top:3}),Hl)},ql=function(t,n,e){return gl(Ll(t),Pl(t,n),e.east(),Ol(),"east",_l(t,{left:0}),Hl)},Xl=function(t,n,e){return gl(Fl(t,n),Pl(t,n),e.west(),zl(),"west",_l(t,{right:1}),Hl)},Kl=function(){return[Nl,jl,Ul,Wl,$l,Gl,ql,Xl]},Yl=function(){return[jl,Nl,Wl,Ul,$l,Gl,ql,Xl]},Jl=function(){return[Ul,Wl,Nl,jl,Gl,$l]},Ql=function(){return[Wl,Ul,jl,Nl,Gl,$l]},Zl=function(){return[Nl,jl,Ul,Wl,$l,Gl]},tf=function(){return[jl,Nl,Wl,Ul,$l,Gl]},nf=function(t,n){return n.universal?t:Y(t,(function(t){return j(n.channels,t)}))},ef=function(t){return Ma([Ha(ta(),(function(n,e){var r=t.channels,o=ht(r),i=e,u=nf(o,i);q(u,(function(t){var e=r[t],o=e.schema,u=Si("channel["+t+"] data\nReceiver: "+Za(n.element),o,i.data);e.onReceive(n,u)}))}))])},rf=Object.freeze({__proto__:null,events:ef}),of=[_i("channels",bi(ro.value,Zo([sl("onReceive"),Xi("schema",ui())])))],uf=function(t,n,e){return Ga((function(r){e(r,t,n)}))},af=function(t,n,e){return Wa((function(r,o){e(r,t,n)}))},cf=function(t,n,e,r,o,i){var u=Zo(t),a=$i(n,[qi("config",t)]);return df(u,a,n,e,r,o,i)},sf=function(t,n,e,r,o,i){var u=t,a=$i(n,[Ni("config",t)]);return df(u,a,n,e,r,o,i)},lf=function(t,n,e){var r=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var u=[r].concat(o);return r.config({name:w(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+e)}),(function(t){var e=Array.prototype.slice.call(u,1);return n.apply(void 0,[r,t.config,t.state].concat(e))}))};return vc(r,e,n)},ff=function(t){return{key:t,value:void 0}},df=function(t,n,e,r,o,i,u){var a=function(t){return Mt(t,e)?t[e]():V.none()},c=bt(o,(function(t,n){return lf(e,t,n)})),s=bt(i,(function(t,n){return bc(t,n)})),l=D(D(D({},s),c),{revoke:C(ff,e),config:function(n){var r=Si(e+"-config",t,n);return{key:e,value:{config:r,me:l,configAsRaw:hn((function(){return Si(e+"-config",t,n)})),initialConfig:n,state:u}}},schema:w(n),exhibit:function(t,n){return Et(a(t),zt(r,"exhibit"),(function(t,e){return e(n,t.config,t.state)})).getOrThunk((function(){return _c({})}))},name:w(e),handlers:function(t){return a(t).map((function(t){var n=zt(r,"events").getOr((function(){return{}}));return n(t.config,t.state)})).getOr({})}});return l},mf=function(t){return gu(t)},gf=Zo([Di("fields"),Di("name"),Xi("active",{}),Xi("apis",{}),Xi("state",kc),Xi("extra",{})]),hf=function(t){var n=Si("Creating behaviour: "+t.name,gf,t);return cf(n.fields,n.name,n.active,n.apis,n.extra,n.state)},vf=Zo([Di("branchKey"),Di("branches"),Di("name"),Xi("active",{}),Xi("apis",{}),Xi("state",kc),Xi("extra",{})]),pf=function(t){var n=Si("Creating behaviour: "+t.name,vf,t);return sf(ki(n.branchKey,n.branches),n.name,n.active,n.apis,n.extra,n.state)},bf=w(void 0),yf=hf({fields:of,name:"receiving",active:rf}),wf=function(t,n){return _c({classes:[],styles:n.useFixed()?{}:{position:"relative"}})},xf=Object.freeze({__proto__:null,exhibit:wf}),Sf=function(){return nn.fromDom(document)},Cf=function(t){return t.dom.focus()},kf=function(t){return t.dom.blur()},Of=function(t){var n=De(t).dom;return t.dom===n.activeElement},zf=function(t){return void 0===t&&(t=Sf()),V.from(t.dom.activeElement).map(nn.fromDom)},Tf=function(t){return zf(De(t)).filter((function(n){return t.dom.contains(n.dom)}))},Mf=function(t,n){var e=De(n),r=zf(e).bind((function(t){var e=function(n){return se(t,n)};return e(n)?V.some(n):Rs(n,e)})),o=t(n);return r.each((function(t){zf(e).filter((function(n){return se(n,t)})).fold((function(){Cf(t)}),v)})),o},Df=function(t,n,e,r,o){var i=function(t){return t+"px"};return{position:t,left:n.map(i),top:e.map(i),right:r.map(i),bottom:o.map(i)}},_f=function(t){return D(D({},t),{position:V.some(t.position)})},Af=function(t,n){Ye(t,_f(n))},Hf=uu.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ef=function(t,n,e,r,o,i){var u=n.rect,a=u.x-e,c=u.y-r,s=u.width,l=u.height,f=o-(a+s),d=i-(c+l),m=V.some(a),g=V.some(c),h=V.some(f),v=V.some(d),p=V.none();return vl(n.direction,(function(){return Df(t,m,g,p,p)}),(function(){return Df(t,p,g,h,p)}),(function(){return Df(t,m,p,p,v)}),(function(){return Df(t,p,p,h,v)}),(function(){return Df(t,m,g,p,p)}),(function(){return Df(t,m,p,p,v)}),(function(){return Df(t,m,g,p,p)}),(function(){return Df(t,p,g,h,p)}))},Rf=function(t,n){return t.fold((function(){var t=n.rect;return Df("absolute",V.some(t.x),V.some(t.y),V.none(),V.none())}),(function(t,e,r,o){return Ef("absolute",n,t,e,r,o)}),(function(t,e,r,o){return Ef("fixed",n,t,e,r,o)}))},Bf=function(t,n){var e=C(qr,n),r=t.fold(e,e,(function(){var t=Ir();return qr(n).translate(-t.left,-t.top)})),o=br(n),i=ar(n);return Yr(r.left,r.top,o,i)},Vf=function(t,n){return n.fold((function(){return t.fold(Zr,Zr,Yr)}),(function(n){return t.fold(n,n,(function(){var e=n(),r=If(t,e.x,e.y);return Yr(r.left,r.top,e.width,e.height)}))}))},If=function(t,n,e){var r=lr(n,e),o=function(){var t=Ir();return r.translate(-t.left,-t.top)};return t.fold(w(r),w(r),o)},Pf=function(t,n,e,r){return t.fold(n,e,r)};Hf.none;var Lf,Ff=Hf.relative,Nf=Hf.fixed,jf=function(t,n){return{anchorBox:t,origin:n}},Uf=function(t,n){return jf(t,n)},Wf="data-alloy-placement",Gf=function(t,n){Fe(t,Wf,n)},$f=function(t){return Ue(t,Wf)},qf=function(t){return Ge(t,Wf)},Xf=uu.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Kf=function(t,n){var e=n.x,r=n.y,o=n.right,i=n.bottom,u=t.x,a=t.y,c=t.right,s=t.bottom,l=t.width,f=t.height,d=u>=e&&u<=o,m=a>=r&&a<=i,g=d&&m,h=c<=o&&c>=e,v=s<=i&&s>=r,p=h&&v,b=Math.min(l,u>=e?o-u:c-e),y=Math.min(f,a>=r?i-a:s-r);return{originInBounds:g,sizeInBounds:p,visibleW:b,visibleH:y}},Yf=function(t,n){var e=n.x,r=n.y,o=n.right,i=n.bottom,u=t.x,a=t.y,c=t.width,s=t.height,l=Math.max(e,o-c),f=Math.max(r,i-s),d=Ml(u,e,l),m=Ml(a,r,f),g=Math.min(d+c,o)-d,h=Math.min(m+s,i)-m;return Yr(d,m,g,h)},Jf=function(t,n,e){var r=w(n.bottom-e.y),o=w(e.bottom-n.y),i=pl(t,o,o,r),u=w(n.right-e.x),a=w(e.right-n.x),c=bl(t,a,a,u);return{maxWidth:c,maxHeight:i}},Qf=function(t,n,e,r){var o=t.bubble,i=o.offset,u=Al(r,t.restriction,i),a=t.x+i.left,c=t.y+i.top,s=Yr(a,c,n,e),l=Kf(s,u),f=l.originInBounds,d=l.sizeInBounds,m=l.visibleW,g=l.visibleH,h=f&&d,v=h?s:Yf(s,u),p=v.width>0&&v.height>0,b=Jf(t.direction,v,r),y=b.maxWidth,w=b.maxHeight,x={rect:v,maxHeight:w,maxWidth:y,direction:t.direction,placement:t.placement,classes:{on:o.classesOn,off:o.classesOff},layout:t.label,testY:c};return h||t.alwaysFit?Xf.fit(x):Xf.nofit(x,m,g,p)},Zf=function(t,n,e,r,o,i){var u=r.width,a=r.height,c=function(n,c,s,l,f){var d=n(e,r,o,t,i),m=Qf(d,u,a,i);return m.fold(w(m),(function(t,n,e,r){var o=f===r?e>l||n>s:!f&&r;return o?m:Xf.nofit(c,s,l,f)}))},s=Q(n,(function(t,n){var e=C(c,n);return t.fold(w(t),e)}),Xf.nofit({rect:e,maxHeight:r.height,maxWidth:r.width,direction:yl(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:e.y},-1,-1,!1));return s.fold(x,x)},td=function(t){var n=ou(V.none()),e=function(){return n.get().each(t)},r=function(){e(),n.set(V.none())},o=function(){return n.get().isSome()},i=function(){return n.get()},u=function(t){e(),n.set(V.some(t))};return{clear:r,isSet:o,get:i,set:u}},nd=function(){return td((function(t){return t.destroy()}))},ed=function(){return td((function(t){return t.unbind()}))},rd=function(){var t=nd(),n=function(n){return t.get().each(n)};return D(D({},t),{run:n})},od=function(){var t=td(v),n=function(n){return t.get().each(n)};return D(D({},t),{on:n})},id=T,ud=function(t,n,e){return kr(t,n,id,e)},ad=function(t,n,e){return Or(t,n,id,e)},cd=xr,sd=["top","bottom","right","left"],ld="data-alloy-transition-timer",fd=function(t,n){return fs(t,n.classes)},dd=function(t,n,e){return e.exists((function(e){var r=t.mode;return"all"===r||e[r]!==n[r]}))},md=function(t,n){var e=function(t){return parseFloat(t).toFixed(3)};return kt(n,(function(n,r){var o=t[r].map(e),i=n.map(e);return!_t(o,i)})).isSome()},gd=function(t){var n=function(n){var e=Je(t,n),r=i(e)?e.split(/\s*,\s*/):[];return Y(r,qt)},e=function(t){if(i(t)&&/^[\d.]+/.test(t)){var n=parseFloat(t);return Wt(t,"ms")?n:1e3*n}return 0},r=n("transition-delay"),o=n("transition-duration");return Q(o,(function(t,n,o){var i=e(r[o])+e(n);return Math.max(t,i)}),0)},hd=function(t,n){var e,r=ed(),o=ed(),i=function(n){var e,r=null!==(e=n.raw.pseudoElement)&&void 0!==e?e:"";return se(n.target,t)&&Xt(r)&&j(sd,n.raw.propertyName)},u=function(u){if(f(u)||i(u)){r.clear(),o.clear();var a=null===u||void 0===u?void 0:u.raw.type;(f(a)||a===$u())&&(clearTimeout(e),Ge(t,ld),ls(t,n.classes))}},a=function(){r.set(ud(t,$u(),u)),o.set(ud(t,Gu(),u))};if("ontransitionstart"in t.dom)var c=ud(t,qu(),(function(t){i(t)&&(c.unbind(),a())}));else a();var s=gd(t);requestAnimationFrame((function(){e=setTimeout(u,s+17),Fe(t,ld,e)}))},vd=function(t,n){ss(t,n.classes),Ue(t,ld).each((function(n){clearTimeout(parseInt(n,10)),Ge(t,ld)})),hd(t,n)},pd=function(t,n,e,r,o,i){var u=dd(r,o,i);if(u||fd(t,r)){Xe(t,"position",e.position);var a=Bf(n,t),c=Rf(n,D(D({},o),{rect:a})),s=at(sd,(function(t){return c[t]}));md(e,s)&&(Ye(t,s),u&&vd(t,r),rr(t))}else ls(t,r.classes)},bd=function(t){return{width:br(t),height:ar(t)}},yd=function(t,n,e,r){er(n,"max-height"),er(n,"max-width");var o=bd(n);return Zf(n,r.preference,t,o,e,r.bounds)},wd=function(t,n){var e=n.classes;ls(t,e.off),ss(t,e.on)},xd=function(t,n,e){var r=e.maxHeightFunction;r(t,n.maxHeight)},Sd=function(t,n,e){var r=e.maxWidthFunction;r(t,n.maxWidth)},Cd=function(t,n,e){var r=Rf(e.origin,n);e.transition.each((function(o){pd(t,e.origin,r,o,n,e.lastPlacement)})),Af(t,r)},kd=function(t,n){Gf(t,n.placement)},Od=function(t,n){cr(t,Math.floor(n))},zd=w((function(t,n){Od(t,n),Ke(t,{"overflow-x":"hidden","overflow-y":"auto"})})),Td=w((function(t,n){Od(t,n)})),Md=function(t,n,e){return void 0===t[n]?e:t[n]},Dd=function(t,n,e,r,o,i,u,a){var c=Md(u,"maxHeightFunction",zd()),s=Md(u,"maxWidthFunction",v),l=t.anchorBox,f=t.origin,d={bounds:Vf(f,i),origin:f,preference:r,maxHeightFunction:c,maxWidthFunction:s,lastPlacement:o,transition:a};return _d(l,n,e,d)},_d=function(t,n,e,r){var o=yd(t,n,e,r);return Cd(n,o,r),kd(n,o),wd(n,o),xd(n,o,r),Sd(n,o,r),{layout:o.layout,placement:o.placement}},Ad=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Hd=function(t,n,e,r){void 0===r&&(r=1);var o=t*r,i=n*r,u=function(t){return zt(e,t).getOr([])},a=function(t,n,e){var r=ut(Ad,e);return{offset:lr(t,n),classesOn:rt(e,u),classesOff:rt(r,u)}};return{southeast:function(){return a(-t,n,["top","alignLeft"])},southwest:function(){return a(t,n,["top","alignRight"])},south:function(){return a(-t/2,n,["top","alignCentre"])},northeast:function(){return a(-t,-n,["bottom","alignLeft"])},northwest:function(){return a(t,-n,["bottom","alignRight"])},north:function(){return a(-t/2,-n,["bottom","alignCentre"])},east:function(){return a(t,-n/2,["valignCentre","left"])},west:function(){return a(-t,-n/2,["valignCentre","right"])},insetNortheast:function(){return a(o,i,["top","alignLeft","inset"])},insetNorthwest:function(){return a(-o,i,["top","alignRight","inset"])},insetNorth:function(){return a(-o/2,i,["top","alignCentre","inset"])},insetSoutheast:function(){return a(o,-i,["bottom","alignLeft","inset"])},insetSouthwest:function(){return a(-o,-i,["bottom","alignRight","inset"])},insetSouth:function(){return a(-o/2,-i,["bottom","alignCentre","inset"])},insetEast:function(){return a(-o,-i/2,["valignCentre","right","inset"])},insetWest:function(){return a(o,-i/2,["valignCentre","left","inset"])}}},Ed=function(){return Hd(0,0,{})},Rd=x,Bd=function(t,n){return function(e){return"rtl"===Vd(e)?n:t}},Vd=function(t){return"rtl"===Je(t,"direction")?"rtl":"ltr"};(function(t){t["TopToBottom"]="toptobottom",t["BottomToTop"]="bottomtotop"})(Lf||(Lf={}));var Id="data-alloy-vertical-dir",Pd=function(t){return Bs(t,(function(t){return fn(t)&&je(t,"data-alloy-vertical-dir")===Lf.BottomToTop}))},Ld=function(){return $i("layouts",[Di("onLtr"),Di("onRtl"),Fi("onBottomLtr"),Fi("onBottomRtl")])},Fd=function(t,n,e,r,o,i,u){var a=u.map(Pd).getOr(!1),c=n.layouts.map((function(n){return n.onLtr(t)})),s=n.layouts.map((function(n){return n.onRtl(t)})),l=a?n.layouts.bind((function(n){return n.onBottomLtr.map((function(n){return n(t)}))})).or(c).getOr(o):c.getOr(e),f=a?n.layouts.bind((function(n){return n.onBottomRtl.map((function(n){return n(t)}))})).or(s).getOr(i):s.getOr(r),d=Bd(l,f);return d(t)},Nd=function(t,n,e){var r=n.hotspot,o=Bf(e,r.element),i=Fd(t.element,n,Zl(),tf(),Jl(),Ql(),V.some(n.hotspot.element));return V.some(Rd({anchorBox:o,bubble:n.bubble.getOr(Ed()),overrides:n.overrides,layouts:i,placer:V.none()}))},jd=[Di("hotspot"),Fi("bubble"),Xi("overrides",{}),Ld(),fl("placement",Nd)],Ud=function(t,n,e){var r=If(e,n.x,n.y),o=Yr(r.left,r.top,n.width,n.height),i=Fd(t.element,n,Kl(),Yl(),Kl(),Yl(),V.none());return V.some(Rd({anchorBox:o,bubble:n.bubble,overrides:n.overrides,layouts:i,placer:V.none()}))},Wd=[Di("x"),Di("y"),Xi("height",0),Xi("width",0),Xi("bubble",Ed()),Xi("overrides",{}),Ld(),fl("placement",Ud)],Gd=uu.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),$d=function(t){return t.fold(x,(function(t,n,e){return t.translate(-n,-e)}))},qd=function(t){return t.fold(x,x)},Xd=function(t){return Q(t,(function(t,n){return t.translate(n.left,n.top)}),lr(0,0))},Kd=function(t){var n=$(t,$d);return Xd(n)},Yd=function(t){var n=$(t,qd);return Xd(n)},Jd=Gd.screen,Qd=Gd.absolute,Zd=function(t,n,e){var r=ve(e.root).dom,o=function(n){var e=me(n),r=me(t.element);return se(e,r)};return V.from(r.frameElement).map(nn.fromDom).filter(o).map(mr)},tm=function(t,n,e){var r=me(t.element),o=Ir(r),i=Zd(t,n,e).getOr(o);return Qd(i,o.left,o.top)},nm=function(t,n,e,r){var o=Jd(lr(t,n));return V.some(Xr(o,e,r))},em=function(t,n,e,r,o){return t.map((function(t){var i=[n,t.point],u=Pf(r,(function(){return Yd(i)}),(function(){return Yd(i)}),(function(){return Kd(i)})),a=Kr(u.left,u.top,t.width,t.height),c=e.showAbove?Jl():Zl(),s=e.showAbove?Ql():tf(),l=Fd(o,e,c,s,c,s,V.none());return Rd({anchorBox:a,bubble:e.bubble.getOr(Ed()),overrides:e.overrides,layouts:l,placer:V.none()})}))},rm=function(t,n,e){var r=tm(t,e,n);return n.node.filter(Ve).bind((function(o){var i=o.dom.getBoundingClientRect(),u=nm(i.left,i.top,i.width,i.height),a=n.node.getOr(t.element);return em(u,r,n,e,a)}))},om=[Di("node"),Di("root"),Fi("bubble"),Ld(),Xi("overrides",{}),Xi("showAbove",!1),fl("placement",rm)],im="\ufeff",um="",am=function(t,n,e,r){return{start:t,soffset:n,finish:e,foffset:r}},cm={create:am},sm=uu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),lm=function(t,n,e,r){return t.fold(n,e,r)},fm=function(t){return t.fold(x,x,x)},dm=sm.before,mm=sm.on,gm=sm.after,hm={before:dm,on:mm,after:gm,cata:lm,getStart:fm},vm=uu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pm=function(t){return vm.exact(t.start,t.soffset,t.finish,t.foffset)},bm=function(t){return t.match({domRange:function(t){return nn.fromDom(t.startContainer)},relative:function(t,n){return hm.getStart(t)},exact:function(t,n,e,r){return t}})},ym=vm.domRange,wm=vm.relative,xm=vm.exact,Sm=function(t){var n=bm(t);return ve(n)},Cm=cm.create,km={domRange:ym,relative:wm,exact:xm,exactFromRange:pm,getWin:Sm,range:Cm},Om=function(t,n){n.fold((function(n){t.setStartBefore(n.dom)}),(function(n,e){t.setStart(n.dom,e)}),(function(n){t.setStartAfter(n.dom)}))},zm=function(t,n){n.fold((function(n){t.setEndBefore(n.dom)}),(function(n,e){t.setEnd(n.dom,e)}),(function(n){t.setEndAfter(n.dom)}))},Tm=function(t,n,e){var r=t.document.createRange();return Om(r,n),zm(r,e),r},Mm=function(t,n,e,r,o){var i=t.document.createRange();return i.setStart(n.dom,e),i.setEnd(r.dom,o),i},Dm=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},_m=function(t){var n=t.getClientRects(),e=n.length>0?n[0]:t.getBoundingClientRect();return e.width>0||e.height>0?V.some(e).map(Dm):V.none()},Am=function(t){var n=t.getBoundingClientRect();return n.width>0||n.height>0?V.some(n).map(Dm):V.none()},Hm=uu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Em=function(t,n,e){return n(nn.fromDom(e.startContainer),e.startOffset,nn.fromDom(e.endContainer),e.endOffset)},Rm=function(t,n){return n.match({domRange:function(t){return{ltr:w(t),rtl:V.none}},relative:function(n,e){return{ltr:hn((function(){return Tm(t,n,e)})),rtl:hn((function(){return V.some(Tm(t,e,n))}))}},exact:function(n,e,r,o){return{ltr:hn((function(){return Mm(t,n,e,r,o)})),rtl:hn((function(){return V.some(Mm(t,r,o,n,e))}))}}})},Bm=function(t,n){var e=n.ltr();if(e.collapsed){var r=n.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return Hm.rtl(nn.fromDom(t.endContainer),t.endOffset,nn.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return Em(t,Hm.ltr,e)}))}return Em(t,Hm.ltr,e)},Vm=function(t,n){var e=Rm(t,n);return Bm(t,e)},Im=function(t,n){var e=Vm(t,n);return e.match({ltr:function(n,e,r,o){var i=t.document.createRange();return i.setStart(n.dom,e),i.setEnd(r.dom,o),i},rtl:function(n,e,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(n.dom,e),i}})};Hm.ltr,Hm.rtl;var Pm,Lm=function(t,n){var e=function(e){if(!t(e))throw new Error("Can only get "+n+" value of a "+n+" node");return r(e).getOr("")},r=function(n){return t(n)?V.from(n.dom.nodeValue):V.none()},o=function(e,r){if(!t(e))throw new Error("Can only set raw "+n+" value of a "+n+" node");e.dom.nodeValue=r};return{get:e,getOption:r,set:o}},Fm=Lm(dn,"text"),Nm=function(t){return Fm.get(t)},jm=function(t){return Fm.getOption(t)},Um=function(t){return"img"===cn(t)?1:jm(t).fold((function(){return xe(t).length}),(function(t){return t.length}))},Wm=function(t){return jm(t).filter((function(t){return 0!==t.trim().length||t.indexOf(um)>-1})).isSome()},Gm=["img","br"],$m=function(t){var n=Wm(t);return n||j(Gm,cn(t))},qm=function(t){return Xm(t,$m)},Xm=function(t,n){var e=function(t){for(var r=xe(t),o=r.length-1;o>=0;o--){var i=r[o];if(n(i))return V.some(i);var u=e(i);if(u.isSome())return u}return V.none()};return e(t)},Km=function(t,n){return ae(n,t)},Ym=function(t,n,e,r){var o=me(t),i=o.dom.createRange();return i.setStart(t.dom,n),i.setEnd(e.dom,r),i},Jm=function(t,n,e,r){var o=Ym(t,n,e,r),i=se(t,e)&&n===r;return o.collapsed&&!i},Qm=function(t){return V.from(t.getSelection())},Zm=function(t){if(t.rangeCount>0){var n=t.getRangeAt(0),e=t.getRangeAt(t.rangeCount-1);return V.some(cm.create(nn.fromDom(n.startContainer),n.startOffset,nn.fromDom(e.endContainer),e.endOffset))}return V.none()},tg=function(t){if(null===t.anchorNode||null===t.focusNode)return Zm(t);var n=nn.fromDom(t.anchorNode),e=nn.fromDom(t.focusNode);return Jm(n,t.anchorOffset,e,t.focusOffset)?V.some(cm.create(n,t.anchorOffset,e,t.focusOffset)):Zm(t)},ng=function(t){return Qm(t).filter((function(t){return t.rangeCount>0})).bind(tg)},eg=function(t,n){var e=Im(t,n);return _m(e)},rg=function(t,n){var e=Im(t,n);return Am(e)},og=function(t,n){return{element:t,offset:n}},ig=function(t,n){var e=xe(t);if(0===e.length)return og(t,n);if(n<e.length)return og(e[n],0);var r=e[e.length-1],o=dn(r)?Nm(r).length:xe(r).length;return og(r,o)},ug=function(t,n){return dn(t)?og(t,n):ig(t,n)},ag=function(t,n){var e=n.getSelection.getOrThunk((function(){return function(){return ng(t)}}));return e().map((function(t){var n=ug(t.start,t.soffset),e=ug(t.finish,t.foffset);return km.range(n.element,n.offset,e.element,e.offset)}))},cg=function(t,n,e){var r=ve(n.root).dom,o=tm(t,e,n),i=ag(r,n).bind((function(t){var n=rg(r,km.exactFromRange(t)).orThunk((function(){var n=nn.fromText(im);Tr(t.start,n);var e=eg(r,km.exact(n,0,n,1));return Br(n),e}));return n.bind((function(t){return nm(t.left,t.top,t.width,t.height)}))})),u=ag(r,n).bind((function(t){return fn(t.start)?V.some(t.start):be(t.start)})),a=u.getOr(t.element);return em(i,o,n,e,a)},sg=[Fi("getSelection"),Di("root"),Fi("bubble"),Ld(),Xi("overrides",{}),Xi("showAbove",!1),fl("placement",cg)],lg="link-layout",fg=function(t){return t.x+t.width},dg=function(t,n){return t.x-n.width},mg=function(t,n){return t.y-n.height+t.height},gg=function(t){return t.y},hg=function(t,n,e){return gl(fg(t),gg(t),e.southeast(),yl(),"southeast",_l(t,{left:0,top:2}),lg)},vg=function(t,n,e){return gl(dg(t,n),gg(t),e.southwest(),wl(),"southwest",_l(t,{right:1,top:2}),lg)},pg=function(t,n,e){return gl(fg(t),mg(t,n),e.northeast(),xl(),"northeast",_l(t,{left:0,bottom:3}),lg)},bg=function(t,n,e){return gl(dg(t,n),mg(t,n),e.northwest(),Sl(),"northwest",_l(t,{right:1,bottom:3}),lg)},yg=function(){return[hg,vg,pg,bg]},wg=function(){return[vg,hg,bg,pg]},xg=function(t,n,e){var r=Bf(e,n.item.element),o=Fd(t.element,n,yg(),wg(),yg(),wg(),V.none());return V.some(Rd({anchorBox:r,bubble:Ed(),overrides:n.overrides,layouts:o,placer:V.none()}))},Sg=[Di("item"),Ld(),Xi("overrides",{}),fl("placement",xg)],Cg=ki("type",{selection:sg,node:om,hotspot:jd,submenu:Sg,makeshift:Wd}),kg=[Li("classes",si),Qi("mode","all",["all","layout","placement"])],Og=[Xi("useFixed",z),Fi("getBounds")],zg=[_i("anchor",Cg),$i("transition",kg)],Tg=function(){var t=document.documentElement;return Nf(0,0,t.clientWidth,t.clientHeight)},Mg=function(t){var n=mr(t.element),e=t.element.dom.getBoundingClientRect();return Ff(n.left,n.top,e.width,e.height)},Dg=function(t,n,e,r,o,i,u){var a=Uf(e.anchorBox,n);return Dd(a,o.element,e.bubble,e.layouts,i,r,e.overrides,u)},_g=function(t,n,e,r,o){Ag(t,n,e,r,o,V.none())},Ag=function(t,n,e,r,o,i){var u=i.map(Jr);return Hg(t,n,e,r,o,u)},Hg=function(t,n,e,r,o,i){var u=Si("placement.info",ti(zg),o),a=u.anchor,c=r.element,s=e.get(r.uid);Mf((function(){Xe(c,"position","fixed");var o=Ze(c,"visibility");Xe(c,"visibility","hidden");var l=n.useFixed()?Tg():Mg(t),f=a.placement,d=i.map(w).or(n.getBounds);f(t,a,l).each((function(n){var o=n.placer.getOr(Dg),i=o(t,l,n,d,r,s,u.transition);e.set(r.uid,i)})),o.fold((function(){er(c,"visibility")}),(function(t){Xe(c,"visibility",t)})),Ze(c,"left").isNone()&&Ze(c,"top").isNone()&&Ze(c,"right").isNone()&&Ze(c,"bottom").isNone()&&Dt(Ze(c,"position"),"fixed")&&er(c,"position")}),c)},Eg=function(t,n,e){return n.useFixed()?"fixed":"absolute"},Rg=function(t,n,e,r){var o=r.element;q(["position","left","right","top","bottom"],(function(t){return er(o,t)})),qf(o),e.clear(r.uid)},Bg=Object.freeze({__proto__:null,position:_g,positionWithin:Ag,positionWithinBounds:Hg,getMode:Eg,reset:Rg}),Vg=function(){var t={},n=function(n,e){t[n]=e},e=function(n){return zt(t,n)},r=function(n){d(n)?delete t[n]:t={}};return Oc({readState:function(){return t},clear:r,set:n,get:e})},Ig=Object.freeze({__proto__:null,init:Vg}),Pg=hf({fields:Og,name:"positioning",active:xf,apis:Bg,state:Ig}),Lg=function(t){Sa(t,ma());var n=t.components();q(n,Lg)},Fg=function(t){var n=t.components();q(n,Fg),Sa(t,da())},Ng=function(t,n){_r(t.element,n.element)},jg=function(t){q(t.components(),(function(t){return Br(t.element)})),Rr(t.element),t.syncComponents()},Ug=function(t,n){var e=t.components();jg(t);var r=ut(e,n);q(r,(function(n){Lg(n),t.getSystem().removeFromWorld(n)})),q(n,(function(n){n.getSystem().isConnected()?Ng(t,n):(t.getSystem().addToWorld(n),Ng(t,n),Ve(t.element)&&Fg(n)),t.syncComponents()}))},Wg=function(t,n){Gg(t,n,_r)},Gg=function(t,n,e){t.getSystem().addToWorld(n),e(t.element,n.element),Ve(t.element)&&Fg(n),t.syncComponents()},$g=function(t){Lg(t),Br(t.element),t.getSystem().removeFromWorld(t)},qg=function(t){var n=pe(t.element).bind((function(n){return t.getSystem().getByDom(n).toOptional()}));$g(t),n.each((function(t){t.syncComponents()}))},Xg=function(t){var n=t.components();q(n,$g),Rr(t.element),t.syncComponents()},Kg=function(t,n){Jg(t,n,_r)},Yg=function(t,n){Jg(t,n,Mr)},Jg=function(t,n,e){e(t,n.element);var r=xe(n.element);q(r,(function(t){n.getByDom(t).each(Fg)}))},Qg=function(t){var n=xe(t.element);q(n,(function(n){t.getByDom(n).each(Lg)})),Br(t.element)},Zg=function(t,n,e,r){e.get().each((function(n){Xg(t)}));var o=n.getAttachPoint(t);Wg(o,t);var i=t.getSystem().build(r);return Wg(t,i),e.set(i),i},th=function(t,n,e,r){var o=Zg(t,n,e,r);return n.onOpen(t,o),o},nh=function(t,n,e,r){return e.get().map((function(){return Zg(t,n,e,r)}))},eh=function(t,n,e,r,o){sh(t,n),th(t,n,e,r),o(),fh(t,n)},rh=function(t,n,e){e.get().each((function(r){Xg(t),qg(t),n.onClose(t,r),e.clear()}))},oh=function(t,n,e){return e.isOpen()},ih=function(t,n,e,r){return oh(t,n,e)&&e.get().exists((function(e){return n.isPartOf(t,e,r)}))},uh=function(t,n,e){return e.get()},ah=function(t,n,e,r){Ze(t.element,n).fold((function(){Ge(t.element,e)}),(function(n){Fe(t.element,e,n)})),Xe(t.element,n,r)},ch=function(t,n,e){Ue(t.element,e).fold((function(){return er(t.element,n)}),(function(e){return Xe(t.element,n,e)}))},sh=function(t,n,e){var r=n.getAttachPoint(t);Xe(t.element,"position",Pg.getMode(r)),ah(t,"visibility",n.cloakVisibilityAttr,"hidden")},lh=function(t){return U(["top","left","right","bottom"],(function(n){return Ze(t,n).isSome()}))},fh=function(t,n,e){lh(t.element)||er(t.element,"position"),ch(t,"visibility",n.cloakVisibilityAttr)},dh=Object.freeze({__proto__:null,cloak:sh,decloak:fh,open:th,openWhileCloaked:eh,close:rh,isOpen:oh,isPartOf:ih,getState:uh,setContent:nh}),mh=function(t,n){return Ma([Ha(ia(),(function(e,r){rh(e,t,n)}))])},gh=Object.freeze({__proto__:null,events:mh}),hh=[al("onOpen"),al("onClose"),Di("isPartOf"),Di("getAttachPoint"),Xi("cloakVisibilityAttr","data-precloak-visibility")],vh=function(){var t=od(),n=w("not-implemented");return Oc({readState:n,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},ph=Object.freeze({__proto__:null,init:vh}),bh=hf({fields:hh,name:"sandboxing",active:gh,apis:dh,state:ph}),yh=w("dismiss.popups"),wh=w("reposition.popups"),xh=w("mouse.released"),Sh=Zo([Xi("isExtraPart",z),$i("fireEventInstead",[Xi("event",ga())])]),Ch=function(t){var n,e=Si("Dismissal",Sh,t);return n={},n[yh()]={schema:Zo([Di("target")]),onReceive:function(t,n){if(bh.isOpen(t)){var r=bh.isPartOf(t,n.target)||e.isExtraPart(t,n.target);r||e.fireEventInstead.fold((function(){return bh.close(t)}),(function(n){return Sa(t,n.event)}))}}},n},kh=Zo([$i("fireEventInstead",[Xi("event",ha())]),Bi("doReposition")]),Oh=function(t){var n,e=Si("Reposition",kh,t);return n={},n[wh()]={onReceive:function(t){bh.isOpen(t)&&e.fireEventInstead.fold((function(){return e.doReposition(t)}),(function(n){return Sa(t,n.event)}))}},n},zh=function(t,n,e){n.store.manager.onLoad(t,n,e)},Th=function(t,n,e){n.store.manager.onUnload(t,n,e)},Mh=function(t,n,e,r){n.store.manager.setValue(t,n,e,r)},Dh=function(t,n,e){return n.store.manager.getValue(t,n,e)},_h=function(t,n,e){return e},Ah=Object.freeze({__proto__:null,onLoad:zh,onUnload:Th,setValue:Mh,getValue:Dh,getState:_h}),Hh=function(t,n){var e=t.resetOnDom?[ja((function(e,r){zh(e,t,n)})),Ua((function(e,r){Th(e,t,n)}))]:[af(t,n,zh)];return Ma(e)},Eh=Object.freeze({__proto__:null,events:Hh}),Rh=function(){var t=ou(null),n=function(){return{mode:"memory",value:t.get()}},e=function(){return null===t.get()},r=function(){t.set(null)};return Oc({set:t.set,get:t.get,isNotSet:e,clear:r,readState:n})},Bh=function(){var t=v;return Oc({readState:t})},Vh=function(){var t=ou({}),n=ou({}),e=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:n.get()}},r=function(){t.set({}),n.set({})},o=function(e){return zt(t.get(),e).orThunk((function(){return zt(n.get(),e)}))},i=function(e){var r=t.get(),o=n.get(),i={},u={};q(e,(function(t){i[t.value]=t,zt(t,"meta").each((function(n){zt(n,"text").each((function(n){u[n]=t}))}))})),t.set(D(D({},r),i)),n.set(D(D({},o),u))};return Oc({readState:e,lookup:o,update:i,clear:r})},Ih=function(t){return t.store.manager.state(t)},Ph=Object.freeze({__proto__:null,memory:Rh,dataset:Vh,manual:Bh,init:Ih}),Lh=function(t,n,e,r){var o=n.store;e.update([r]),o.setValue(t,r),n.onSetValue(t,r)},Fh=function(t,n,e){var r=n.store,o=r.getDataKey(t);return e.lookup(o).getOrThunk((function(){return r.getFallbackEntry(o)}))},Nh=function(t,n,e){var r=n.store;r.initialValue.each((function(r){Lh(t,n,e,r)}))},jh=function(t,n,e){e.clear()},Uh=[Fi("initialValue"),Di("getFallbackEntry"),Di("getDataKey"),Di("setValue"),fl("manager",{setValue:Lh,getValue:Fh,onLoad:Nh,onUnload:jh,state:Vh})],Wh=function(t,n,e){return n.store.getValue(t)},Gh=function(t,n,e,r){n.store.setValue(t,r),n.onSetValue(t,r)},$h=function(t,n,e){n.store.initialValue.each((function(e){n.store.setValue(t,e)}))},qh=[Di("getValue"),Xi("setValue",v),Fi("initialValue"),fl("manager",{setValue:Gh,getValue:Wh,onLoad:$h,onUnload:v,state:kc.init})],Xh=function(t,n,e,r){e.set(r),n.onSetValue(t,r)},Kh=function(t,n,e){return e.get()},Yh=function(t,n,e){n.store.initialValue.each((function(t){e.isNotSet()&&e.set(t)}))},Jh=function(t,n,e){e.clear()},Qh=[Fi("initialValue"),fl("manager",{setValue:Xh,getValue:Kh,onLoad:Yh,onUnload:Jh,state:Rh})],Zh=[Ki("store",{mode:"memory"},ki("mode",{memory:Qh,manual:qh,dataset:Uh})),al("onSetValue"),Xi("resetOnDom",!1)],tv=hf({fields:Zh,name:"representing",active:Eh,apis:Ah,extra:{setValueFrom:function(t,n){var e=tv.getValue(n);tv.setValue(t,e)}},state:Ph}),nv=function(t,n){return ru(t,{},$(n,(function(n){return Vi(n.name(),"Cannot configure "+n.name()+" for "+t)})).concat([Ti("dump",x)]))},ev=function(t){return t.dump},rv=function(t,n){return D(D({},mf(n)),t.dump)},ov={field:nv,augment:rv,get:ev},iv="placeholder",uv=uu.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),av=function(t){return Tt(t,"uiType")},cv=function(t,n,e,r){return t.exists((function(t){return t!==e.owner}))?uv.single(!0,w(e)):zt(r,e.name).fold((function(){throw new Error("Unknown placeholder component: "+e.name+"\nKnown: ["+ht(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(e,null,2))}),(function(t){return t.replace()}))},sv=function(t,n,e,r){return av(e)&&e.uiType===iv?cv(t,n,e,r):uv.single(!1,w(e))},lv=function(t,n,e,r){var o=sv(t,n,e,r);return o.fold((function(o,i){var u=av(e)?i(n,e.config,e.validated):i(n),a=zt(u,"components").getOr([]),c=rt(a,(function(e){return lv(t,n,e,r)}));return[D(D({},u),{components:c})]}),(function(t,r){if(av(e)){var o=r(n,e.config,e.validated),i=e.validated.preprocess.getOr(x);return i(o)}return r(n)}))},fv=function(t,n,e,r){return rt(e,(function(e){return lv(t,n,e,r)}))},dv=function(t,n){var e=!1,r=function(){return e},o=function(){if(e)throw new Error("Trying to use the same placeholder more than once: "+t);return e=!0,n},i=function(){return n.fold((function(t,n){return t}),(function(t,n){return t}))};return{name:w(t),required:i,used:r,replace:o}},mv=function(t,n,e,r){var o=bt(r,(function(t,n){return dv(n,t)})),i=fv(t,n,e,o);return pt(o,(function(e){if(!1===e.used()&&e.required())throw new Error("Placeholder: "+e.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(n.components,null,2))})),i},gv=uv.single,hv=uv.multiple,vv=w(iv),pv=uu.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),bv=Xi("factory",{sketch:x}),yv=Xi("schema",[]),wv=Di("name"),xv=zi("pname","pname",Oo((function(t){return"<alloy."+oc(t.name)+">"})),ui()),Sv=Ti("schema",(function(){return[Fi("preprocess")]})),Cv=Xi("defaults",w({})),kv=Xi("overrides",w({})),Ov=ti([bv,yv,wv,xv,Cv,kv]),zv=ti([bv,yv,wv,Cv,kv]),Tv=ti([bv,yv,wv,xv,Cv,kv]),Mv=ti([bv,Sv,wv,Di("unit"),xv,Cv,kv]),Dv=function(t){return t.fold(V.some,V.none,V.some,V.some)},_v=function(t){var n=function(t){return t.name};return t.fold(n,n,n,n)},Av=function(t){return t.fold(x,x,x,x)},Hv=function(t,n){return function(e){var r=Si("Converting part type",n,e);return t(r)}},Ev=Hv(pv.required,Ov),Rv=Hv(pv.external,zv),Bv=Hv(pv.optional,Tv),Vv=Hv(pv.group,Mv),Iv=w("entirety"),Pv=Object.freeze({__proto__:null,required:Ev,external:Rv,optional:Bv,group:Vv,asNamedPart:Dv,name:_v,asCommon:Av,original:Iv}),Lv=function(t,n,e,r){return So(n.defaults(t,e,r),e,{uid:t.partUids[n.name]},n.overrides(t,e,r))},Fv=function(t,n,e){var r={},o={};return q(e,(function(t){t.fold((function(t){r[t.pname]=gv(!0,(function(n,e,r){return t.factory.sketch(Lv(n,t,e,r))}))}),(function(t){var e=n.parts[t.name];o[t.name]=w(t.factory.sketch(Lv(n,t,e[Iv()]),e))}),(function(t){r[t.pname]=gv(!1,(function(n,e,r){return t.factory.sketch(Lv(n,t,e,r))}))}),(function(t){r[t.pname]=hv(!0,(function(n,e,r){var o=n[t.name];return $(o,(function(e){return t.factory.sketch(So(t.defaults(n,e,r),e,t.overrides(n,e)))}))}))}))})),{internals:w(r),externals:w(o)}},Nv=function(t,n){var e={};return q(n,(function(n){Dv(n).each((function(n){var r=jv(t,n.pname);e[n.name]=function(e){var o=Si("Part: "+n.name+" in "+t,ti(n.schema),e);return D(D({},r),{config:e,validated:o})}}))})),e},jv=function(t,n){return{uiType:vv(),owner:t,name:n}},Uv=function(t,n,e){return{uiType:vv(),owner:t,name:n,config:e,validated:{}}},Wv=function(t){return rt(t,(function(t){return t.fold(V.none,V.some,V.none,V.none).map((function(t){return Ii(t.name,t.schema.concat([dl(Iv())]))})).toArray()}))},Gv=function(t){return $(t,_v)},$v=function(t,n,e){return Fv(t,n,e)},qv=function(t,n,e){return mv(V.some(t),n,n.components,e)},Xv=function(t,n,e){var r=n.partUids[e];return t.getSystem().getByUid(r).toOptional()},Kv=function(t,n,e){return Xv(t,n,e).getOrDie("Could not find part: "+e)},Yv=function(t,n,e){var r={},o=n.partUids,i=t.getSystem();return q(e,(function(t){r[t]=w(i.getByUid(o[t]))})),r},Jv=function(t,n){var e=t.getSystem();return bt(n.partUids,(function(t,n){return w(e.getByUid(t))}))},Qv=function(t){return ht(t.partUids)},Zv=function(t,n,e){var r={},o=n.partUids,i=t.getSystem();return q(e,(function(t){r[t]=w(i.getByUid(o[t]).getOrDie())})),r},tp=function(t,n){var e=Gv(n);return gu($(e,(function(n){return{key:n,value:t+"-"+n}})))},np=function(t){return zi("partUids","partUids",Mo((function(n){return tp(n.uid,t)})),ui())},ep=Object.freeze({__proto__:null,generate:Nv,generateOne:Uv,schemas:Wv,names:Gv,substitutes:$v,components:qv,defaultUids:tp,defaultUidsSchema:np,getAllParts:Jv,getAllPartNames:Qv,getPart:Xv,getPartOrDie:Kv,getParts:Yv,getPartsOrDie:Zv}),rp=function(t,n){var e=t.length>0?[Ii("parts",t)]:[];return e.concat([Di("uid"),Xi("dom",{}),Xi("components",[]),dl("originalSpec"),Xi("debug.sketcher",{})]).concat(n)},op=function(t,n,e,r,o){var i=rp(r,o);return Si(t+" [SpecSchema]",Zo(i.concat(n)),e)},ip=function(t,n,e,r){var o=cp(r),i=op(t,n,o,[],[]);return e(i,o)},up=function(t,n,e,r,o){var i=cp(o),u=Wv(e),a=np(e),c=op(t,n,i,u,[a]),s=$v(t,c,e),l=qv(t,c,s.internals());return r(c,l,i,s.externals())},ap=function(t){return Tt(t,"uid")},cp=function(t){return ap(t)?t:D(D({},t),{uid:dc("uid")})},sp=function(t){return void 0!==t.uid},lp=Zo([Di("name"),Di("factory"),Di("configFields"),Xi("apis",{}),Xi("extraApis",{})]),fp=Zo([Di("name"),Di("factory"),Di("configFields"),Di("partFields"),Xi("apis",{}),Xi("extraApis",{})]),dp=function(t){var n=Si("Sketcher for "+t.name,lp,t),e=function(t){return ip(n.name,n.configFields,n.factory,t)},r=bt(n.apis,Cc),o=bt(n.extraApis,(function(t,n){return bc(t,n)}));return D(D({name:n.name,configFields:n.configFields,sketch:e},r),o)},mp=function(t){var n=Si("Sketcher for "+t.name,fp,t),e=function(t){return up(n.name,n.configFields,n.partFields,n.factory,t)},r=Nv(n.name,n.partFields),o=bt(n.apis,Cc),i=bt(n.extraApis,(function(t,n){return bc(t,n)}));return D(D({name:n.name,partFields:n.partFields,configFields:n.configFields,sketch:e,parts:r},o),i)},gp=function(t){return"input"===cn(t)&&"radio"!==je(t,"type")||"textarea"===cn(t)},hp=function(t,n,e){return n.find(t)},vp=Object.freeze({__proto__:null,getCurrent:hp}),pp=[Di("find")],bp=hf({fields:pp,name:"composing",apis:vp}),yp=["input","button","textarea","select"],wp=function(t,n,e){var r=n.disabled()?Mp:Dp;r(t,n)},xp=function(t,n){return!0===n.useNative&&j(yp,cn(t.element))},Sp=function(t){return We(t.element,"disabled")},Cp=function(t){Fe(t.element,"disabled","disabled")},kp=function(t){Ge(t.element,"disabled")},Op=function(t){return"true"===je(t.element,"aria-disabled")},zp=function(t){Fe(t.element,"aria-disabled","true")},Tp=function(t){Fe(t.element,"aria-disabled","false")},Mp=function(t,n,e){n.disableClass.each((function(n){is(t.element,n)}));var r=xp(t,n)?Cp:zp;r(t),n.onDisabled(t)},Dp=function(t,n,e){n.disableClass.each((function(n){as(t.element,n)}));var r=xp(t,n)?kp:Tp;r(t),n.onEnabled(t)},_p=function(t,n){return xp(t,n)?Sp(t):Op(t)},Ap=function(t,n,e,r){var o=r?Mp:Dp;o(t,n)},Hp=Object.freeze({__proto__:null,enable:Dp,disable:Mp,isDisabled:_p,onLoad:wp,set:Ap}),Ep=function(t,n){return _c({classes:n.disabled()?n.disableClass.toArray():[]})},Rp=function(t,n){return Ma([Da(na(),(function(n,e){return _p(n,t)})),af(t,n,wp)])},Bp=Object.freeze({__proto__:null,exhibit:Ep,events:Rp}),Vp=[tu("disabled",z),Xi("useNative",!0),Fi("disableClass"),al("onDisabled"),al("onEnabled")],Ip=hf({fields:Vp,name:"disabling",active:Bp,apis:Hp}),Pp=function(t,n,e,r){var o=Km(t.element,"."+n.highlightClass);q(o,(function(e){U(r,(function(t){return t.element===e}))||(as(e,n.highlightClass),t.getSystem().getByDom(e).each((function(e){n.onDehighlight(t,e),Sa(e,xa())})))}))},Lp=function(t,n,e){return Pp(t,n,e,[])},Fp=function(t,n,e,r){$p(t,n,e,r)&&(as(r.element,n.highlightClass),n.onDehighlight(t,r),Sa(r,xa()))},Np=function(t,n,e,r){Pp(t,n,e,[r]),$p(t,n,e,r)||(is(r.element,n.highlightClass),n.onHighlight(t,r),Sa(r,wa()))},jp=function(t,n,e){Kp(t,n).each((function(r){Np(t,n,e,r)}))},Up=function(t,n,e){Yp(t,n).each((function(r){Np(t,n,e,r)}))},Wp=function(t,n,e,r){Xp(t,n,e,r).fold((function(t){throw t}),(function(r){Np(t,n,e,r)}))},Gp=function(t,n,e,r){var o=tb(t,n),i=tt(o,r);i.each((function(r){Np(t,n,e,r)}))},$p=function(t,n,e,r){return cs(r.element,n.highlightClass)},qp=function(t,n,e){return Ps(t.element,"."+n.highlightClass).bind((function(n){return t.getSystem().getByDom(n).toOptional()}))},Xp=function(t,n,e,r){var o=Km(t.element,"."+n.itemClass);return V.from(o[r]).fold((function(){return ro.error(new Error("No element found with index "+r))}),t.getSystem().getByDom)},Kp=function(t,n,e){return Ps(t.element,"."+n.itemClass).bind((function(n){return t.getSystem().getByDom(n).toOptional()}))},Yp=function(t,n,e){var r=Km(t.element,"."+n.itemClass),o=r.length>0?V.some(r[r.length-1]):V.none();return o.bind((function(n){return t.getSystem().getByDom(n).toOptional()}))},Jp=function(t,n,e,r){var o=Km(t.element,"."+n.itemClass),i=nt(o,(function(t){return cs(t,n.highlightClass)}));return i.bind((function(n){var e=Tl(n,r,0,o.length-1);return t.getSystem().getByDom(o[e]).toOptional()}))},Qp=function(t,n,e){return Jp(t,n,e,-1)},Zp=function(t,n,e){return Jp(t,n,e,1)},tb=function(t,n,e){var r=Km(t.element,"."+n.itemClass);return At($(r,(function(n){return t.getSystem().getByDom(n).toOptional()})))},nb=Object.freeze({__proto__:null,dehighlightAll:Lp,dehighlight:Fp,highlight:Np,highlightFirst:jp,highlightLast:Up,highlightAt:Wp,highlightBy:Gp,isHighlighted:$p,getHighlighted:qp,getFirst:Kp,getLast:Yp,getPrevious:Qp,getNext:Zp,getCandidates:tb}),eb=[Di("highlightClass"),Di("itemClass"),al("onHighlight"),al("onDehighlight")],rb=hf({fields:eb,name:"highlighting",apis:nb}),ob=[8],ib=[9],ub=[13],ab=[27],cb=[32],sb=[37],lb=[38],fb=[39],db=[40],mb=function(t,n,e){var r=it(t.slice(0,n)),o=it(t.slice(n+1));return tt(r.concat(o),e)},gb=function(t,n,e){var r=it(t.slice(0,n));return tt(r,e)},hb=function(t,n,e){var r=t.slice(0,n),o=t.slice(n+1);return tt(o.concat(r),e)},vb=function(t,n,e){var r=t.slice(n+1);return tt(r,e)},pb=function(t){return function(n){var e=n.raw;return j(t,e.which)}},bb=function(t){return function(n){return ot(t,(function(t){return t(n)}))}},yb=function(t){var n=t.raw;return!0===n.shiftKey},wb=function(t){var n=t.raw;return!0===n.ctrlKey},xb=k(yb),Sb=function(t,n){return{matches:t,classification:n}},Cb=function(t,n){var e=tt(t,(function(t){return t.matches(n)}));return e.map((function(t){return t.classification}))},kb=function(t,n,e){var r=n.exists((function(t){return e.exists((function(n){return se(n,t)}))}));r||Ca(t,va(),{prevFocus:n,newFocus:e})},Ob=function(){var t=function(t){return Tf(t.element)},n=function(n,e){var r=t(n);n.getSystem().triggerFocus(e,n.element);var o=t(n);kb(n,r,o)};return{get:t,set:n}},zb=function(){var t=function(t){return rb.getHighlighted(t).map((function(t){return t.element}))},n=function(n,e){var r=t(n);n.getSystem().getByDom(e).fold(v,(function(t){rb.highlight(n,t)}));var o=t(n);kb(n,r,o)};return{get:t,set:n}};(function(t){t["OnFocusMode"]="onFocus",t["OnEnterOrSpaceMode"]="onEnterOrSpace",t["OnApiMode"]="onApi"})(Pm||(Pm={}));var Tb=function(t,n,e,r,o){var i=function(){return t.concat([Xi("focusManager",Ob()),Ki("focusInside","onFocus",pi((function(t){return j(["onFocus","onEnterOrSpace","onApi"],t)?ro.value(t):ro.error("Invalid value for focusInside")}))),fl("handler",c),fl("state",n),fl("sendFocusIn",o)])},u=function(t,n,e,r,o){var i=e(t,n,r,o);return Cb(i,n.event).bind((function(e){return e(t,n,r,o)}))},a=function(t,n){var i=t.focusInside!==Pm.OnFocusMode?V.none():o(t).map((function(e){return Ha(Ju(),(function(r,o){e(r,t,n),o.stop()}))})),a=function(e,r){var i=pb(cb.concat(ub))(r.event);t.focusInside===Pm.OnEnterOrSpaceMode&&i&&xu(e,r)&&o(t).each((function(o){o(e,t,n),r.stop()}))},c=[Ha(Fu(),(function(r,o){u(r,o,e,t,n).fold((function(){a(r,o)}),(function(t){o.stop()}))})),Ha(Nu(),(function(e,o){u(e,o,r,t,n).each((function(t){o.stop()}))}))];return Ma(i.toArray().concat(c))},c={schema:i,processKey:u,toEvents:a};return c},Mb=function(t){var n=[Fi("onEscape"),Fi("onEnter"),Xi("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Xi("firstTabstop",0),Xi("useTabstopAt",T),Fi("visibilitySelector")].concat([t]),e=function(t,n){var e=t.visibilitySelector.bind((function(t){return Ls(n,t)})).getOr(n);return ur(e)>0},r=function(t,n){var r=Km(t.element,n.selector),o=Y(r,(function(t){return e(n,t)}));return V.from(o[n.firstTabstop])},o=function(t,n){return n.focusManager.get(t).bind((function(t){return Ls(t,n.selector)}))},i=function(t,n){return e(t,n)&&t.useTabstopAt(n)},u=function(t,n,e){r(t,n).each((function(e){n.focusManager.set(t,e)}))},a=function(t,n,e,r,o){return o(n,e,(function(t){return i(r,t)})).fold((function(){return r.cyclic?V.some(!0):V.none()}),(function(n){return r.focusManager.set(t,n),V.some(!0)}))},c=function(t,n,e,r){var i=Km(t.element,e.selector);return o(t,e).bind((function(n){var o=nt(i,C(se,n));return o.bind((function(n){return a(t,i,n,e,r)}))}))},s=function(t,n,e){var r=e.cyclic?mb:gb;return c(t,n,e,r)},l=function(t,n,e){var r=e.cyclic?hb:vb;return c(t,n,e,r)},f=function(t,n,e){return e.onEnter.bind((function(e){return e(t,n)}))},d=function(t,n,e){return e.onEscape.bind((function(e){return e(t,n)}))},m=w([Sb(bb([yb,pb(ib)]),s),Sb(pb(ib),l),Sb(pb(ab),d),Sb(bb([xb,pb(ub)]),f)]),g=w([]);return Tb(n,kc.init,m,g,(function(){return V.some(u)}))},Db=Mb(Ti("cyclic",z)),_b=Mb(Ti("cyclic",T)),Ab=function(t,n,e){return Oa(t,e,na()),V.some(!0)},Hb=function(t,n,e){var r=gp(e)&&pb(cb)(n.event);return r?V.none():Ab(t,n,e)},Eb=function(t,n){return V.some(!0)},Rb=[Xi("execute",Hb),Xi("useSpace",!1),Xi("useEnter",!0),Xi("useControlEnter",!1),Xi("useDown",!1)],Bb=function(t,n,e){return e.execute(t,n,t.element)},Vb=function(t,n,e,r){var o=e.useSpace&&!gp(t.element)?cb:[],i=e.useEnter?ub:[],u=e.useDown?db:[],a=o.concat(i).concat(u);return[Sb(pb(a),Bb)].concat(e.useControlEnter?[Sb(bb([wb,pb(ub)]),Bb)]:[])},Ib=function(t,n,e,r){return e.useSpace&&!gp(t.element)?[Sb(pb(cb),Eb)]:[]},Pb=Tb(Rb,kc.init,Vb,Ib,(function(){return V.none()})),Lb=function(){var t=od(),n=function(n,e){t.set({numRows:n,numColumns:e})},e=function(){return t.get().map((function(t){return t.numRows}))},r=function(){return t.get().map((function(t){return t.numColumns}))};return Oc({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:n,getNumRows:e,getNumColumns:r})},Fb=function(t){return t.state(t)},Nb=Object.freeze({__proto__:null,flatgrid:Lb,init:Fb}),jb=function(t){return function(n,e,r,o){var i=t(n.element);return $b(i,n,e,r,o)}},Ub=function(t,n){var e=Bd(t,n);return jb(e)},Wb=function(t,n){var e=Bd(n,t);return jb(e)},Gb=function(t){return function(n,e,r,o){return $b(t,n,e,r,o)}},$b=function(t,n,e,r,o){var i=r.focusManager.get(n).bind((function(e){return t(n.element,e,r,o)}));return i.map((function(t){return r.focusManager.set(n,t),!0}))},qb=Gb,Xb=Gb,Kb=Gb,Yb=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Jb=function(t){return!Yb(t.dom)},Qb=function(t,n){return nt(t,n).map((function(n){return{index:n,candidates:t}}))},Zb=function(t,n,e){var r=function(t){return se(t,n)},o=Km(t,e),i=Y(o,Jb);return Qb(i,r)},ty=function(t,n){return nt(t,(function(t){return se(n,t)}))},ny=function(t,n,e,r){var o=Math.floor(n/e),i=n%e;return r(o,i).bind((function(n){var r=n.row*e+n.column;return r>=0&&r<t.length?V.some(t[r]):V.none()}))},ey=function(t,n,e,r,o){return ny(t,n,r,(function(n,i){var u=n===e-1,a=u?t.length-n*r:r,c=Tl(i,o,0,a-1);return V.some({row:n,column:c})}))},ry=function(t,n,e,r,o){return ny(t,n,r,(function(n,i){var u=Tl(n,o,0,e-1),a=u===e-1,c=a?t.length-u*r:r,s=Ml(i,0,c-1);return V.some({row:u,column:s})}))},oy=function(t,n,e,r){return ey(t,n,e,r,1)},iy=function(t,n,e,r){return ey(t,n,e,r,-1)},uy=function(t,n,e,r){return ry(t,n,e,r,-1)},ay=function(t,n,e,r){return ry(t,n,e,r,1)},cy=[Di("selector"),Xi("execute",Hb),cl("onEscape"),Xi("captureTab",!1),ml()],sy=function(t,n,e){Ps(t.element,n.selector).each((function(e){n.focusManager.set(t,e)}))},ly=function(t,n){return n.focusManager.get(t).bind((function(t){return Ls(t,n.selector)}))},fy=function(t,n,e,r){return ly(t,e).bind((function(r){return e.execute(t,n,r)}))},dy=function(t){return function(n,e,r,o){return Zb(n,e,r.selector).bind((function(n){return t(n.candidates,n.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},my=function(t,n,e){return e.captureTab?V.some(!0):V.none()},gy=function(t,n,e){return e.onEscape(t,n)},hy=dy(iy),vy=dy(oy),py=dy(uy),by=dy(ay),yy=w([Sb(pb(sb),Ub(hy,vy)),Sb(pb(fb),Wb(hy,vy)),Sb(pb(lb),qb(py)),Sb(pb(db),Xb(by)),Sb(bb([yb,pb(ib)]),my),Sb(bb([xb,pb(ib)]),my),Sb(pb(ab),gy),Sb(pb(cb.concat(ub)),fy)]),wy=w([Sb(pb(cb),Eb)]),xy=Tb(cy,Lb,yy,wy,(function(){return V.some(sy)})),Sy=function(t,n,e,r){var o=function(t){return"button"===cn(t)&&"disabled"===je(t,"disabled")},i=function(t,n,e){var u=Tl(n,r,0,e.length-1);return u===t?V.none():o(e[u])?i(t,u,e):V.from(e[u])};return Zb(t,e,n).bind((function(t){var n=t.index,e=t.candidates;return i(n,n,e)}))},Cy=[Di("selector"),Xi("getInitial",V.none),Xi("execute",Hb),cl("onEscape"),Xi("executeOnMove",!1),Xi("allowVertical",!0)],ky=function(t,n){return n.focusManager.get(t).bind((function(t){return Ls(t,n.selector)}))},Oy=function(t,n,e){return ky(t,e).bind((function(r){return e.execute(t,n,r)}))},zy=function(t,n,e){n.getInitial(t).orThunk((function(){return Ps(t.element,n.selector)})).each((function(e){n.focusManager.set(t,e)}))},Ty=function(t,n,e){return Sy(t,e.selector,n,-1)},My=function(t,n,e){return Sy(t,e.selector,n,1)},Dy=function(t){return function(n,e,r,o){return t(n,e,r,o).bind((function(){return r.executeOnMove?Oy(n,e,r):V.some(!0)}))}},_y=function(t,n,e){return e.onEscape(t,n)},Ay=function(t,n,e,r){var o=sb.concat(e.allowVertical?lb:[]),i=fb.concat(e.allowVertical?db:[]);return[Sb(pb(o),Dy(Ub(Ty,My))),Sb(pb(i),Dy(Wb(Ty,My))),Sb(pb(ub),Oy),Sb(pb(cb),Oy),Sb(pb(ab),_y)]},Hy=w([Sb(pb(cb),Eb)]),Ey=Tb(Cy,kc.init,Ay,Hy,(function(){return V.some(zy)})),Ry=function(t,n,e){return V.from(t[n]).bind((function(t){return V.from(t[e]).map((function(t){return{rowIndex:n,columnIndex:e,cell:t}}))}))},By=function(t,n,e,r){var o=t[n],i=o.length,u=Tl(e,r,0,i-1);return Ry(t,n,u)},Vy=function(t,n,e,r){var o=Tl(e,r,0,t.length-1),i=t[o].length,u=Ml(n,0,i-1);return Ry(t,o,u)},Iy=function(t,n,e,r){var o=t[n],i=o.length,u=Ml(e+r,0,i-1);return Ry(t,n,u)},Py=function(t,n,e,r){var o=Ml(e+r,0,t.length-1),i=t[o].length,u=Ml(n,0,i-1);return Ry(t,o,u)},Ly=function(t,n,e){return By(t,n,e,1)},Fy=function(t,n,e){return By(t,n,e,-1)},Ny=function(t,n,e){return Vy(t,e,n,-1)},jy=function(t,n,e){return Vy(t,e,n,1)},Uy=function(t,n,e){return Iy(t,n,e,-1)},Wy=function(t,n,e){return Iy(t,n,e,1)},Gy=function(t,n,e){return Py(t,e,n,-1)},$y=function(t,n,e){return Py(t,e,n,1)},qy=[Ii("selectors",[Di("row"),Di("cell")]),Xi("cycles",!0),Xi("previousSelector",V.none),Xi("execute",Hb)],Xy=function(t,n,e){var r=n.previousSelector(t).orThunk((function(){var e=n.selectors;return Ps(t.element,e.cell)}));r.each((function(e){n.focusManager.set(t,e)}))},Ky=function(t,n,e){return Tf(t.element).bind((function(r){return e.execute(t,n,r)}))},Yy=function(t,n){return $(t,(function(t){return Km(t,n.selectors.cell)}))},Jy=function(t,n){return function(e,r,o){var i=o.cycles?t:n;return Ls(r,o.selectors.row).bind((function(t){var n=Km(t,o.selectors.cell);return ty(n,r).bind((function(n){var r=Km(e,o.selectors.row);return ty(r,t).bind((function(t){var e=Yy(r,o);return i(e,t,n).map((function(t){return t.cell}))}))}))}))}},Qy=Jy(Fy,Uy),Zy=Jy(Ly,Wy),tw=Jy(Ny,Gy),nw=Jy(jy,$y),ew=w([Sb(pb(sb),Ub(Qy,Zy)),Sb(pb(fb),Wb(Qy,Zy)),Sb(pb(lb),qb(tw)),Sb(pb(db),Xb(nw)),Sb(pb(cb.concat(ub)),Ky)]),rw=w([Sb(pb(cb),Eb)]),ow=Tb(qy,kc.init,ew,rw,(function(){return V.some(Xy)})),iw=[Di("selector"),Xi("execute",Hb),Xi("moveOnTab",!1)],uw=function(t,n,e){return e.focusManager.get(t).bind((function(r){return e.execute(t,n,r)}))},aw=function(t,n,e){Ps(t.element,n.selector).each((function(e){n.focusManager.set(t,e)}))},cw=function(t,n,e){return Sy(t,e.selector,n,-1)},sw=function(t,n,e){return Sy(t,e.selector,n,1)},lw=function(t,n,e,r){return e.moveOnTab?Kb(cw)(t,n,e,r):V.none()},fw=function(t,n,e,r){return e.moveOnTab?Kb(sw)(t,n,e,r):V.none()},dw=w([Sb(pb(lb),Kb(cw)),Sb(pb(db),Kb(sw)),Sb(bb([yb,pb(ib)]),lw),Sb(bb([xb,pb(ib)]),fw),Sb(pb(ub),uw),Sb(pb(cb),uw)]),mw=w([Sb(pb(cb),Eb)]),gw=Tb(iw,kc.init,dw,mw,(function(){return V.some(aw)})),hw=[cl("onSpace"),cl("onEnter"),cl("onShiftEnter"),cl("onLeft"),cl("onRight"),cl("onTab"),cl("onShiftTab"),cl("onUp"),cl("onDown"),cl("onEscape"),Xi("stopSpaceKeyup",!1),Fi("focusIn")],vw=function(t,n,e){return[Sb(pb(cb),e.onSpace),Sb(bb([xb,pb(ub)]),e.onEnter),Sb(bb([yb,pb(ub)]),e.onShiftEnter),Sb(bb([yb,pb(ib)]),e.onShiftTab),Sb(bb([xb,pb(ib)]),e.onTab),Sb(pb(lb),e.onUp),Sb(pb(db),e.onDown),Sb(pb(sb),e.onLeft),Sb(pb(fb),e.onRight),Sb(pb(cb),e.onSpace),Sb(pb(ab),e.onEscape)]},pw=function(t,n,e){return e.stopSpaceKeyup?[Sb(pb(cb),Eb)]:[]},bw=Tb(hw,kc.init,vw,pw,(function(t){return t.focusIn})),yw=Db.schema(),ww=_b.schema(),xw=Ey.schema(),Sw=xy.schema(),Cw=ow.schema(),kw=Pb.schema(),Ow=gw.schema(),zw=bw.schema(),Tw=Object.freeze({__proto__:null,acyclic:yw,cyclic:ww,flow:xw,flatgrid:Sw,matrix:Cw,execution:kw,menu:Ow,special:zw}),Mw=function(t){return Mt(t,"setGridSize")},Dw=pf({branchKey:"mode",branches:Tw,name:"keying",active:{events:function(t,n){var e=t.handler;return e.toEvents(t,n)}},apis:{focusIn:function(t,n,e){n.sendFocusIn(n).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,n,e)}))},setGridSize:function(t,n,e,r,o){Mw(e)?e.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Nb}),_w=function(t,n,e,r){Mf((function(){var n=$(r,t.getSystem().build);Ug(t,n)}),t.element)},Aw=function(t,n,e,r){var o=t.getSystem().build(r);Gg(t,o,e)},Hw=function(t,n,e,r){Aw(t,n,_r,r)},Ew=function(t,n,e,r){Aw(t,n,Dr,r)},Rw=function(t,n,e,r){var o=Bw(t),i=tt(o,(function(t){return se(r.element,t.element)}));i.each(qg)},Bw=function(t,n){return t.components()},Vw=function(t,n,e,r,o){var i=Bw(t);return V.from(i[r]).map((function(i){return Rw(t,n,e,i),o.each((function(e){Aw(t,n,(function(t,n){Ar(t,n,r)}),e)})),i}))},Iw=function(t,n,e,r,o){var i=Bw(t);return nt(i,r).bind((function(r){return Vw(t,n,e,r,o)}))},Pw=Object.freeze({__proto__:null,append:Hw,prepend:Ew,remove:Rw,replaceAt:Vw,replaceBy:Iw,set:_w,contents:Bw}),Lw=hf({fields:[],name:"replacing",apis:Pw}),Fw=function(t,n){var e=Ma(n);return hf({fields:[Di("enabled")],name:t,active:{events:w(e)}})},Nw=function(t,n){var e=Fw(t,n);return{key:t,value:{config:{},me:e,configAsRaw:w({}),initialConfig:{},state:kc}}},jw=function(t,n){n.ignore||(Cf(t.element),n.onFocus(t))},Uw=function(t,n){n.ignore||kf(t.element)},Ww=function(t){return Of(t.element)},Gw=Object.freeze({__proto__:null,focus:jw,blur:Uw,isFocused:Ww}),$w=function(t,n){var e=n.ignore?{}:{attributes:{tabindex:"-1"}};return _c(e)},qw=function(t){return Ma([Ha(Ju(),(function(n,e){jw(n,t),e.stop()}))].concat(t.stopMousedown?[Ha(Eu(),(function(t,n){n.event.prevent()}))]:[]))},Xw=Object.freeze({__proto__:null,exhibit:$w,events:qw}),Kw=[al("onFocus"),Xi("stopMousedown",!1),Xi("ignore",!1)],Yw=hf({fields:Kw,name:"focusing",active:Xw,apis:Gw}),Jw=function(t){var n=function(){var n=ou(t),e=function(){return n.get()},r=function(t){return n.set(t)},o=function(){return n.set(t)},i=function(){return n.get()};return{get:e,set:r,clear:o,readState:i}};return{init:n}},Qw=function(t,n,e){var r=n.aria;r.update(t,r,e.get())},Zw=function(t,n,e){n.toggleClass.each((function(n){e.get()?is(t.element,n):as(t.element,n)}))},tx=function(t,n,e){rx(t,n,e,!e.get())},nx=function(t,n,e){e.set(!0),Zw(t,n,e),Qw(t,n,e)},ex=function(t,n,e){e.set(!1),Zw(t,n,e),Qw(t,n,e)},rx=function(t,n,e,r){var o=r?nx:ex;o(t,n,e)},ox=function(t,n,e){return e.get()},ix=function(t,n,e){rx(t,n,e,n.selected)},ux=Object.freeze({__proto__:null,onLoad:ix,toggle:tx,isOn:ox,on:nx,off:ex,set:rx}),ax=function(){return _c({})},cx=function(t,n){var e=uf(t,n,tx),r=af(t,n,ix);return Ma(et([t.toggleOnExecute?[e]:[],[r]]))},sx=Object.freeze({__proto__:null,exhibit:ax,events:cx}),lx=function(t,n,e){Fe(t.element,"aria-pressed",e),n.syncWithExpanded&&mx(t,n,e)},fx=function(t,n,e){Fe(t.element,"aria-selected",e)},dx=function(t,n,e){Fe(t.element,"aria-checked",e)},mx=function(t,n,e){Fe(t.element,"aria-expanded",e)},gx=[Xi("selected",!1),Fi("toggleClass"),Xi("toggleOnExecute",!0),Ki("aria",{mode:"none"},ki("mode",{pressed:[Xi("syncWithExpanded",!1),fl("update",lx)],checked:[fl("update",dx)],expanded:[fl("update",mx)],selected:[fl("update",fx)],none:[fl("update",v)]}))],hx=hf({fields:gx,name:"toggling",active:sx,apis:ux,state:Jw(!1)}),vx=function(){var t=function(t,n){n.stop(),ka(t)};return[Ha(Wu(),t),Ha(ra(),t),La(Du()),La(Eu())]},px=function(t){var n=function(t){return Ga((function(n,e){t(n),e.stop()}))};return Ma(et([t.map(n).toArray(),vx()]))},bx="alloy.item-hover",yx="alloy.item-focus",wx=function(t){(Tf(t.element).isNone()||Yw.isFocused(t))&&(Yw.isFocused(t)||Yw.focus(t),Ca(t,bx,{item:t}))},xx=function(t){Ca(t,yx,{item:t})},Sx=w(bx),Cx=w(yx),kx=function(t){return{dom:t.dom,domModification:D(D({},t.domModification),{attributes:D(D(D({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:ov.augment(t.itemBehaviours,[t.toggling.fold(hx.revoke,(function(t){return hx.config(D({aria:{mode:"checked"}},t))})),Yw.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){xx(t)}}),Dw.config({mode:"execution"}),tv.config({store:{mode:"memory",initialValue:t.data}}),Nw("item-type-events",A(A([],vx(),!0),[Ha(Iu(),wx),Ha(ea(),Yw.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},Ox=[Di("data"),Di("components"),Di("dom"),Xi("hasSubmenu",!1),Fi("toggling"),ov.field("itemBehaviours",[hx,Yw,Dw,tv]),Xi("ignoreFocus",!1),Xi("domModification",{}),fl("builder",kx),Xi("eventOrder",{})],zx=function(t){return{dom:t.dom,components:t.components,events:Ma([Fa(ea())])}},Tx=[Di("dom"),Di("components"),fl("builder",zx)],Mx=w("item-widget"),Dx=w([Ev({name:"widget",overrides:function(t){return{behaviours:mf([tv.config({store:{mode:"manual",getValue:function(n){return t.data},setValue:v}})])}}})]),_x=function(t){var n=$v(Mx(),t,Dx()),e=qv(Mx(),t,n.internals()),r=function(n){return Xv(n,t,"widget").map((function(t){return Dw.focusIn(t),t}))},o=function(n,e){return gp(e.event.target)?V.none():function(){return t.autofocus?(e.setSource(n.element),V.none()):V.none()}()};return{dom:t.dom,components:e,domModification:t.domModification,events:Ma([Ga((function(t,n){r(t).each((function(t){n.stop()}))})),Ha(Iu(),wx),Ha(ea(),(function(n,e){t.autofocus?r(n):Yw.focus(n)}))]),behaviours:ov.augment(t.widgetBehaviours,[tv.config({store:{mode:"memory",initialValue:t.data}}),Yw.config({ignore:t.ignoreFocus,onFocus:function(t){xx(t)}}),Dw.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:bf(),onLeft:o,onRight:o,onEscape:function(n,e){return Yw.isFocused(n)||t.autofocus?t.autofocus?(e.setSource(n.element),V.none()):V.none():(Yw.focus(n),V.some(!0))}})])}},Ax=[Di("uid"),Di("data"),Di("components"),Di("dom"),Xi("autofocus",!1),Xi("ignoreFocus",!1),ov.field("widgetBehaviours",[tv,Yw,Dw]),Xi("domModification",{}),np(Dx()),fl("builder",_x)],Hx=ki("type",{widget:Ax,item:Ox,separator:Tx}),Ex=function(t,n){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:n.initSize.numColumns,numRows:n.initSize.numRows},focusManager:t.focusManager}},Rx=function(t,n){return{mode:"matrix",selectors:{row:n.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},Bx=function(t,n){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:n.moveOnTab,focusManager:t.focusManager}},Vx=w([Vv({factory:{sketch:function(t){var n=Si("menu.spec item",Hx,t);return n.builder(n)}},name:"items",unit:"item",defaults:function(t,n){return Tt(n,"uid")?n:D(D({},n),{uid:dc("item")})},overrides:function(t,n){return{type:n.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Ix=w([Di("value"),Di("items"),Di("dom"),Di("components"),Xi("eventOrder",{}),nv("menuBehaviours",[rb,tv,bp,Dw]),Ki("movement",{mode:"menu",moveOnTab:!0},ki("mode",{grid:[ml(),fl("config",Ex)],matrix:[fl("config",Rx),Di("rowSelector")],menu:[Xi("moveOnTab",!0),fl("config",Bx)]})),rl(),Xi("fakeFocus",!1),Xi("focusManager",Ob()),al("onHighlight")]),Px=w("alloy.menu-focus"),Lx=function(t,n,e,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:rv(t.menuBehaviours,[rb.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),tv.config({store:{mode:"memory",initialValue:t.value}}),bp.config({find:V.some}),Dw.config(t.movement.config(t,t.movement))]),events:Ma([Ha(Cx(),(function(t,n){var e=n.event;t.getSystem().getByDom(e.target).each((function(e){rb.highlight(t,e),n.stop(),Ca(t,Px(),{menu:t,item:e})}))})),Ha(Sx(),(function(t,n){var e=n.event.item;rb.highlight(t,e)}))]),components:n,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},Fx=mp({name:"Menu",configFields:Ix(),partFields:Vx(),factory:Lx}),Nx=function(t){return yt(t,(function(t,n){return{k:t,v:n}}))},jx=function(t,n,e,r){return zt(e,r).bind((function(r){return zt(t,r).bind((function(r){var o=jx(t,n,e,r);return V.some([r].concat(o))}))})).getOr([])},Ux=function(t,n){var e={};pt(t,(function(t,n){q(t,(function(t){e[t]=n}))}));var r=n,o=Nx(n),i=bt(o,(function(t,n){return[n].concat(jx(e,r,o,n))}));return bt(e,(function(t){return zt(i,t).getOr([t])}))},Wx=function(){var t=ou({}),n=ou({}),e=ou({}),r=od(),o=ou({}),i=function(){t.set({}),n.set({}),e.set({}),r.clear()},u=function(){return r.get().isNone()},a=function(t,e){var r;n.set(D(D({},n.get()),(r={},r[t]={type:"prepared",menu:e},r)))},c=function(i,u,a,c){r.set(i),t.set(a),n.set(u),o.set(c);var s=Ux(c,a);e.set(s)},s=function(n){return kt(t.get(),(function(t,e){return t===n}))},l=function(t,n,e){return h(t).bind((function(r){return s(t).bind((function(t){return n(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:e}}))}))}))},f=function(t,n){var o=Y(p(t).toArray(),(function(t){return h(t).isSome()}));return zt(e.get(),t).bind((function(t){var e=it(o.concat(t)),i=rt(e,(function(t,o){return l(t,n,e.slice(0,o+1)).fold((function(){return Dt(r.get(),t)?[]:[V.none()]}),(function(t){return[V.some(t)]}))}));return Ht(i)}))},d=function(n){return zt(t.get(),n).map((function(t){var r=zt(e.get(),n).getOr([]);return[t].concat(r)}))},m=function(t){return zt(e.get(),t).bind((function(t){return t.length>1?V.some(t.slice(1)):V.none()}))},g=function(t){return zt(e.get(),t)},h=function(t){return v(t).bind(Gx)},v=function(t){return zt(n.get(),t)},p=function(n){return zt(t.get(),n)},b=function(t){var n=o.get();return ut(ht(n),t)},y=function(){return r.get().bind(h)},w=function(){return n.get()};return{setMenuBuilt:a,setContents:c,expand:d,refresh:g,collapse:m,lookupMenu:v,lookupItem:p,otherMenus:b,getPrimary:y,getMenus:w,clear:i,isClear:u,getTriggeringPath:f}},Gx=function(t){return"prepared"===t.type?V.some(t.menu):V.none()},$x={init:Wx,extractPreparedMenu:Gx},qx=function(t,n){var e,r=od(),o=function(n,e,r){return bt(r,(function(r,o){var i=function(){return Fx.sketch(D(D({},r),{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?zb():Ob()}))};return o===e?{type:"prepared",menu:n.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))},i=$x.init(),u=function(n){var e=o(n,t.data.primary,t.data.menus),r=s();return i.setContents(t.data.primary,e,t.data.expansions,r),i.getPrimary()},a=function(t){return tv.getValue(t).value},c=function(t,n,e){return gt(n,(function(t){if(!t.getSystem().isConnected())return V.none();var n=rb.getCandidates(t);return tt(n,(function(t){return a(t)===e}))}))},s=function(n){return bt(t.data.menus,(function(t,n){return rt(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},l=function(t,n){rb.highlight(t,n),rb.getHighlighted(n).orThunk((function(){return rb.getFirst(n)})).each((function(n){Oa(t,n.element,ea())}))},f=function(t,n){return At($(n,(function(n){return t.lookupMenu(n).bind((function(t){return"prepared"===t.type?V.some(t.menu):V.none()}))})))},d=function(n,e,r){var o=f(e,e.otherMenus(r));q(o,(function(e){ls(e.element,[t.markers.backgroundMenu]),t.stayInDom||Lw.remove(n,e)}))},m=function(n){return r.get().getOrThunk((function(){var e={},o=Km(n.element,"."+t.markers.item),i=Y(o,(function(t){return"true"===je(t,"aria-haspopup")}));return q(i,(function(t){n.getSystem().getByDom(t).each((function(t){var n=a(t);e[n]=t}))})),r.set(e),e}))},g=function(t,n){var e=m(t);pt(e,(function(t,e){var r=j(n,e);Fe(t.element,"aria-expanded",r)}))},h=function(n,e,r){return V.from(r[0]).bind((function(o){return e.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return V.none();var i=o.menu,u=f(e,r.slice(1));return q(u,(function(n){is(n.element,t.markers.backgroundMenu)})),Ve(i.element)||Lw.append(n,Ms(i)),ls(i.element,[t.markers.backgroundMenu]),l(n,i),d(n,e,r),V.some(i)}))}))};(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu",t[t["HighlightParent"]=1]="HighlightParent"})(e||(e={}));var p=function(t,n,e){if("notbuilt"===e.type){var r=t.getSystem().build(e.nbMenu());return i.setMenuBuilt(n,r),r}return e.menu},b=function(n,r,o){if(void 0===o&&(o=e.HighlightSubmenu),r.hasConfigured(Ip)&&Ip.isDisabled(r))return V.some(r);var u=a(r);return i.expand(u).bind((function(u){return g(n,u),V.from(u[0]).bind((function(a){return i.lookupMenu(a).bind((function(c){var s=p(n,a,c);return Ve(s.element)||Lw.append(n,Ms(s)),t.onOpenSubmenu(n,r,s,it(u)),o===e.HighlightSubmenu?(rb.highlightFirst(s),h(n,i,u)):(rb.dehighlightAll(s),V.some(r))}))}))}))},y=function(n,e){var r=a(e);return i.collapse(r).bind((function(r){return g(n,r),h(n,i,r).map((function(r){return t.onCollapseMenu(n,e,r),r}))}))},w=function(t,n){var e=a(n);return i.refresh(e).bind((function(n){return g(t,n),h(t,i,n)}))},x=function(t,n){return gp(n.element)?V.none():b(t,n,e.HighlightSubmenu)},S=function(t,n){return gp(n.element)?V.none():y(t,n)},C=function(n,e){return y(n,e).orThunk((function(){return t.onEscape(n,e).map((function(){return n}))}))},k=function(n){return function(e,r){return Ls(r.getSource(),"."+t.markers.item).bind((function(t){return e.getSystem().getByDom(t).toOptional().bind((function(t){return n(e,t).map(T)}))}))}},O=Ma([Ha(Px(),(function(t,n){var e=n.event.item;i.lookupItem(a(e)).each((function(){var e=n.event.menu;rb.highlight(t,e);var r=a(n.event.item);i.refresh(r).each((function(n){return d(t,i,n)}))}))})),Ga((function(n,r){var o=r.event.target;n.getSystem().getByDom(o).each((function(r){var o=a(r);0===o.indexOf("collapse-item")&&y(n,r),b(n,r,e.HighlightSubmenu).fold((function(){t.onExecute(n,r)}),v)}))})),ja((function(n,e){u(n).each((function(e){Lw.append(n,Ms(e)),t.onOpenMenu(n,e),t.highlightImmediately&&l(n,e)}))}))].concat(t.navigateOnHover?[Ha(Sx(),(function(n,r){var o=r.event.item;w(n,o),b(n,o,e.HighlightParent),t.onHover(n,o)}))]:[])),z=function(t){return rb.getHighlighted(t).bind(rb.getHighlighted)},M=function(t){z(t).each((function(n){y(t,n)}))},_=function(t){i.getPrimary().each((function(n){l(t,n)}))},A=function(t){return V.from(t.components()[0]).filter((function(t){return"menu"===je(t.element,"role")}))},H=function(n){var e=i.getPrimary().bind((function(t){return z(n).bind((function(t){var e=a(t),r=Ot(i.getMenus()),o=At($(r,$x.extractPreparedMenu));return i.getTriggeringPath(e,(function(t){return c(n,o,t)}))})).map((function(n){return{primary:t,triggeringPath:n}}))}));e.fold((function(){A(n).each((function(e){t.onRepositionMenu(n,e,[])}))}),(function(e){var r=e.primary,o=e.triggeringPath;t.onRepositionMenu(n,r,o)}))},E={collapseMenu:M,highlightPrimary:_,repositionMenus:H};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:rv(t.tmenuBehaviours,[Dw.config({mode:"special",onRight:k(x),onLeft:k(S),onEscape:k(C),focusIn:function(t,n){i.getPrimary().each((function(n){Oa(t,n.element,ea())}))}}),rb.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),bp.config({find:function(t){return rb.getHighlighted(t)}}),Lw.config({})]),eventOrder:t.eventOrder,apis:E,events:O}},Xx=w("collapse-item"),Kx=function(t,n,e){return{primary:t,menus:n,expansions:e}},Yx=function(t,n){return{primary:t,menus:mu(t,n),expansions:{}}},Jx=function(t){return{value:oc(Xx()),meta:{text:t}}},Qx=dp({name:"TieredMenu",configFields:[ll("onExecute"),ll("onEscape"),sl("onOpenMenu"),sl("onOpenSubmenu"),al("onRepositionMenu"),al("onCollapseMenu"),Xi("highlightImmediately",!0),Ii("data",[Di("primary"),Di("menus"),Di("expansions")]),Xi("fakeFocus",!1),al("onHighlight"),al("onHover"),ol(),Di("dom"),Xi("navigateOnHover",!0),Xi("stayInDom",!1),nv("tmenuBehaviours",[Dw,rb,bp,Lw]),Xi("eventOrder",{})],apis:{collapseMenu:function(t,n){t.collapseMenu(n)},highlightPrimary:function(t,n){t.highlightPrimary(n)},repositionMenus:function(t,n){t.repositionMenus(n)}},factory:qx,extraApis:{tieredData:Kx,singleData:Yx,collapseItem:Jx}}),Zx=function(t,n,e,r,o){var i=function(){return t.lazySink(n)},u="horizontal"===r.type?{layouts:{onLtr:function(){return Zl()},onRtl:function(){return tf()}}}:{},a=function(t){return 2===t.length},c=function(t){return a(t)?u:{}};return Qx.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return bh.close(n),t.onEscape.map((function(t){return t(n)})),V.some(!0)},onExecute:function(){return V.some(!0)},onOpenMenu:function(t,n){Pg.positionWithinBounds(i().getOrDie(),n,e,o())},onOpenSubmenu:function(t,n,e,r){var o=i().getOrDie();Pg.position(o,e,{anchor:D({type:"submenu",item:n},c(r))})},onRepositionMenu:function(t,n,r){var u=i().getOrDie();Pg.positionWithinBounds(u,n,e,o()),q(r,(function(t){var n=c(t.triggeringPath);Pg.position(u,t.triggeredMenu,{anchor:D({type:"submenu",item:t.triggeringItem},n)})}))}})},tS=function(t,n){var e=function(n,e){var r=t.getRelated(n);return r.exists((function(t){return Us(t,e)}))},r=function(t,n){bh.setContent(t,n)},o=function(t,n,e){i(t,n,e,V.none())},i=function(t,n,e,r){u(t,n,e,(function(){return r.map((function(t){return Jr(t)}))}))},u=function(n,e,r,o){var i=t.lazySink(n).getOrDie();bh.openWhileCloaked(n,e,(function(){return Pg.positionWithinBounds(i,n,r,o())})),tv.setValue(n,V.some({mode:"position",config:r,getBounds:o}))},a=function(t,n,e){c(t,n,e,V.none)},c=function(n,e,r,o){var i=Zx(t,n,e,r,o);bh.open(n,i),tv.setValue(n,V.some({mode:"menu",menu:i}))},s=function(t){bh.isOpen(t)&&(tv.setValue(t,V.none()),bh.close(t))},l=function(t){return bh.getState(t)},f=function(n){bh.isOpen(n)&&tv.getValue(n).each((function(e){switch(e.mode){case"menu":bh.getState(n).each(Qx.repositionMenus);break;case"position":var r=t.lazySink(n).getOrDie();Pg.positionWithinBounds(r,n,e.config,e.getBounds());break}}))},d={setContent:r,showAt:o,showWithin:i,showWithinBounds:u,showMenuAt:a,showMenuWithinBounds:c,hide:s,getContent:l,reposition:f,isOpen:bh.isOpen};return{uid:t.uid,dom:t.dom,behaviours:rv(t.inlineBehaviours,[bh.config({isPartOf:function(t,n,r){return Us(n,r)||e(t,r)},getAttachPoint:function(n){return t.lazySink(n).getOrDie()},onOpen:function(n){t.onShow(n)},onClose:function(n){t.onHide(n)}}),tv.config({store:{mode:"memory",initialValue:V.none()}}),yf.config({channels:D(D({},Ch(D({isExtraPart:n.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),Oh(D(D({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:f})))})]),eventOrder:t.eventOrder,apis:d}},nS=dp({name:"InlineView",configFields:[Di("lazySink"),al("onShow"),al("onHide"),Wi("onEscape"),nv("inlineBehaviours",[bh,tv,yf]),$i("fireDismissalEventInstead",[Xi("event",ga())]),$i("fireRepositionEventInstead",[Xi("event",ha())]),Xi("getRelated",V.none),Xi("isExtraPart",z),Xi("eventOrder",V.none)],factory:tS,apis:{showAt:function(t,n,e,r){t.showAt(n,e,r)},showWithin:function(t,n,e,r,o){t.showWithin(n,e,r,o)},showWithinBounds:function(t,n,e,r,o){t.showWithinBounds(n,e,r,o)},showMenuAt:function(t,n,e,r){t.showMenuAt(n,e,r)},showMenuWithinBounds:function(t,n,e,r,o){t.showMenuWithinBounds(n,e,r,o)},hide:function(t,n){t.hide(n)},isOpen:function(t,n){return t.isOpen(n)},getContent:function(t,n){return t.getContent(n)},setContent:function(t,n,e){t.setContent(n,e)},reposition:function(t,n){t.reposition(n)}}}),eS="layout-inset",rS=function(t){return t.x},oS=function(t,n){return t.x+t.width/2-n.width/2},iS=function(t,n){return t.x+t.width-n.width},uS=function(t){return t.y},aS=function(t,n){return t.y+t.height-n.height},cS=function(t,n){return t.y+t.height/2-n.height/2},sS=function(t,n,e){return gl(iS(t,n),aS(t,n),e.insetSouthwest(),Sl(),"southwest",_l(t,{right:0,bottom:3}),eS)},lS=function(t,n,e){return gl(rS(t),aS(t,n),e.insetSoutheast(),xl(),"southeast",_l(t,{left:1,bottom:3}),eS)},fS=function(t,n,e){return gl(iS(t,n),uS(t),e.insetNorthwest(),wl(),"northwest",_l(t,{right:0,top:2}),eS)},dS=function(t,n,e){return gl(rS(t),uS(t),e.insetNortheast(),yl(),"northeast",_l(t,{left:1,top:2}),eS)},mS=function(t,n,e){return gl(oS(t,n),uS(t),e.insetNorth(),Cl(),"north",_l(t,{top:2}),eS)},gS=function(t,n,e){return gl(oS(t,n),aS(t,n),e.insetSouth(),kl(),"south",_l(t,{bottom:3}),eS)},hS=function(t,n,e){return gl(iS(t,n),cS(t,n),e.insetEast(),zl(),"east",_l(t,{right:0}),eS)},vS=function(t,n,e){return gl(rS(t),cS(t,n),e.insetWest(),Ol(),"west",_l(t,{left:1}),eS)},pS=function(t){switch(t){case"north":return mS;case"northeast":return dS;case"northwest":return fS;case"south":return gS;case"southeast":return lS;case"southwest":return sS;case"east":return hS;case"west":return vS}},bS=function(t,n,e,r,o){var i=$f(r).map(pS).getOr(mS);return i(t,n,e,r,o)},yS=function(t){switch(t){case"north":return gS;case"northeast":return lS;case"northwest":return sS;case"south":return mS;case"southeast":return dS;case"southwest":return fS;case"east":return vS;case"west":return hS}},wS=function(t,n,e,r,o){var i=$f(r).map(yS).getOr(mS);return i(t,n,e,r,o)},xS=tinymce.util.Tools.resolve("tinymce.util.Delay"),SS=function(t){var n=px(t.action),e=t.dom.tag,r=function(n){return zt(t.dom,"attributes").bind((function(t){return zt(t,n)}))},o=function(){if("button"===e){var t=r("type").getOr("button"),n=r("role").map((function(t){return{role:t}})).getOr({});return D({type:t},n)}var o=r("role").getOr("button");return{role:o}};return{uid:t.uid,dom:t.dom,components:t.components,events:n,behaviours:ov.augment(t.buttonBehaviours,[Yw.config({}),Dw.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:o()},eventOrder:t.eventOrder}},CS=dp({name:"Button",factory:SS,configFields:[Xi("uid",void 0),Di("dom"),Xi("components",[]),ov.field("buttonBehaviours",[Yw,Dw]),Fi("action"),Fi("role"),Xi("eventOrder",{})]}),kS=function(t){var n=sp(t)&&Mt(t,"uid")?t.uid:dc("memento"),e=function(t){return t.getSystem().getByUid(n).getOrDie()},r=function(t){return t.getSystem().getByUid(n).toOptional()},o=function(){return D(D({},t),{uid:n})};return{get:e,getOpt:r,asSpec:o}},OS=tinymce.util.Tools.resolve("tinymce.util.I18n"),zS={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},TS="temporary-placeholder",MS=function(t){return function(){return zt(t,TS).getOr("!not found!")}},DS=function(t,n){var e=t.toLowerCase();if(OS.isRtl()){var r=Nt(e,"-rtl");return Tt(n,r)?r:e}return e},_S=function(t,n){return zt(n,DS(t,n))},AS=function(t,n){var e=n();return _S(t,e).getOrThunk(MS(e))},HS=function(t,n,e){var r=n();return _S(t,r).or(e).getOrThunk(MS(r))},ES=function(t){return!!OS.isRtl()&&Tt(zS,t)},RS=function(){return Nw("add-focusable",[ja((function(t){Is(t.element,"svg").each((function(t){return Fe(t,"focusable","false")}))}))])},BS=function(t,n,e,r){var o,i,u=ES(n)?["tox-icon--flip"]:[],a=zt(e,DS(n,e)).or(r).getOrThunk(MS(e));return{dom:{tag:t.tag,attributes:null!==(o=t.attributes)&&void 0!==o?o:{},classes:t.classes.concat(u),innerHtml:a},behaviours:mf(A(A([],null!==(i=t.behaviours)&&void 0!==i?i:[],!0),[RS()],!1))}},VS=function(t,n,e,r){return void 0===r&&(r=V.none()),BS(n,t,e(),r)},IS=function(t,n,e){var r=e(),o=tt(t,(function(t){return Tt(r,DS(t,r))}));return BS(n,o.getOr(TS),r,V.none())},PS={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},LS=function(t){var n=kS({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:mf([Lw.config({})])}),e=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},o=kS({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[e(0)]},r(0)],behaviours:mf([Lw.config({})])}),i=function(t,n){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){Lw.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[e(n)]},r(n)])}))},u=function(t,e){if(t.getSystem().isConnected()){var r=n.get(t);Lw.set(r,[Cs(e)])}},a={updateProgress:i,updateText:u},c=et([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return V.from(PS[t])})).toArray()]),s=kS(CS.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[VS("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(n){t.onAction(n)}})),l=IS(c,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),f={dom:{tag:"div",classes:["tox-notification__body"]},components:[n.asSpec()],behaviours:mf([Lw.config({})])},d=[l,f];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},behaviours:mf([Yw.config({}),Nw("notification-events",[Ha(Pu(),(function(t){s.getOpt(t).each(Yw.focus)}))])]),components:d.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[s.asSpec()]:[]),apis:a}},FS=dp({name:"Notification",factory:LS,configFields:[Fi("level"),Di("progress"),Di("icon"),Di("onAction"),Di("text"),Di("iconProvider"),Di("translationProvider"),Zi("closeButton",!0)],apis:{updateProgress:function(t,n,e){t.updateProgress(n,e)},updateText:function(t,n,e){t.updateText(n,e)}}});function NS(t,n,e){var r=n.backstage.shared,o=function(t){switch(t){case"bc-bc":return gS;case"tc-tc":return mS;case"tc-bc":return Gl;case"bc-tc":default:return $l}},i=function(t){t.length>0&&q(t,(function(n,e){0===e?n.moveRel(null,"banner"):n.moveRel(t[e-1].getEl(),"bc-tc")}))},u=function(n,i){var u=!n.closeButton&&n.timeout&&(n.timeout>0||n.timeout<0),a=function(){i(),nS.hide(s)},c=Ts(FS.sketch({text:n.text,level:j(["success","error","warning","warn","info"],n.type)?n.type:void 0,progress:!0===n.progressBar,icon:V.from(n.icon),closeButton:!u,onAction:a,iconProvider:r.providers.icons,translationProvider:r.providers.translate})),s=Ts(nS.sketch(D({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.getSink,fireDismissalEventInstead:{}},r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));e.add(s),n.timeout>0&&xS.setTimeout((function(){a()}),n.timeout);var l=function(){var n=Jr(nn.fromDom(t.getContentAreaContainer())),e=Zr(),r=Ml(e.x,n.x,n.right),o=Ml(e.y,n.y,n.bottom),i=Math.max(n.right,e.right),u=Math.max(n.bottom,e.bottom);return V.some(Yr(r,o,i-r,u-o))};return{close:a,moveTo:function(t,n){nS.showAt(s,Ms(c),{anchor:{type:"makeshift",x:t,y:n}})},moveRel:function(t,n){var e=Ms(c),i={maxHeightFunction:Td()};if("banner"!==n&&d(t)){var u=o(n),a={type:"node",root:Ie(),node:V.some(nn.fromDom(t)),overrides:i,layouts:{onRtl:function(){return[u]},onLtr:function(){return[u]}}};nS.showWithinBounds(s,e,{anchor:a},l)}else{var f=D(D({},r.anchors.banner()),{overrides:i});nS.showWithinBounds(s,e,{anchor:f},l)}},text:function(t){FS.updateText(c,t)},settings:n,getEl:function(){return c.element.dom},progressBar:{value:function(t){FS.updateProgress(c,t)}}}},a=function(t){t.close()},c=function(t){return t.settings};return{open:u,close:a,reposition:i,getArgs:c}}var jS,US=function(t,n){var e=null,r=function(){c(e)||(clearTimeout(e),e=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];c(e)&&(e=setTimeout((function(){e=null,t.apply(null,r)}),n))};return{cancel:r,throttle:o}},WS=function(t,n){var e=null,r=function(){c(e)||(clearTimeout(e),e=null)},o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r(),e=setTimeout((function(){e=null,t.apply(null,o)}),n)};return{cancel:r,throttle:o}},GS=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),$S=function(t,n){return t.isBlock(n)||j(["BR","IMG","HR","INPUT"],n.nodeName)||"false"===t.getContentEditable(n)},qS=function(t,n,e,r,o){var i=GS(t,(function(n){return $S(t,n)}));return V.from(i.backwards(n,e,r,o))},XS="[data-mce-autocompleter]",KS=function(t,n){return YS(nn.fromDom(t.selection.getNode())).getOrThunk((function(){var e=nn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return _r(e,nn.fromDom(n.extractContents())),n.insertNode(e.dom),pe(e).each((function(t){return t.dom.normalize()})),qm(e).map((function(n){t.selection.setCursorLocation(n.dom,Um(n))})),e}))},YS=function(t){return Ls(t,XS)},JS=function(t){return t.collapsed&&3===t.startContainer.nodeType},QS=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},ZS=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},tC=function(t,n){return t.substring(n.length)},nC=function(t,n,e){var r;for(r=n-1;r>=0;r--){var o=t.charAt(r);if(ZS(o))return V.none();if(o===e)break}return V.some(r)},eC=function(t,n,e,r){if(void 0===r&&(r=0),!JS(n))return V.none();var o=function(t,n,r){return nC(r,n,e).getOr(n)},i=t.getParent(n.startContainer,t.isBlock)||t.getRoot();return qS(t,n.startContainer,n.startOffset,o,i).bind((function(t){var o=n.cloneRange();if(o.setStart(t.container,t.offset),o.setEnd(n.endContainer,n.endOffset),o.collapsed)return V.none();var i=QS(o),u=i.lastIndexOf(e);return 0!==u||tC(i,e).length<r?V.none():V.some({text:tC(i,e),range:o,triggerChar:e})}))},rC=function(t,n,e,r){return void 0===r&&(r=0),YS(nn.fromDom(n.startContainer)).fold((function(){return eC(t,n,e,r)}),(function(n){var r=t.createRng();r.selectNode(n.dom);var o=QS(r);return V.some({range:r,text:tC(o,e),triggerChar:e})}))},oC=function(t,n){n.on("keypress compositionend",t.onKeypress.throttle),n.on("remove",t.onKeypress.cancel);var e=function(t,n){Ca(t,Fu(),{raw:n})};n.on("keydown",(function(n){var r=function(){return t.getView().bind(rb.getHighlighted)};8===n.which&&t.onKeypress.throttle(n),t.isActive()&&(27===n.which&&t.cancelIfNecessary(),t.isMenuOpen()?13===n.which?(r().each(ka),n.preventDefault()):40===n.which?(r().fold((function(){t.getView().each(rb.highlightFirst)}),(function(t){e(t,n)})),n.preventDefault(),n.stopImmediatePropagation()):37!==n.which&&38!==n.which&&39!==n.which||r().each((function(t){e(t,n),n.preventDefault(),n.stopImmediatePropagation()})):13!==n.which&&38!==n.which&&40!==n.which||t.cancelIfNecessary())})),n.on("NodeChange",(function(n){t.isActive()&&!t.isProcessingAction()&&YS(nn.fromDom(n.element)).isNone()&&t.cancelIfNecessary()}))},iC={setup:oC},uC=tinymce.util.Tools.resolve("tinymce.util.Promise"),aC=function(t,n){return{container:t,offset:n}},cC=function(t){return t.nodeType===an},sC=function(t){return t.nodeType===un},lC=function(t){if(cC(t))return aC(t,t.data.length);var n=t.childNodes;return n.length>0?lC(n[n.length-1]):aC(t,n.length)},fC=function(t,n){var e=t.childNodes;return e.length>0&&n<e.length?fC(e[n],0):e.length>0&&sC(t)&&e.length===n?lC(e[e.length-1]):aC(t,n)},dC=function(t,n){return qS(t,n.container,n.offset,(function(t,n){return 0===n?-1:n}),t.getRoot()).filter((function(t){var n=t.container.data.charAt(t.offset-1);return!ZS(n)})).isSome()},mC=function(t){return function(n){var e=fC(n.startContainer,n.startOffset);return!dC(t,e)}},gC=function(t,n,e){return gt(e.triggerChars,(function(e){return rC(t,n,e)}))},hC=function(t,n){var e=n(),r=t.selection.getRng();return gC(t.dom,r,e).bind((function(e){return vC(t,n,e)}))},vC=function(t,n,e,r){void 0===r&&(r={});var o=n(),i=t.selection.getRng(),u=i.startContainer.nodeValue,a=Y(o.lookupByChar(e.triggerChar),(function(n){return e.text.length>=n.minChars&&n.matches.getOrThunk((function(){return mC(t.dom)}))(e.range,u,e.text)}));if(0===a.length)return V.none();var c=uC.all($(a,(function(t){var n=t.fetch(e.text,t.maxResults,r);return n.then((function(n){return{matchText:e.text,items:n,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}}))})));return V.some({lookupData:c,context:e})},pC=ti([Hi("type"),Ui("text")]),bC=function(t){return wi("separatormenuitem",pC,t)},yC=ti([Xi("type","autocompleteitem"),Xi("active",!1),Xi("disabled",!1),Xi("meta",{}),Hi("value"),Ui("text"),Ui("icon")]),wC=ti([Hi("type"),Hi("ch"),Yi("minChars",1),Xi("columns",1),Yi("maxResults",10),Wi("matches"),Bi("fetch"),Bi("onAction"),eu("highlightOn",[],si)]),xC=function(t){return wi("Autocompleter.Separator",pC,t)},SC=function(t){return wi("Autocompleter.Item",yC,t)},CC=function(t){return wi("Autocompleter",wC,t)},kC=[Zi("disabled",!1),Ui("tooltip"),Ui("icon"),Ui("text"),tu("onSetup",(function(){return v}))],OC=ti([Hi("type"),Bi("onAction")].concat(kC)),zC=function(t){return wi("toolbarbutton",OC,t)},TC=[Zi("active",!1)].concat(kC),MC=ti(TC.concat([Hi("type"),Bi("onAction")])),DC=function(t){return wi("ToggleButton",MC,t)},_C=[tu("predicate",z),Qi("scope","node",["node","editor"]),Qi("position","selection",["node","selection","line"])],AC=kC.concat([Xi("type","contextformbutton"),Xi("primary",!1),Bi("onAction"),Ti("original",x)]),HC=TC.concat([Xi("type","contextformbutton"),Xi("primary",!1),Bi("onAction"),Ti("original",x)]),EC=kC.concat([Xi("type","contextformbutton")]),RC=TC.concat([Xi("type","contextformtogglebutton")]),BC=ki("type",{contextformbutton:AC,contextformtogglebutton:HC}),VC=ti([Xi("type","contextform"),tu("initValue",w("")),Ui("label"),Li("commands",BC),Ni("launch",ki("type",{contextformbutton:EC,contextformtogglebutton:RC}))].concat(_C)),IC=function(t){return wi("ContextForm",VC,t)},PC=ti([Xi("type","contexttoolbar"),Hi("items")].concat(_C)),LC=function(t){return wi("ContextToolbar",PC,t)},FC=function(t){var n={};return q(t,(function(t){n[t]={}})),ht(n)},NC=function(t){var n=t.ui.registry.getAll().popups,e=bt(n,(function(t){return CC(t).fold((function(t){throw new Error(Ci(t))}),x)})),r=FC(Ct(e,(function(t){return t.ch}))),o=Ot(e),i=function(t){return Y(o,(function(n){return n.ch===t}))};return{dataset:e,triggerChars:r,lookupByChar:i}};(function(t){t[t["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",t[t["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(jS||(jS={}));var jC,UC=jS,WC="tox-menu-nav__js",GC="tox-collection__item",$C="tox-swatch",qC={normal:WC,color:$C},XC="tox-collection__item--enabled",KC="tox-collection__group-heading",YC="tox-collection__item-icon",JC="tox-collection__item-label",QC="tox-collection__item-accessory",ZC="tox-collection__item-caret",tk="tox-collection__item-checkmark",nk="tox-collection__item--active",ek="tox-collection__item-container",rk="tox-collection__item-container--column",ok="tox-collection__item-container--row",ik="tox-collection__item-container--align-right",uk="tox-collection__item-container--align-left",ak="tox-collection__item-container--valign-top",ck="tox-collection__item-container--valign-middle",sk="tox-collection__item-container--valign-bottom",lk=function(t){return zt(qC,t).getOr(WC)},fk=function(t){return"color"===t?"tox-swatches":"tox-menu"},dk=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:fk(t),tieredMenu:"tox-tiered-menu"}},mk=function(t){var n=dk(t);return{backgroundMenu:n.backgroundMenu,selectedMenu:n.selectedMenu,menu:n.menu,selectedItem:n.selectedItem,item:lk(t)}},gk=function(t,n,e){var r=dk(e);return{tag:"div",classes:et([[r.menu,"tox-menu-"+n+"-column"],t?[r.hasIcons]:[]])}},hk=[Fx.parts.items({})],vk=function(t,n,e){var r=dk(e),o={tag:"div",classes:et([[r.tieredMenu]])};return{dom:o,markers:mk(e)}},pk=function(t,n){return function(e){var r=G(e,n);return $(r,(function(n){return{dom:t,components:n}}))}},bk=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Fx.parts.items({preprocess:"auto"!==t?pk({tag:"div",classes:["tox-swatches__row"]},t):x})]}]}},yk=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Fx.parts.items({preprocess:pk({tag:"div",classes:["tox-collection__group"]},t)})]}},wk=function(t,n){var e=[],r=[];return q(t,(function(t,o){n(t,o)?(r.length>0&&e.push(r),r=[],Tt(t.dom,"innerHtml")&&r.push(t)):r.push(t)})),r.length>0&&e.push(r),$(e,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},xk=function(t,n,e){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[Fx.parts.items({preprocess:function(e){return"auto"!==t&&t>1?pk({tag:"div",classes:["tox-collection__group"]},t)(e):wk(e,(function(t,e){return"separator"===n[e].type}))}})]}},Sk=function(t,n){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Fx.parts.items({preprocess:function(n){return wk(n,(function(n,e){return"separator"===t[e].type}))}})]}},Ck=function(t){return U(t,(function(t){return"icon"in t&&void 0!==t.icon}))},kk=function(t){return console.error(Ci(t)),console.log(t),V.none()},Ok=function(t,n,e,r,o){var i=Sk(e);return{value:t,dom:i.dom,components:i.components,items:e}},zk=function(t,n,e,r,o){if("color"===o){var i=bk(r);return{value:t,dom:i.dom,components:i.components,items:e}}if("normal"===o&&"auto"===r){i=xk(r,e);return{value:t,dom:i.dom,components:i.components,items:e}}if("normal"===o&&1===r){i=xk(1,e);return{value:t,dom:i.dom,components:i.components,items:e}}if("normal"===o){i=xk(r,e);return{value:t,dom:i.dom,components:i.components,items:e}}if("listpreview"===o&&"auto"!==r){i=yk(r);return{value:t,dom:i.dom,components:i.components,items:e}}return{value:t,dom:gk(n,r,o),components:hk,items:e}},Tk=[Hi("type"),Hi("src"),Ui("alt"),eu("classes",[],si)],Mk=ti(Tk),Dk=[Hi("type"),Hi("text"),Ui("name"),eu("classes",["tox-collection__item-label"],si)],_k=ti(Dk),Ak=Jo((function(){return hi("type",{cardimage:Mk,cardtext:_k,cardcontainer:Hk})})),Hk=ti([Hi("type"),Ji("direction","horizontal"),Ji("align","left"),Ji("valign","middle"),Li("items",Ak)]),Ek=[Zi("disabled",!1),Ui("text"),Ui("shortcut"),zi("value","value",Oo((function(){return oc("menuitem-value")})),ui()),Xi("meta",{})],Rk=ti([Hi("type"),Ui("label"),Li("items",Ak),tu("onSetup",(function(){return v})),tu("onAction",v)].concat(Ek)),Bk=function(t){return wi("cardmenuitem",Rk,t)},Vk=ti([Hi("type"),Zi("active",!1),Ui("icon")].concat(Ek)),Ik=function(t){return wi("choicemenuitem",Vk,t)},Pk=[Hi("type"),Hi("fancytype"),tu("onAction",v)],Lk=[Xi("initData",{})].concat(Pk),Fk=[ru("initData",{},[Zi("allowCustomColors",!0),Gi("colors",ui())])].concat(Pk),Nk=ki("fancytype",{inserttable:Lk,colorswatch:Fk}),jk=function(t){return wi("fancymenuitem",Nk,t)},Uk=ti([Hi("type"),tu("onSetup",(function(){return v})),tu("onAction",v),Ui("icon")].concat(Ek)),Wk=function(t){return wi("menuitem",Uk,t)},Gk=ti([Hi("type"),Bi("getSubmenuItems"),tu("onSetup",(function(){return v})),Ui("icon")].concat(Ek)),$k=function(t){return wi("nestedmenuitem",Gk,t)},qk=ti([Hi("type"),Ui("icon"),Zi("active",!1),tu("onSetup",(function(){return v})),Bi("onAction")].concat(Ek)),Xk=function(t){return wi("togglemenuitem",qk,t)},Kk=function(t,n,e){var r=Km(t.element,"."+e);if(r.length>0){var o=nt(r,(function(t){var e=t.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(e-o)>n})).getOr(r.length);return V.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return V.none()},Yk=function(t,n){return mf([Nw(t,n)])},Jk=function(t){return Yk(oc("unnamed-events"),t)},Qk={namedEvents:Yk,unnamedEvents:Jk},Zk=oc("tooltip.exclusive"),tO=oc("tooltip.show"),nO=oc("tooltip.hide"),eO=function(t,n,e){t.getSystem().broadcastOn([Zk],{})},rO=function(t,n,e,r){e.getTooltip().each((function(t){t.getSystem().isConnected()&&Lw.set(t,r)}))},oO=Object.freeze({__proto__:null,hideAllExclusive:eO,setComponents:rO}),iO=function(t,n){var e=function(e){n.getTooltip().each((function(r){qg(r),t.onHide(e,r),n.clearTooltip()})),n.clearTimer()},r=function(e){if(!n.isShowing()){eO(e);var r=t.lazySink(e).getOrDie(),o=e.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ma("normal"===t.mode?[Ha(Iu(),(function(t){Sa(e,tO)})),Ha(Bu(),(function(t){Sa(e,nO)}))]:[]),behaviours:mf([Lw.config({})])});n.setTooltip(o),Wg(r,o),t.onShow(e,o),Pg.position(r,o,{anchor:t.anchor(e)})}};return Ma(et([[Ha(tO,(function(e){n.resetTimer((function(){r(e)}),t.delay)})),Ha(nO,(function(r){n.resetTimer((function(){e(r)}),t.delay)})),Ha(ta(),(function(t,n){var r=n;r.universal||j(r.channels,Zk)&&e(t)})),Ua((function(t){e(t)}))],"normal"===t.mode?[Ha(Pu(),(function(t){Sa(t,tO)})),Ha(Qu(),(function(t){Sa(t,nO)})),Ha(Iu(),(function(t){Sa(t,tO)})),Ha(Bu(),(function(t){Sa(t,nO)}))]:[Ha(wa(),(function(t,n){Sa(t,tO)})),Ha(xa(),(function(t){Sa(t,nO)}))]]))},uO=Object.freeze({__proto__:null,events:iO}),aO=[Di("lazySink"),Di("tooltipDom"),Xi("exclusive",!0),Xi("tooltipComponents",[]),Xi("delay",300),Qi("mode","normal",["normal","follow-highlight"]),Xi("anchor",(function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:w([$l,Gl,Nl,Ul,jl,Wl]),onRtl:w([$l,Gl,Nl,Ul,jl,Wl])}}})),al("onHide"),al("onShow")],cO=function(){var t=od(),n=od(),e=function(){t.on(clearTimeout)},r=function(n,r){e(),t.set(setTimeout(n,r))},o=w("not-implemented");return Oc({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:e,resetTimer:r,readState:o})},sO=Object.freeze({__proto__:null,init:cO}),lO=hf({fields:aO,name:"tooltipping",active:uO,state:sO,apis:oO}),fO=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},dO=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),mO=tinymce.util.Tools.resolve("tinymce.EditorManager"),gO=function(t){var n=t.getParam("skin"),e=t.getParam("skin_url");if(!1!==n){var r=n||"oxide";e=e?t.documentBaseURI.toAbsolute(e):mO.baseURL+"/skins/ui/"+r}return e},hO=function(t){return t.getParam("readonly",!1,"boolean")},vO=function(t){return!1===t.getParam("skin")},pO=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},bO=function(t){return t.getParam("width",dO.DOM.getStyle(t.getElement(),"width"))},yO=function(t){return V.from(t.getParam("min_width")).filter(g)},wO=function(t){return V.from(t.getParam("min_height")).filter(g)},xO=function(t){return V.from(t.getParam("max_width")).filter(g)},SO=function(t){return V.from(t.getParam("max_height")).filter(g)},CO=function(t){return V.from(t.getParam("style_formats")).filter(a)},kO=function(t){return t.getParam("style_formats_merge",!1,"boolean")},OO=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},zO=function(t){return t.getParam("content_langs",void 0,"array")},TO=function(t){return t.getParam("removed_menuitems","")},MO=function(t){return!1!==t.getParam("menubar",!0,"boolean")},DO=function(t){var n=t.getParam("toolbar",!0),e=!0===n,r=i(n),o=a(n)&&n.length>0;return!AO(t)&&(o||r||e)},_O=function(t){var n=W(9,(function(n){return t.getParam("toolbar"+(n+1),!1,"string")})),e=Y(n,(function(t){return"string"===typeof t}));return e.length>0?V.some(e):V.none()},AO=function(t){return _O(t).fold((function(){var n=t.getParam("toolbar",[],"string[]");return n.length>0}),T)};(function(t){t["default"]="wrap",t["floating"]="floating",t["sliding"]="sliding",t["scrolling"]="scrolling"})(jC||(jC={}));var HO,EO=function(t){return t.getParam("toolbar_mode","","string")};(function(t){t["auto"]="auto",t["top"]="top",t["bottom"]="bottom"})(HO||(HO={}));var RO,BO=function(t){return t.getParam("toolbar_groups",{},"object")},VO=function(t){return t.getParam("toolbar_location",HO.auto,"string")},IO=function(t){return VO(t)===HO.bottom},PO=function(t){return t.getParam("fixed_toolbar_container","","string")},LO=function(t){return t.getParam("fixed_toolbar_container_target")},FO=function(t){return t.getParam("toolbar_persist",!1,"boolean")},NO=function(t){if(!t.inline)return V.none();var n=PO(t);if(n.length>0)return Ps(Ie(),n);var e=LO(t);return d(e)?V.some(nn.fromDom(e)):V.none()},jO=function(t){return t.inline&&NO(t).isSome()},UO=function(t){var n=NO(t);return n.getOrThunk((function(){return _e(De(nn.fromDom(t.getElement())))}))},WO=function(t){return t.inline&&!MO(t)&&!DO(t)&&!AO(t)},GO=function(t){var n=t.getParam("toolbar_sticky",!1,"boolean");return(n||t.inline)&&!jO(t)&&!WO(t)},$O=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},qO=function(t){return t.getParam("draggable_modal",!1,"boolean")},XO=function(t){var n=t.getParam("menu");return n?bt(n,(function(t){return D(D({},t),{items:t.items})})):{}},KO=function(t){return t.getParam("menubar")},YO=function(t){return t.getParam("toolbar",!0)},JO=function(t){return t.getParam("file_picker_callback")},QO=function(t){return t.getParam("file_picker_types")},ZO=function(t){return t.getParam("file_browser_callback_types")},tz=function(t){return!1===t.getParam("typeahead_urls")},nz=function(t){return t.getParam("anchor_top","#top")},ez=function(t){return t.getParam("anchor_bottom","#bottom")},rz=function(t){var n=t.getParam("file_picker_validator_handler",void 0,"function");return void 0===n?t.getParam("filepicker_validator_handler",void 0,"function"):n},oz="silver.readonly",iz=ti([Ri("readonly")]),uz=function(t,n){var e=t.outerContainer,r=e.element;n&&(t.mothership.broadcastOn([yh()],{target:r}),t.uiMothership.broadcastOn([yh()],{target:r})),t.mothership.broadcastOn([oz],{readonly:n}),t.uiMothership.broadcastOn([oz],{readonly:n})},az=function(t,n){t.on("init",(function(){t.mode.isReadOnly()&&uz(n,!0)})),t.on("SwitchMode",(function(){return uz(n,t.mode.isReadOnly())})),hO(t)&&t.setMode("readonly")},cz=function(){var t;return yf.config({channels:(t={},t[oz]={schema:iz,onReceive:function(t,n){Ip.set(t,n.readonly)}},t)})},sz=function(t){return Ip.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},lz=function(t){return Ip.config({disabled:t})},fz=function(t){return Ip.config({disabled:t,disableClass:"tox-tbtn--disabled"})},dz=function(t){return Ip.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},mz={item:sz,button:lz,splitButton:fz,toolbarButton:dz},gz=function(t,n){var e=t.getApi(n);return function(t){t(e)}},hz=function(t,n){return ja((function(e){var r=gz(t,e);r((function(e){var r=t.onSetup(e);m(r)&&n.set(r)}))}))},vz=function(t,n){return Ua((function(e){return gz(t,e)(n.get())}))},pz=function(t,n){return Ga((function(e,r){gz(t,e)(t.onAction),t.triggersSubmenu||n!==UC.CLOSE_ON_EXECUTE||(Sa(e,ia()),r.stop())}))},bz=(RO={},RO[na()]=["disabling","alloy.base.behaviour","toggling","item-events"],RO),yz=At,wz=function(t,n,e,r){var o=ou(v);return{type:"item",dom:n.dom,components:yz(n.optComponents),data:t.data,eventOrder:bz,hasSubmenu:t.triggersSubmenu,itemBehaviours:mf([Nw("item-events",[pz(t,e),hz(t,o),vz(t,o)]),mz.item((function(){return t.disabled||r.isDisabled()})),cz(),Lw.config({})].concat(t.itemBehaviours))}},xz=function(t){return{value:t.value,meta:D({text:t.text.getOr("")},t.meta)}},Sz=tinymce.util.Tools.resolve("tinymce.Env"),Cz=function(t){var n={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},e={meta:"Ctrl",access:"Shift+Alt"},r=Sz.mac?n:e,o=t.split("+"),i=$(o,(function(t){var n=t.toLowerCase().trim();return Tt(r,n)?r[n]:t}));return Sz.mac?i.join(""):i.join("+")},kz=function(t,n,e){return void 0===e&&(e=[YC]),VS(t,{tag:"div",classes:e},n)},Oz=function(t){return{dom:{tag:"div",classes:[JC]},components:[Cs(OS.translate(t))]}},zz=function(t,n){return{dom:{tag:"div",classes:n,innerHtml:t}}},Tz=function(t,n){return{dom:{tag:"div",classes:[JC]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Cs(OS.translate(n))]}]}},Mz=function(t){return{dom:{tag:"div",classes:[QC],innerHtml:Cz(t)}}},Dz=function(t){return kz("checkmark",t,[tk])},_z=function(t){return kz("chevron-right",t,[ZC])},Az=function(t){return kz("chevron-down",t,[ZC])},Hz=function(t,n){var e="vertical"===t.direction?rk:ok,r="left"===t.align?uk:ik,o=function(){switch(t.valign){case"top":return ak;case"middle":return ck;case"bottom":return sk}};return{dom:{tag:"div",classes:[ek,e,r,o()]},components:n}},Ez=function(t,n,e){return{dom:{tag:"img",classes:n,attributes:{src:t,alt:e.getOr("")}}}},Rz=function(t,n,e){var r="custom",o="remove",i=t.ariaLabel,u=t.value,a=t.iconContent.map((function(t){return HS(t,n.icons,e)})),c=function(){var t=$C,e=a.getOr(""),c=i.map((function(t){return{title:n.translate(t)}})).getOr({}),s={tag:"div",attributes:c,classes:[t]};return D(D({},s),u===r?{tag:"button",classes:A(A([],s.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:e}:u===o?{classes:A(A([],s.classes,!0),["tox-swatch--remove"],!1),innerHtml:e}:{attributes:D(D({},s.attributes),{"data-mce-color":u}),styles:{"background-color":u}})};return{dom:c(),optComponents:[]}},Bz=function(t){var n=t.map((function(t){return{attributes:{title:OS.translate(t)}}})).getOr({});return D({tag:"div",classes:[WC,GC]},n)},Vz=function(t,n,e,r){var o={tag:"div",classes:[YC]},i=function(t){return VS(t,o,n.icons,r)},u=function(){return V.some({dom:o})},a=e?t.iconContent.map(i).orThunk(u):V.none(),c=t.checkMark,s=V.from(t.meta).fold((function(){return Oz}),(function(t){return Tt(t,"style")?C(Tz,t.style):Oz})),l=t.htmlContent.fold((function(){return t.textContent.map(s)}),(function(t){return V.some(zz(t,[JC]))})),f={dom:Bz(t.ariaLabel),optComponents:[a,l,t.shortcutContent.map(Mz),c,t.caret]};return f},Iz=function(t,n,e,r){return void 0===r&&(r=V.none()),"color"===t.presets?Rz(t,n,r):Vz(t,n,e,r)},Pz=function(t,n){return zt(t,"tooltipWorker").map((function(t){return[lO.config({lazySink:n.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{type:"submenu",item:t,overrides:{maxHeightFunction:Td}}},mode:"follow-highlight",onShow:function(n,e){t((function(t){lO.setComponents(n,[ks({element:nn.fromDom(t)})])}))}})]})).getOr([])},Lz=function(t){return dO.DOM.encode(t)},Fz=function(t,n){var e=OS.translate(t),r=Lz(e);if(n.length>0){var o=new RegExp(fO(n),"gi");return r.replace(o,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return r},Nz=function(t,n,e,r,o,i,u,a){void 0===a&&(a=!0);var c=Iz({presets:r,textContent:V.none(),htmlContent:e?t.text.map((function(t){return Fz(t,n)})):V.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:V.none(),checkMark:V.none(),caret:V.none(),value:t.value},u.providers,a,t.icon);return wz({data:xz(t),disabled:t.disabled,getApi:w({}),onAction:function(n){return o(t.value,t.meta)},onSetup:w(v),triggersSubmenu:!1,itemBehaviours:Pz(t.meta,u)},c,i,u.providers)},jz=function(t,n){return $(t,(function(t){switch(t.type){case"cardcontainer":return Hz(t,jz(t.items,n));case"cardimage":return Ez(t.src,t.classes,t.alt);case"cardtext":var e=t.name.exists((function(t){return j(n.cardText.highlightOn,t)})),r=e?V.from(n.cardText.matchText).getOr(""):"";return zz(Fz(t.text,r),t.classes)}}))},Uz=function(t,n,e,r){var o=function(t){return{isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){Ip.set(t,n),q(Km(t.element,"*"),(function(e){t.getSystem().getByDom(e).each((function(t){t.hasConfigured(Ip)&&Ip.set(t,n)}))}))}}},i={dom:Bz(t.label),optComponents:[V.some({dom:{tag:"div",classes:[ek,ok]},components:jz(t.items,r)})]};return wz({data:xz(D({text:V.none()},t)),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:V.from(r.itemBehaviours).getOr([])},i,n,e.providers)},Wz=function(t,n,e,r,o,i,u,a){void 0===a&&(a=!0);var c=function(t){return{setActive:function(n){hx.set(t,n)},isActive:function(){return hx.isOn(t)},isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){return Ip.set(t,n)}}},s=Iz({presets:e,textContent:n?t.text:V.none(),htmlContent:V.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:n?t.shortcut:V.none(),checkMark:n?V.some(Dz(u.icons)):V.none(),caret:V.none(),value:t.value},u,a);return So(wz({data:xz(t),disabled:t.disabled,getApi:c,onAction:function(n){return r(t.value)},onSetup:function(t){return t.setActive(o),v},triggersSubmenu:!1,itemBehaviours:[]},s,i,u),{toggling:{toggleClass:XC,toggleOnExecute:!1,selected:t.active}})},Gz=Nv(Mx(),Dx()),$z=function(t){return{value:t}},qz=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xz=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Kz=function(t){return qz.test(t)||Xz.test(t)},Yz=function(t){return Ft(t,"#").toUpperCase()},Jz=function(t){return Kz(t)?V.some({value:Yz(t)}):V.none()},Qz=function(t){var n=t.value.replace(qz,(function(t,n,e,r){return n+n+e+e+r+r}));return{value:n}},Zz=function(t){var n=Qz(t),e=Xz.exec(n.value);return null===e?["FFFFFF","FF","FF","FF"]:e},tT=function(t){var n=t.toString(16);return(1===n.length?"0"+n:n).toUpperCase()},nT=function(t){var n=tT(t.red)+tT(t.green)+tT(t.blue);return $z(n)},eT=Math.min,rT=Math.max,oT=Math.round,iT=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,uT=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,aT=function(t,n,e,r){return{red:t,green:n,blue:e,alpha:r}},cT=function(t){var n=parseInt(t,10);return n.toString()===t&&n>=0&&n<=255},sT=function(t){var n,e,r,o=(t.hue||0)%360,i=t.saturation/100,u=t.value/100;if(i=rT(0,eT(i,1)),u=rT(0,eT(u,1)),0===i)return n=e=r=oT(255*u),aT(n,e,r,1);var a=o/60,c=u*i,s=c*(1-Math.abs(a%2-1)),l=u-c;switch(Math.floor(a)){case 0:n=c,e=s,r=0;break;case 1:n=s,e=c,r=0;break;case 2:n=0,e=c,r=s;break;case 3:n=0,e=s,r=c;break;case 4:n=s,e=0,r=c;break;case 5:n=c,e=0,r=s;break;default:n=e=r=0}return n=oT(255*(n+l)),e=oT(255*(e+l)),r=oT(255*(r+l)),aT(n,e,r,1)},lT=function(t){var n=Zz(t),e=parseInt(n[1],16),r=parseInt(n[2],16),o=parseInt(n[3],16);return aT(e,r,o,1)},fT=function(t,n,e,r){var o=parseInt(t,10),i=parseInt(n,10),u=parseInt(e,10),a=parseFloat(r);return aT(o,i,u,a)},dT=function(t){if("transparent"===t)return V.some(aT(0,0,0,0));var n=iT.exec(t);if(null!==n)return V.some(fT(n[1],n[2],n[3],"1"));var e=uT.exec(t);return null!==e?V.some(fT(e[1],e[2],e[3],e[4])):V.none()},mT=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},gT=aT(255,0,0,1),hT=function(t){return t.fire("SkinLoaded")},vT=function(t,n){return t.fire("SkinLoadError",n)},pT=function(t){return t.fire("ResizeEditor")},bT=function(t,n){return t.fire("ResizeContent",n)},yT=function(t,n){return t.fire("ScrollContent",n)},wT=function(t,n){return t.fire("TextColorChange",n)},xT=function(t,n,e){return{hue:t,saturation:n,value:e}},ST=function(t){var n=0,e=0,r=0,o=t.red/255,i=t.green/255,u=t.blue/255,a=Math.min(o,Math.min(i,u)),c=Math.max(o,Math.max(i,u));if(a===c)return r=a,xT(0,0,100*r);var s=o===a?i-u:u===a?o-i:u-o;return n=o===a?3:u===a?1:5,n=60*(n-s/(c-a)),e=(c-a)/c,r=c,xT(Math.round(n),Math.round(100*e),Math.round(100*r))},CT=function(t){return ST(lT(t))},kT=function(t){return nT(sT(t))},OT=function(t){return Jz(t).orThunk((function(){return dT(t).map(nT)})).getOrThunk((function(){var n=document.createElement("canvas");n.height=1,n.width=1;var e=n.getContext("2d");e.clearRect(0,0,n.width,n.height),e.fillStyle="#FFFFFF",e.fillStyle=t,e.fillRect(0,0,1,1);var r=e.getImageData(0,0,1,1).data,o=r[0],i=r[1],u=r[2],a=r[3];return nT(aT(o,i,u,a))}))},zT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),TT="tinymce-custom-colors";function MT(t){void 0===t&&(t=10);var n=zT.getItem(TT),e=i(n)?JSON.parse(n):[],r=function(n){var e=t-n.length;return e<0?n.slice(0,t):n},o=r(e),u=function(n){N(o,n).each(a),o.unshift(n),o.length>t&&o.pop(),zT.setItem(TT,JSON.stringify(o))},a=function(t){o.splice(t,1)},c=function(){return o.slice(0)};return{add:u,state:c}}var DT,_T="choiceitem",AT=[{type:_T,text:"Light Green",value:"#BFEDD2"},{type:_T,text:"Light Yellow",value:"#FBEEB8"},{type:_T,text:"Light Red",value:"#F8CAC6"},{type:_T,text:"Light Purple",value:"#ECCAFA"},{type:_T,text:"Light Blue",value:"#C2E0F4"},{type:_T,text:"Green",value:"#2DC26B"},{type:_T,text:"Yellow",value:"#F1C40F"},{type:_T,text:"Red",value:"#E03E2D"},{type:_T,text:"Purple",value:"#B96AD9"},{type:_T,text:"Blue",value:"#3598DB"},{type:_T,text:"Dark Turquoise",value:"#169179"},{type:_T,text:"Orange",value:"#E67E23"},{type:_T,text:"Dark Red",value:"#BA372A"},{type:_T,text:"Dark Purple",value:"#843FA1"},{type:_T,text:"Dark Blue",value:"#236FA1"},{type:_T,text:"Light Gray",value:"#ECF0F1"},{type:_T,text:"Medium Gray",value:"#CED4D9"},{type:_T,text:"Gray",value:"#95A5A6"},{type:_T,text:"Dark Gray",value:"#7E8C8D"},{type:_T,text:"Navy Blue",value:"#34495E"},{type:_T,text:"Black",value:"#000000"},{type:_T,text:"White",value:"#ffffff"}],HT=MT(10),ET=function(t){for(var n=[],e=0;e<t.length;e+=2)n.push({text:t[e+1],value:"#"+OT(t[e]).value,type:"choiceitem"});return n},RT=function(t,n){return t.getParam("color_cols",n,"number")},BT=function(t){return!1!==t.getParam("custom_colors")},VT=function(t){return t.getParam("color_map")},IT=function(t){var n=VT(t);return void 0!==n?ET(n):AT},PT=function(){return $(HT.state(),(function(t){return{type:_T,text:t,value:t}}))},LT=function(t){HT.add(t)},FT="#000000",NT=function(t,n){var e;return t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===n?"color":"background-color"])&&(e=e||r)})),V.from(e)},jT=function(t,n,e){t.undoManager.transact((function(){t.focus(),t.formatter.apply(n,{value:e}),t.nodeChanged()}))},UT=function(t,n){t.undoManager.transact((function(){t.focus(),t.formatter.remove(n,{value:null},null,!0),t.nodeChanged()}))},WT=function(t){t.addCommand("mceApplyTextcolor",(function(n,e){jT(t,n,e)})),t.addCommand("mceRemoveTextcolor",(function(n){UT(t,n)}))},GT=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},$T=function(t){var n=IT(t),e=GT(n.length);return RT(t,e)},qT=function(t){var n="choiceitem",e={type:n,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:n,text:"Custom color",icon:"color-picker",value:"custom"};return t?[e,r]:[e]},XT=function(t,n,e,r){if("custom"===e){var o=tM(t);o((function(e){e.each((function(e){LT(e),t.execCommand("mceApplyTextcolor",n,e),r(e)}))}),FT)}else"remove"===e?(r(""),t.execCommand("mceRemoveTextcolor",n)):(r(e),t.execCommand("mceApplyTextcolor",n,e))},KT=function(t,n){return t.concat(PT().concat(qT(n)))},YT=function(t,n){return function(e){e(KT(t,n))}},JT=function(t,n,e){var r="forecolor"===n?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(r,e)},QT=function(t,n,e,r,o){t.ui.registry.addSplitButton(n,{tooltip:r,presets:"color",icon:"forecolor"===n?"text-color":"highlight-bg-color",select:function(n){var r=NT(t,e);return r.bind((function(t){return dT(t).map((function(t){var e=nT(t).value;return jt(n.toLowerCase(),e)}))})).getOr(!1)},columns:$T(t),fetch:YT(IT(t),BT(t)),onAction:function(n){XT(t,e,o.get(),v)},onItemAction:function(r,i){XT(t,e,i,(function(e){o.set(e),wT(t,{name:n,color:e})}))},onSetup:function(e){JT(e,n,o.get());var r=function(t){t.name===n&&JT(e,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},ZT=function(t,n,e,r){t.ui.registry.addNestedMenuItem(n,{text:r,icon:"forecolor"===n?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(n){XT(t,e,n.value,v)}}]}})},tM=function(t){return function(n,e){var r=!1,o=function(e){var o=e.getData(),i=o.colorpicker;r?(n(V.from(i)),e.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",i]))},i=function(t,n){"hex-valid"===n.name&&(r=n.value)},u={colorpicker:e};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:i,onSubmit:o,onClose:v,onCancel:function(){n(V.none())}})}},nM=function(t){WT(t);var n=ou(FT),e=ou(FT);QT(t,"forecolor","forecolor","Text color",n),QT(t,"backcolor","hilitecolor","Background color",e),ZT(t,"forecolor","forecolor","Text color"),ZT(t,"backcolor","hilitecolor","Background color")},eM=function(t,n,e,r,o,i,u,a){var c=Ck(n),s="color"!==o?"normal":"color",l=rM(n,e,r,s,i,u,a);return zk(t,c,l,r,o)},rM=function(t,n,e,r,o,i,u){return At($(t,(function(a){return"choiceitem"===a.type?Ik(a).fold(kk,(function(c){return V.some(Wz(c,1===e,r,n,i(a.value),o,u,Ck(t)))})):V.none()})))},oM=function(t,n){var e=mk(n);if(1===t)return{mode:"menu",moveOnTab:!0};if("auto"===t)return{mode:"grid",selector:"."+e.item,initSize:{numColumns:1,numRows:1}};var r="color"===n?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r}},iM=function(t,n){return 1===t?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===n?".tox-swatches__row":".tox-collection__group",cell:"color"===n?"."+$C:"."+GC}}},uM=function(t,n){var e=aM(t,n),r=n.colorinput.getColorCols(),o="color",i=eM(oc("menu-value"),e,(function(n){t.onAction({value:n})}),r,o,UC.CLOSE_ON_EXECUTE,z,n.shared.providers),u=D(D({},i),{markers:mk(o),movement:oM(r,o)});return{type:"widget",data:{value:oc("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Gz.widget(Fx.sketch(u))]}},aM=function(t,n){var e=t.initData.allowCustomColors&&n.colorinput.hasCustomColors();return t.initData.colors.fold((function(){return KT(n.colorinput.getColors(),e)}),(function(t){return t.concat(qT(e))}))},cM=oc("cell-over"),sM=oc("cell-execute"),lM=function(t,n,e){var r,o=function(e){return Ca(e,cM,{row:t,col:n})},i=function(e){return Ca(e,sM,{row:t,col:n})},u=function(t,n){n.stop(),i(t)};return Ts({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=e,r)},behaviours:mf([Nw("insert-table-picker-cell",[Ha(Iu(),Yw.focus),Ha(na(),i),Ha(Wu(),u),Ha(ra(),u)]),hx.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Yw.config({onFocus:o})])})},fM=function(t,n,e){for(var r=[],o=0;o<n;o++){for(var i=[],u=0;u<e;u++)i.push(lM(o,u,t));r.push(i)}return r},dM=function(t,n,e,r,o){for(var i=0;i<r;i++)for(var u=0;u<o;u++)hx.set(t[i][u],i<=n&&u<=e)},mM=function(t){return rt(t,(function(t){return $(t,Ms)}))},gM=function(t,n){return Cs(n+"x"+t)},hM=function(t){var n=10,e=10,r=oc("size-label"),o=fM(r,n,e),i=gM(0,0),u=kS({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[i],behaviours:mf([Lw.config({})])});return{type:"widget",data:{value:oc("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Gz.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:mM(o).concat(u.asSpec()),behaviours:mf([Nw("insert-table-picker",[ja((function(t){Lw.set(u.get(t),[i])})),Pa(cM,(function(t,r,i){var a=i.event,c=a.row,s=a.col;dM(o,c,s,n,e),Lw.set(u.get(t),[gM(c+1,s+1)])})),Pa(sM,(function(n,e,r){var o=r.event,i=o.row,u=o.col;t.onAction({numRows:i+1,numColumns:u+1}),Sa(n,ia())}))]),Dw.config({initSize:{numRows:n,numColumns:e},mode:"flatgrid",selector:'[role="button"]'})])})]}},vM={inserttable:hM,colorswatch:uM},pM=function(t,n){return zt(vM,t.fancytype).map((function(e){return e(t,n)}))},bM=function(t,n,e,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);var i=o?Az(e.icons):_z(e.icons),u=function(t){return{isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){return Ip.set(t,n)}}},a=Iz({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:V.none(),ariaLabel:t.text,caret:V.some(i),checkMark:V.none(),shortcutContent:t.shortcut},e,r);return wz({data:xz(t),getApi:u,disabled:t.disabled,onAction:v,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,n,e)},yM=function(t,n,e,r){void 0===r&&(r=!0);var o=function(t){return{isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){return Ip.set(t,n)}}},i=Iz({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:V.none(),ariaLabel:t.text,caret:V.none(),checkMark:V.none(),shortcutContent:t.shortcut},e,r);return wz({data:xz(t),getApi:o,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,n,e)},wM=function(t){var n=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}));return{type:"separator",dom:D({tag:"div",classes:[GC,KC]},n),components:[]}},xM=function(t,n,e,r){void 0===r&&(r=!0);var o=function(t){return{setActive:function(n){hx.set(t,n)},isActive:function(){return hx.isOn(t)},isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){return Ip.set(t,n)}}},i=Iz({iconContent:t.icon,textContent:t.text,htmlContent:V.none(),ariaLabel:t.text,checkMark:V.some(Dz(e.icons)),caret:V.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},e,r);return So(wz({data:xz(t),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,n,e),{toggling:{toggleClass:XC,toggleOnExecute:!1,selected:t.active}})},SM=Nz,CM=wM,kM=yM,OM=bM,zM=xM,TM=pM,MM=Uz;(function(t){t[t["ContentFocus"]=0]="ContentFocus",t[t["UiFocus"]=1]="UiFocus"})(DT||(DT={}));var DM=function(t,n,e,r,o){var i=e.shared.providers,u=function(t){return o?D(D({},t),{shortcut:V.none(),icon:t.text.isSome()?V.none():t.icon}):t};switch(t.type){case"menuitem":return Wk(t).fold(kk,(function(t){return V.some(kM(u(t),n,i,r))}));case"nestedmenuitem":return $k(t).fold(kk,(function(t){return V.some(OM(u(t),n,i,r,o))}));case"togglemenuitem":return Xk(t).fold(kk,(function(t){return V.some(zM(u(t),n,i,r))}));case"separator":return bC(t).fold(kk,(function(t){return V.some(CM(t))}));case"fancymenuitem":return jk(t).fold(kk,(function(t){return TM(u(t),e)}));default:return console.error("Unknown item in general menu",t),V.none()}},_M=function(t,n,e,r,o,i,u){var a=1===r,c=!a||Ck(t);return At($(t,(function(t){switch(t.type){case"separator":return xC(t).fold(kk,(function(t){return V.some(CM(t))}));case"cardmenuitem":return Bk(t).fold(kk,(function(t){return V.some(MM(D(D({},t),{onAction:function(n){t.onAction(n),e(t.value,t.meta)}}),o,i,{itemBehaviours:Pz(t.meta,i),cardText:{matchText:n,highlightOn:u}}))}));case"autocompleteitem":default:return SC(t).fold(kk,(function(t){return V.some(SM(t,n,a,"normal",e,o,i,c))}))}})))},AM=function(t,n,e,r,o){var i=Ck(n),u=At($(n,(function(t){var n=function(t){return o?!Tt(t,"text"):i},u=function(t){return DM(t,e,r,n(t),o)};return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?u(D(D({},t),{disabled:!0})):u(t)}))),a=o?Ok:zk;return a(t,i,u,1,"normal")},HM=function(t){return Qx.singleData(t.value,t)},EM=function(t,n,e,r){var o=e===DT.ContentFocus?zb():Ob(),i=oM(n,r),u=mk(r);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:u.selectedItem,item:u.item},movement:i,fakeFocus:e===DT.ContentFocus,focusManager:o,menuBehaviours:Qk.unnamedEvents("auto"!==n?[]:[ja((function(t,n){Kk(t,4,u.item).each((function(n){var e=n.numColumns,r=n.numRows;Dw.setGridSize(t,r,e)}))}))])}},RM=function(t,n){var e=od(),r=ou(!1),o=Ts(nS.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:mf([Nw("dismissAutocompleter",[Ha(ga(),(function(){return c()}))])]),lazySink:n.getSink})),i=function(){return nS.isOpen(o)},u=function(){return e.get().isSome()},a=function(){u()&&nS.hide(o)},c=function(){if(u()){var n=e.get().map((function(t){return t.element}));YS(n.getOr(nn.fromDom(t.selection.getNode()))).each(Vr),a(),e.clear(),r.set(!1)}},s=hn((function(){return NC(t)})),l=function(e,o){var i=gt(o,(function(t){return V.from(t.columns)})).getOr(1);return rt(o,(function(o){var u=o.items;return _M(u,o.matchText,(function(n,i){var u=t.selection.getRng();rC(t.dom,u,e).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(t){var e=t.range,u={hide:function(){c()},reload:function(t){a(),g(t)}};r.set(!0),o.onAction(u,e,n,i),r.set(!1)}))}),i,UC.BUBBLE_TO_SANDBOX,n,o.highlightOn)}))},f=function(n){if(!u()){var o=KS(t,n.range);e.set({triggerChar:n.triggerChar,element:o,matchLength:n.text.length}),r.set(!1)}},d=function(n,e,r,i){n.matchLength=e.text.length;var u=gt(r,(function(t){return V.from(t.columns)})).getOr(1);nS.showAt(o,Fx.sketch(EM(zk("autocompleter-value",!0,i,u,"normal"),u,DT.ContentFocus,"normal")),{anchor:{type:"node",root:nn.fromDom(t.getBody()),node:V.from(n.element)}}),nS.getContent(o).each(rb.highlightFirst)},m=function(n){return e.get().map((function(e){return rC(t.dom,t.selection.getRng(),e.triggerChar).bind((function(e){return vC(t,s,e,n)}))})).getOrThunk((function(){return hC(t,s)}))},g=function(t){m(t).fold(c,(function(t){f(t.context),t.lookupData.then((function(n){e.get().map((function(e){var r=t.context;if(e.triggerChar===r.triggerChar){var o=l(r.triggerChar,n);o.length>0?d(e,r,n,o):r.text.length-e.matchLength>=10?c():a()}}))}))}))},h=WS((function(t){27!==t.which&&g()}),50),v={onKeypress:h,cancelIfNecessary:c,isMenuOpen:i,isActive:u,isProcessingAction:r.get,getView:function(){return nS.getContent(o)}};!1===t.hasPlugin("rtc")&&iC.setup(v,t)},BM={register:RM},VM=function(t,n,e){return Ls(t,n,e).isSome()},IM=function(t,n){var e=null,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e=setTimeout((function(){t.apply(null,r),e=null}),n)},o=function(){null!==e&&(clearTimeout(e),e=null)};return{cancel:o,schedule:r}},PM=5,LM=400,FM=function(t){var n=t.raw;return void 0===n.touches||1!==n.touches.length?V.none():V.some(n.touches[0])},NM=function(t,n){var e=Math.abs(t.clientX-n.x),r=Math.abs(t.clientY-n.y);return e>PM||r>PM},jM=function(t){var n=od(),e=ou(!1),r=IM((function(n){t.triggerEvent(oa(),n),e.set(!0)}),LM),o=function(t){return FM(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.schedule(t),e.set(!1),n.set(i)})),V.none()},i=function(t){return r.cancel(),FM(t).each((function(t){n.on((function(e){NM(t,e)&&n.clear()}))})),V.none()},u=function(o){r.cancel();var i=function(t){return se(t.target,o.target)};return n.get().filter(i).map((function(n){return e.get()?(o.prevent(),!1):t.triggerEvent(ra(),o)}))},a=gu([{key:Du(),value:o},{key:_u(),value:i},{key:Au(),value:u}]),c=function(t,n){return zt(a,n).bind((function(n){return n(t)}))};return{fireIfReady:c}},UM=function(t){var n=t.raw;return n.which===ob[0]&&!j(["input","textarea"],cn(t.target))&&!VM(t.target,'[contenteditable="true"]')},WM=function(){return ee().browser.isFirefox()},GM=function(t,n){return WM()?ad(t,"focus",n):ud(t,"focusin",n)},$M=function(t,n){return WM()?ad(t,"blur",n):ud(t,"focusout",n)},qM=function(t,n){var e=D({stopBackspace:!0},n),r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],o=jM(e),i=$(r.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(n){return ud(t,n,(function(t){o.fireIfReady(t,n).each((function(n){n&&t.kill()}));var r=e.triggerEvent(n,t);r&&t.kill()}))})),u=od(),a=ud(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(n){n&&t.kill()}));var n=e.triggerEvent("paste",t);n&&t.kill(),u.set(setTimeout((function(){e.triggerEvent(Zu(),t)}),0))})),c=ud(t,"keydown",(function(t){var n=e.triggerEvent("keydown",t);n?t.kill():e.stopBackspace&&UM(t)&&t.prevent()})),s=GM(t,(function(t){var n=e.triggerEvent("focusin",t);n&&t.kill()})),l=od(),f=$M(t,(function(t){var n=e.triggerEvent("focusout",t);n&&t.kill(),l.set(setTimeout((function(){e.triggerEvent(Qu(),t)}),0))})),d=function(){q(i,(function(t){t.unbind()})),c.unbind(),s.unbind(),f.unbind(),a.unbind(),u.on(clearTimeout),l.on(clearTimeout)};return{unbind:d}},XM=function(t,n){var e=zt(t,"target").getOr(n);return ou(e)},KM=function(t,n){var e=ou(!1),r=ou(!1),o=function(){e.set(!0)},i=function(){r.set(!0)};return{stop:o,cut:i,isStopped:e.get,isCut:r.get,event:t,setSource:n.set,getSource:n.get}},YM=function(t){var n=ou(!1),e=function(){n.set(!0)};return{stop:e,cut:v,isStopped:n.get,isCut:z,event:t,setSource:O("Cannot set source of a broadcasted event"),getSource:O("Cannot get source of a broadcasted event")}},JM=uu.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),QM=function(t,n,e,r,o,i){var u=t(n,r),a=KM(e,o);return u.fold((function(){return i.logEventNoHandlers(n,r),JM.complete()}),(function(t){var e=t.descHandler,r=Ic(e);return r(a),a.isStopped()?(i.logEventStopped(n,t.element,e.purpose),JM.stopped()):a.isCut()?(i.logEventCut(n,t.element,e.purpose),JM.complete()):pe(t.element).fold((function(){return i.logNoParent(n,t.element,e.purpose),JM.complete()}),(function(r){return i.logEventResponse(n,t.element,e.purpose),JM.resume(r)}))}))},ZM=function(t,n,e,r,o,i){return QM(t,n,e,r,o,i).fold(T,(function(r){return ZM(t,n,e,r,o,i)}),z)},tD=function(t,n,e,r,o){var i=XM(e,r);return QM(t,n,e,r,i,o)},nD=function(t,n,e){var r=YM(n);return q(t,(function(t){var n=t.descHandler,e=Ic(n);e(r)})),r.isStopped()},eD=function(t,n,e,r){return rD(t,n,e,e.target,r)},rD=function(t,n,e,r,o){var i=XM(e,r);return ZM(t,n,e,r,i,o)},oD=function(t,n){return{element:t,descHandler:n}},iD=function(t,n){return{id:t,descHandler:n}},uD=function(){var t={},n=function(n,e,r){pt(r,(function(r,o){var i=void 0!==t[o]?t[o]:{};i[e]=Vc(r,n),t[o]=i}))},e=function(t,n){return fc(n).bind((function(n){return zt(t,n)})).map((function(t){return oD(n,t)}))},r=function(n){return zt(t,n).map((function(t){return Ct(t,(function(t,n){return iD(n,t)}))})).getOr([])},o=function(n,r,o){return zt(t,r).bind((function(t){return wu(o,(function(n){return e(t,n)}),n)}))},i=function(n){pt(t,(function(t,e){Tt(t,n)&&delete t[n]}))};return{registerId:n,unregisterId:i,filterByType:r,find:o}},aD=function(){var t=uD(),n={},e=function(t){var n=t.element;return fc(n).getOrThunk((function(){return sc("uid-",t.element)}))},r=function(t,e){var r=n[e];if(r!==t)throw new Error('The tagId "'+e+'" is already used by: '+Za(r.element)+"\nCannot use it for: "+Za(t.element)+"\nThe conflicting element is"+(Ve(r.element)?" ":" not ")+"already in the DOM");i(t)},o=function(o){var i=e(o);Mt(n,i)&&r(o,i);var u=[o];t.registerId(u,i,o.events),n[i]=o},i=function(e){fc(e.element).each((function(e){delete n[e],t.unregisterId(e)}))},u=function(n){return t.filterByType(n)},a=function(n,e,r){return t.find(n,e,r)},c=function(t){return zt(n,t)};return{find:a,filter:u,register:o,unregister:i,getById:c}},cD=function(t){var n=t.dom,e=n.attributes,r=_(n,["attributes"]);return{uid:t.uid,dom:D({tag:"div",attributes:D({role:"presentation"},e)},r),components:t.components,behaviours:ev(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},sD=dp({name:"Container",factory:cD,configFields:[Xi("components",[]),nv("containerBehaviours",[]),Xi("events",{}),Xi("domModification",{}),Xi("eventOrder",{})]}),lD=function(t){var n=function(n){return pe(t.element).fold(T,(function(t){return se(n,t)}))},e=aD(),r=function(t,r){return e.find(n,t,r)},o=qM(t.element,{triggerEvent:function(t,n){return Js(t,n.target,(function(e){return eD(r,t,n,e)}))}}),i={debugInfo:w("real"),triggerEvent:function(t,n,e){Js(t,n,(function(o){return rD(r,t,e,n,o)}))},triggerFocus:function(t,n){fc(t).fold((function(){Cf(t)}),(function(e){Js(Ju(),t,(function(e){return tD(r,Ju(),{originator:n,kill:v,prevent:v,target:t},t,e),!1}))}))},triggerEscape:function(t,n){i.triggerEvent("keydown",t.element,n.event)},getByUid:function(t){return h(t)},getByDom:function(t){return p(t)},build:Ts,addToGui:function(t){c(t)},removeFromGui:function(t){s(t)},addToWorld:function(t){u(t)},removeFromWorld:function(t){a(t)},broadcast:function(t){d(t)},broadcastOn:function(t,n){m(t,n)},broadcastEvent:function(t,n){g(t,n)},isConnected:T},u=function(t){t.connect(i),dn(t.element)||(e.register(t),q(t.components(),u),i.triggerEvent(aa(),t.element,{target:t.element}))},a=function(t){dn(t.element)||(q(t.components(),a),e.unregister(t)),t.disconnect()},c=function(n){Wg(t,n)},s=function(t){qg(t)},l=function(){o.unbind(),Br(t.element)},f=function(t){var n=e.filter(ta());q(n,(function(n){var e=n.descHandler,r=Ic(e);r(t)}))},d=function(t){f({universal:!0,data:t})},m=function(t,n){f({universal:!1,channels:t,data:n})},g=function(t,n){var r=e.filter(t);return nD(r,n)},h=function(t){return e.getById(t).fold((function(){return ro.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),ro.value)},p=function(t){var n=fc(t).getOr("not found");return h(n)};return u(t),{root:t,element:t.element,destroy:l,add:c,remove:s,getByUid:h,getByDom:p,addToWorld:u,removeFromWorld:a,broadcast:d,broadcastOn:m,broadcastEvent:g}},fD=function(t,n){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:$(t.items,n.interpreter)}},dD=w([Xi("prefix","form-field"),nv("fieldBehaviours",[bp,tv])]),mD=w([Bv({schema:[Di("dom")],name:"label"}),Bv({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Di("text")],name:"aria-descriptor"}),Ev({factory:{sketch:function(t){var n=du(t,["factory"]);return t.factory.sketch(n)}},schema:[Di("factory")],name:"field"})]),gD=function(t,n,e,r){var o=rv(t.fieldBehaviours,[bp.config({find:function(n){return Xv(n,t,"field")}}),tv.config({store:{mode:"manual",getValue:function(t){return bp.getCurrent(t).bind(tv.getValue)},setValue:function(t,n){bp.getCurrent(t).each((function(t){tv.setValue(t,n)}))}}})]),i=Ma([ja((function(n,e){var r=Yv(n,t,["label","field","aria-descriptor"]);r.field().each((function(n){var e=oc(t.prefix);r.label().each((function(t){Fe(t.element,"for",e),Fe(n.element,"id",e)})),r["aria-descriptor"]().each((function(e){var r=oc(t.prefix);Fe(e.element,"id",r),Fe(n.element,"aria-describedby",r)}))}))}))]),u={getField:function(n){return Xv(n,t,"field")},getLabel:function(n){return Xv(n,t,"label")}};return{uid:t.uid,dom:t.dom,components:n,behaviours:o,events:i,apis:u}},hD=mp({name:"FormField",configFields:dD(),partFields:mD(),factory:gD,apis:{getField:function(t,n){return t.getField(n)},getLabel:function(t,n){return t.getLabel(n)}}}),vD=function(t,n){return _c({attributes:gu([{key:n.tabAttr,value:"true"}])})},pD=Object.freeze({__proto__:null,exhibit:vD}),bD=[Xi("tabAttr","data-alloy-tabstop")],yD=hf({fields:bD,name:"tabstopping",active:pD}),wD=tinymce.util.Tools.resolve("tinymce.html.Entities"),xD=function(t,n,e,r){var o=CD(t,n,e,r);return hD.sketch(o)},SD=function(t,n){return xD(t,n,[],[])},CD=function(t,n,e,r){return{dom:OD(e),components:t.toArray().concat([n]),fieldBehaviours:mf(r)}},kD=function(){return OD([])},OD=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},zD=function(t,n){return hD.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}})},TD=oc("form-component-change"),MD=oc("form-close"),DD=oc("form-cancel"),_D=oc("form-action"),AD=oc("form-submit"),HD=oc("form-block"),ED=oc("form-unblock"),RD=oc("form-tabchange"),BD=oc("form-resize"),VD=function(t,n){var e,r=t.label.map((function(t){return zD(t,n)})),o=function(t){return function(n,e){Ls(e.event.target,"[data-collection-item-value]").each((function(r){t(n,e,r,je(r,"data-collection-item-value"))}))}},i=function(e,r){var o=$(r,(function(e){var r=OS.translate(e.text),o=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+e.icon+"</div>",u={_:" "," - ":" ","-":" "},a=r.replace(/\_| \- |\-/g,(function(t){return u[t]})),c=n.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+c+'" tabindex="-1" data-collection-item-value="'+wD.encodeAllRaw(e.value)+'" title="'+a+'" aria-label="'+a+'">'+i+o+"</div>"})),i="auto"!==t.columns&&t.columns>1?G(o,t.columns):[o],u=$(i,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}));Xa(e.element,u.join(""))},u=o((function(e,r,o,i){r.stop(),n.isDisabled()||Ca(e,_D,{name:t.name,value:i})})),a=[Ha(Iu(),o((function(t,n,e){Cf(e)}))),Ha(Wu(),u),Ha(ra(),u),Ha(Pu(),o((function(t,n,e){Ps(t.element,"."+nk).each((function(t){as(t,nk)})),is(e,nk)}))),Ha(Lu(),o((function(t){Ps(t.element,"."+nk).each((function(t){as(t,nk)}))}))),Ga(o((function(n,e,r,o){Ca(n,_D,{name:t.name,value:o})})))],c=function(t,n){return $(Km(t.element,".tox-collection__item"),n)},s=hD.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:x},behaviours:mf([Ip.config({disabled:n.isDisabled,onDisabled:function(t){c(t,(function(t){is(t,"tox-collection__item--state-disabled"),Fe(t,"aria-disabled",!0)}))},onEnabled:function(t){c(t,(function(t){as(t,"tox-collection__item--state-disabled"),Ge(t,"aria-disabled")}))}}),cz(),Lw.config({}),tv.config({store:{mode:"memory",initialValue:[]},onSetValue:function(n,e){i(n,e),"auto"===t.columns&&Kk(n,5,"tox-collection__item").each((function(t){var e=t.numRows,r=t.numColumns;Dw.setGridSize(n,e,r)})),Sa(n,BD)}}),yD.config({}),Dw.config(iM(t.columns,"normal")),Nw("collection-events",a)]),eventOrder:(e={},e[na()]=["disabling","alloy.base.behaviour","collection-events"],e)}),l=["tox-form__group--collection"];return xD(r,s,l,[])},ID=w([Fi("data"),Xi("inputAttributes",{}),Xi("inputStyles",{}),Xi("tag","input"),Xi("inputClasses",[]),al("onSetValue"),Xi("styles",{}),Xi("eventOrder",{}),nv("inputBehaviours",[tv,Yw]),Xi("selectOnFocus",!0)]),PD=function(t){return mf([Yw.config({onFocus:t.selectOnFocus?function(t){var n=t.element,e=ds(n);n.dom.setSelectionRange(0,e.length)}:v})])},LD=function(t){return D(D({},PD(t)),rv(t.inputBehaviours,[tv.config({store:D(D({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return ds(t.element)},setValue:function(t,n){var e=ds(t.element);e!==n&&ms(t.element,n)}}),onSetValue:t.onSetValue})]))},FD=function(t){return{tag:t.tag,attributes:D({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},ND=function(t,n){return{uid:t.uid,dom:FD(t),components:[],behaviours:LD(t),eventOrder:t.eventOrder}},jD=dp({name:"Input",configFields:ID(),factory:ND}),UD={},WD={exports:UD};(function(n,e,r,o){(function(t,o){"object"===typeof e&&"undefined"!==typeof r?r.exports=o():"function"===typeof n&&n.amd?n(o):(t="undefined"!==typeof globalThis?globalThis:t||self,t.EphoxContactWrapper=o())})(this,(function(){var n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e={exports:{}};(function(t){(function(n){var e=setTimeout;function r(){}function o(t,n){return function(){t.apply(n,arguments)}}function i(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function u(t,n){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(o){return void c(n.promise,o)}a(n.promise,r)}else(1===t._state?a:c)(n.promise,t._value)}))):t._deferreds.push(n)}function a(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===typeof n||"function"===typeof n)){var e=n.then;if(n instanceof i)return t._state=3,t._value=n,void s(t);if("function"===typeof e)return void f(o(e,n),t)}t._state=1,t._value=n,s(t)}catch(r){c(t,r)}}function c(t,n){t._state=2,t._value=n,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var n=0,e=t._deferreds.length;n<e;n++)u(t,t._deferreds[n]);t._deferreds=null}function l(t,n,e){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof n?n:null,this.promise=e}function f(t,n){var e=!1;try{t((function(t){e||(e=!0,a(n,t))}),(function(t){e||(e=!0,c(n,t))}))}catch(r){if(e)return;e=!0,c(n,r)}}i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,n){var e=new this.constructor(r);return u(this,new l(t,n,e)),e},i.all=function(t){var n=Array.prototype.slice.call(t);return new i((function(t,e){if(0===n.length)return t([]);var r=n.length;function o(i,u){try{if(u&&("object"===typeof u||"function"===typeof u)){var a=u.then;if("function"===typeof a)return void a.call(u,(function(t){o(i,t)}),e)}n[i]=u,0===--r&&t(n)}catch(c){e(c)}}for(var i=0;i<n.length;i++)o(i,n[i])}))},i.resolve=function(t){return t&&"object"===typeof t&&t.constructor===i?t:new i((function(n){n(t)}))},i.reject=function(t){return new i((function(n,e){e(t)}))},i.race=function(t){return new i((function(n,e){for(var r=0,o=t.length;r<o;r++)t[r].then(n,e)}))},i._immediateFn="function"===typeof setImmediate?function(t){setImmediate(t)}:function(t){e(t,0)},i._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},t.exports?t.exports=i:n.Promise||(n.Promise=i)})(n)})(e);var r=e.exports,o=function(){return"undefined"!==typeof window?window:Function("return this;")()}(),i={boltExport:o.Promise||r};return i}))})(void 0,UD,WD);var GD,$D=WD.exports.boltExport,qD=function(t){var n=V.none(),e=[],r=function(t){return qD((function(n){o((function(e){n(t(e))}))}))},o=function(t){u()?c(t):e.push(t)},i=function(t){u()||(n=V.some(t),a(e),e=[])},u=function(){return n.isSome()},a=function(t){q(t,c)},c=function(t){n.each((function(n){setTimeout((function(){t(n)}),0)}))};return t(i),{get:o,map:r,isReady:u}},XD=function(t){return qD((function(n){n(t)}))},KD={nu:qD,pure:XD},YD=function(t){setTimeout((function(){throw t}),0)},JD=function(t){var n=function(n){t().then(n,YD)},e=function(n){return JD((function(){return t().then(n)}))},r=function(n){return JD((function(){return t().then((function(t){return n(t).toPromise()}))}))},o=function(n){return JD((function(){return t().then((function(){return n.toPromise()}))}))},i=function(){return KD.nu(n)},u=function(){var n=null;return JD((function(){return null===n&&(n=t()),n}))},a=t;return{map:e,bind:r,anonBind:o,toLazy:i,toCached:u,toPromise:a,get:n}},QD=function(t){return JD((function(){return new $D(t)}))},ZD=function(t){return JD((function(){return $D.resolve(t)}))},t_={nu:QD,pure:ZD},n_=["input","textarea"],e_=function(t){var n=cn(t);return j(n_,n)},r_=function(t,n){var e=n.getRoot(t).getOr(t.element);as(e,n.invalidClass),n.notify.each((function(n){e_(t.element)&&Fe(t.element,"aria-invalid",!1),n.getContainer(t).each((function(t){Xa(t,n.validHtml)})),n.onValid(t)}))},o_=function(t,n,e,r){var o=n.getRoot(t).getOr(t.element);is(o,n.invalidClass),n.notify.each((function(n){e_(t.element)&&Fe(t.element,"aria-invalid",!0),n.getContainer(t).each((function(t){Xa(t,r)})),n.onInvalid(t,r)}))},i_=function(t,n,e){return n.validator.fold((function(){return t_.pure(ro.value(!0))}),(function(n){return n.validate(t)}))},u_=function(t,n,e){return n.notify.each((function(n){n.onValidate(t)})),i_(t,n).map((function(r){return t.getSystem().isConnected()?r.fold((function(r){return o_(t,n,e,r),ro.error(r)}),(function(e){return r_(t,n),ro.value(e)})):ro.error("No longer in system")}))},a_=function(t,n){var e=n.getRoot(t).getOr(t.element);return cs(e,n.invalidClass)},c_=Object.freeze({__proto__:null,markValid:r_,markInvalid:o_,query:i_,run:u_,isInvalid:a_}),s_=function(t,n){return t.validator.map((function(e){return Ma([Ha(e.onEvent,(function(e){u_(e,t,n).get(x)}))].concat(e.validateOnLoad?[ja((function(e){u_(e,t,n).get(v)}))]:[]))})).getOr({})},l_=Object.freeze({__proto__:null,events:s_}),f_=[Di("invalidClass"),Xi("getRoot",V.none),$i("notify",[Xi("aria","alert"),Xi("getContainer",V.none),Xi("validHtml",""),al("onValid"),al("onInvalid"),al("onValidate")]),$i("validator",[Di("validate"),Xi("onEvent","input"),Xi("validateOnLoad",!0)])],d_=hf({fields:f_,name:"invalidating",active:l_,apis:c_,extra:{validation:function(t){return function(n){var e=tv.getValue(n);return t_.pure(t(e))}}}}),m_=function(t,n,e,r){return e.getOrCreate(t,n,r)},g_=Object.freeze({__proto__:null,getCoupled:m_}),h_=[_i("others",bi(ro.value,ui()))],v_=function(){var t={},n=function(n,e,r){var o=ht(e.others);if(o)return zt(t,r).getOrThunk((function(){var o=zt(e.others,r).getOrDie("No information found for coupled component: "+r),i=o(n),u=n.getSystem().build(i);return t[r]=u,u}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))},e=w({});return Oc({readState:e,getOrCreate:n})},p_=Object.freeze({__proto__:null,init:v_}),b_=hf({fields:h_,name:"coupling",apis:g_,state:p_}),y_=w("sink"),w_=w(Bv({name:y_(),overrides:w({dom:{tag:"div"},behaviours:mf([Pg.config({useFixed:T})]),events:Ma([La(Fu()),La(Eu()),La(Wu())])})}));(function(t){t[t["HighlightFirst"]=0]="HighlightFirst",t[t["HighlightNone"]=1]="HighlightNone"})(GD||(GD={}));var x_,S_=function(t,n){var e=t.getHotspot(n).getOr(n),r="hotspot",o=t.getAnchorOverrides();return t.layouts.fold((function(){return{type:r,hotspot:e,overrides:o}}),(function(t){return{type:r,hotspot:e,overrides:o,layouts:t}}))},C_=function(t,n,e){var r=t.fetch;return r(e).map(n)},k_=function(t,n,e,r,o,i,u){var a=C_(t,n,r),c=D_(r,t);return a.map((function(t){return t.bind((function(t){return V.from(Qx.sketch(D(D({},i.menu()),{uid:dc(""),data:t,highlightImmediately:u===GD.HighlightFirst,onOpenMenu:function(t,n){var r=c().getOrDie();Pg.position(r,n,{anchor:e}),bh.decloak(o)},onOpenSubmenu:function(t,n,e){var r=c().getOrDie();Pg.position(r,e,{anchor:{type:"submenu",item:n}}),bh.decloak(o)},onRepositionMenu:function(t,n,r){var o=c().getOrDie();Pg.position(o,n,{anchor:e}),q(r,(function(t){Pg.position(o,t.triggeredMenu,{anchor:{type:"submenu",item:t.triggeringItem}})}))},onEscape:function(){return Yw.focus(r),bh.close(o),V.some(!0)}})))}))}))},O_=function(t,n,e,r,o,i,u){var a=S_(t,e),c=k_(t,n,a,e,r,o,u);return c.map((function(t){return t.fold((function(){bh.isOpen(r)&&bh.close(r)}),(function(t){bh.cloak(r),bh.open(r,t),i(r)})),r}))},z_=function(t,n,e,r,o,i,u){return bh.close(r),t_.pure(r)},T_=function(t,n,e,r,o,i){var u=b_.getCoupled(e,"sandbox"),a=bh.isOpen(u),c=a?z_:O_;return c(t,n,e,u,r,o,i)},M_=function(t,n,e){var r=bp.getCurrent(n).getOr(n),o=pr(t.element);e?Xe(r.element,"min-width",o+"px"):vr(r.element,o)},D_=function(t,n){return t.getSystem().getByUid(n.uid+"-"+y_()).map((function(t){return function(){return ro.value(t)}})).getOrThunk((function(){return n.lazySink.fold((function(){return function(){return ro.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(n){return function(){return n(t)}}))}))},__=function(t){bh.getState(t).each((function(t){Qx.repositionMenus(t)}))},A_=function(t,n,e){var r=Ns(),o=function(o,i){var u=S_(t,n);r.link(n.element),t.matchWidth&&M_(u.hotspot,i,t.useMinWidth),t.onOpen(u,o,i),void 0!==e&&void 0!==e.onOpen&&e.onOpen(o,i)},i=function(t,o){r.unlink(n.element),void 0!==e&&void 0!==e.onClose&&e.onClose(t,o)},u=D_(n,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:ov.augment(t.sandboxBehaviours,[tv.config({store:{mode:"memory",initialValue:n}}),bh.config({onOpen:o,onClose:i,isPartOf:function(t,e,r){return Us(e,r)||Us(n,r)},getAttachPoint:function(){return u().getOrDie()}}),bp.config({find:function(t){return bh.getState(t).bind((function(t){return bp.getCurrent(t)}))}}),yf.config({channels:D(D({},Ch({isExtraPart:z})),Oh({doReposition:__}))})])}},H_=function(t){var n=b_.getCoupled(t,"sandbox");__(n)},E_=function(){return[Xi("sandboxClasses",[]),ov.field("sandboxBehaviours",[bp,yf,bh,tv])]},R_=w([Di("dom"),Di("fetch"),al("onOpen"),cl("onExecute"),Xi("getHotspot",V.some),Xi("getAnchorOverrides",w({})),Ld(),nv("dropdownBehaviours",[hx,b_,Dw,Yw]),Di("toggleClass"),Xi("eventOrder",{}),Fi("lazySink"),Xi("matchWidth",!1),Xi("useMinWidth",!1),Fi("role")].concat(E_())),B_=w([Rv({schema:[ol()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),w_()]),V_=function(t,n,e,r){var o,i=function(n){return zt(t.dom,"attributes").bind((function(t){return zt(t,n)}))},u=function(t){bh.getState(t).each((function(t){Qx.highlightPrimary(t)}))},a=function(n){var e=u;T_(t,x,n,r,e,GD.HighlightFirst).get(v)},c={expand:function(n){hx.isOn(n)||T_(t,x,n,r,v,GD.HighlightNone).get(v)},open:function(n){hx.isOn(n)||T_(t,x,n,r,v,GD.HighlightFirst).get(v)},isOpen:hx.isOn,close:function(n){hx.isOn(n)&&T_(t,x,n,r,v,GD.HighlightFirst).get(v)},repositionMenus:function(t){hx.isOn(t)&&H_(t)}},s=function(t,n){return ka(t),V.some(!0)};return{uid:t.uid,dom:t.dom,components:n,behaviours:rv(t.dropdownBehaviours,[hx.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),b_.config({others:{sandbox:function(n){return A_(t,n,{onOpen:function(){return hx.on(n)},onClose:function(){return hx.off(n)}})}}}),Dw.config({mode:"special",onSpace:s,onEnter:s,onDown:function(t,n){if(I_.isOpen(t)){var e=b_.getCoupled(t,"sandbox");u(e)}else I_.open(t);return V.some(!0)},onEscape:function(t,n){return I_.isOpen(t)?(I_.close(t),V.some(!0)):V.none()}}),Yw.config({})]),events:px(V.some(a)),eventOrder:D(D({},t.eventOrder),(o={},o[na()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:c,domModification:{attributes:D(D({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:i("type").getOr("button")}:{})}}},I_=mp({name:"Dropdown",configFields:R_(),partFields:B_(),factory:V_,apis:{open:function(t,n){return t.open(n)},expand:function(t,n){return t.expand(n)},close:function(t,n){return t.close(n)},isOpen:function(t,n){return t.isOpen(n)},repositionMenus:function(t,n){return t.repositionMenus(n)}}}),P_=function(){return _c({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},L_=function(){return Ma([Da(Xu(),T)])},F_=Object.freeze({__proto__:null,events:L_,exhibit:P_}),N_=hf({fields:[],name:"unselecting",active:F_}),j_=function(t,n){return I_.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:mf([mz.button(n.providers.isDisabled),cz(),N_.config({}),yD.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:n.getSink,fetch:function(e){return t_.nu((function(n){return t.fetch(n)})).map((function(r){return V.from(HM(So(eM(oc("menu-value"),r,(function(n){t.onItemAction(e,n)}),t.columns,t.presets,UC.CLOSE_ON_EXECUTE,z,n.providers),{movement:oM(t.columns,t.presets)})))}))},parts:{menu:vk(!1,1,t.presets)}})},U_=oc("color-input-change"),W_=oc("color-swatch-change"),G_=oc("color-picker-cancel"),$_=function(t,n,e){var r=hD.parts.field({factory:jD,inputClasses:["tox-textfield"],onSetValue:function(t){return d_.run(t).get(v)},inputBehaviours:mf([Ip.config({disabled:n.providers.isDisabled}),cz(),yD.config({}),d_.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return pe(t.element)},notify:{onValid:function(t){var n=tv.getValue(t);Ca(t,U_,{color:n})}},validator:{validateOnLoad:!1,validate:function(t){var n=tv.getValue(t);if(0===n.length)return t_.pure(ro.value(!0));var e=nn.fromTag("span");Xe(e,"background-color",n);var r=Ze(e,"background-color").fold((function(){return ro.error("blah")}),(function(t){return ro.value(n)}));return t_.pure(r)}}})]),selectOnFocus:!1}),o=t.label.map((function(t){return zD(t,n.providers)})),i=function(t,n){Ca(t,W_,{value:n})},u=function(t,n){a.getOpt(t).each((function(t){"custom"===n?e.colorPicker((function(n){n.fold((function(){return Sa(t,G_)}),(function(n){i(t,n),LT(n)}))}),"#ffffff"):i(t,"remove"===n?"":n)}))},a=kS(j_({dom:{tag:"span",attributes:{"aria-label":n.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[jl,Nl,$l]},onLtr:function(){return[Nl,jl,$l]}},components:[],fetch:YT(e.getColors(),e.hasCustomColors()),columns:e.getColorCols(),presets:"color",onItemAction:u},n));return hD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,a.asSpec()]}]),fieldBehaviours:mf([Nw("form-field-events",[Ha(U_,(function(n,e){a.getOpt(n).each((function(t){Xe(t.element,"background-color",e.event.color)})),Ca(n,TD,{name:t.name})})),Ha(W_,(function(t,n){hD.getField(t).each((function(e){tv.setValue(e,n.event.value),bp.getCurrent(t).each(Yw.focus)}))})),Ha(G_,(function(t,n){hD.getField(t).each((function(n){bp.getCurrent(t).each(Yw.focus)}))}))])])})},q_=Bv({schema:[Di("dom")],name:"label"}),X_=function(t){return Bv({name:t+"-edge",overrides:function(n){var e=n.model.manager.edgeActions[t];return e.fold((function(){return{}}),(function(t){return{events:Ma([Ea(Du(),(function(n,e,r){return t(n,r)}),[n]),Ea(Eu(),(function(n,e,r){return t(n,r)}),[n]),Ea(Ru(),(function(n,e,r){r.mouseIsDown.get()&&t(n,r)}),[n])])}}))}})},K_=X_("top-left"),Y_=X_("top"),J_=X_("top-right"),Q_=X_("right"),Z_=X_("bottom-right"),tA=X_("bottom"),nA=X_("bottom-left"),eA=X_("left"),rA=Ev({name:"thumb",defaults:w({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Ma([Ia(Du(),t,"spectrum"),Ia(_u(),t,"spectrum"),Ia(Au(),t,"spectrum"),Ia(Eu(),t,"spectrum"),Ia(Ru(),t,"spectrum"),Ia(Vu(),t,"spectrum")])}}}),oA=Ev({schema:[Ti("mouseIsDown",(function(){return ou(!1)}))],name:"spectrum",overrides:function(t){var n=t.model,e=n.manager,r=function(n,r){return e.getValueFromEvent(r).map((function(r){return e.setValueFrom(n,t,r)}))};return{behaviours:mf([Dw.config({mode:"special",onLeft:function(n){return e.onLeft(n,t)},onRight:function(n){return e.onRight(n,t)},onUp:function(n){return e.onUp(n,t)},onDown:function(n){return e.onDown(n,t)}}),Yw.config({})]),events:Ma([Ha(Du(),r),Ha(_u(),r),Ha(Eu(),r),Ha(Ru(),(function(n,e){t.mouseIsDown.get()&&r(n,e)}))])}}}),iA=[q_,eA,Q_,Y_,tA,K_,J_,nA,Z_,rA,oA],uA="slider.change.value",aA=w(uA),cA=function(t){return-1!==t.type.indexOf("touch")},sA=function(t){var n=t.event.raw;if(cA(n)){var e=n;return void 0!==e.touches&&1===e.touches.length?V.some(e.touches[0]).map((function(t){return lr(t.clientX,t.clientY)})):V.none()}var r=n;return void 0!==r.clientX?V.some(r).map((function(t){return lr(t.clientX,t.clientY)})):V.none()},lA="top",fA="right",dA="bottom",mA="left",gA=function(t){return t.model.minX},hA=function(t){return t.model.minY},vA=function(t){return t.model.minX-1},pA=function(t){return t.model.minY-1},bA=function(t){return t.model.maxX},yA=function(t){return t.model.maxY},wA=function(t){return t.model.maxX+1},xA=function(t){return t.model.maxY+1},SA=function(t,n,e){return n(t)-e(t)},CA=function(t){return SA(t,bA,gA)},kA=function(t){return SA(t,yA,hA)},OA=function(t){return CA(t)/2},zA=function(t){return kA(t)/2},TA=function(t){return t.stepSize},MA=function(t){return t.snapToGrid},DA=function(t){return t.snapStart},_A=function(t){return t.rounded},AA=function(t,n){return void 0!==t[n+"-edge"]},HA=function(t){return AA(t,mA)},EA=function(t){return AA(t,fA)},RA=function(t){return AA(t,lA)},BA=function(t){return AA(t,dA)},VA=function(t){return t.model.value.get()},IA=function(t){return{x:t}},PA=function(t){return{y:t}},LA=function(t,n){return{x:t,y:n}},FA=function(t,n){Ca(t,aA(),{value:n})},NA=function(t,n){FA(t,LA(vA(n),pA(n)))},jA=function(t,n){FA(t,PA(pA(n)))},UA=function(t,n){FA(t,LA(OA(n),pA(n)))},WA=function(t,n){FA(t,LA(wA(n),pA(n)))},GA=function(t,n){FA(t,IA(wA(n)))},$A=function(t,n){FA(t,LA(wA(n),zA(n)))},qA=function(t,n){FA(t,LA(wA(n),xA(n)))},XA=function(t,n){FA(t,PA(xA(n)))},KA=function(t,n){FA(t,LA(OA(n),xA(n)))},YA=function(t,n){FA(t,LA(vA(n),xA(n)))},JA=function(t,n){FA(t,IA(vA(n)))},QA=function(t,n){FA(t,LA(vA(n),zA(n)))},ZA=function(t,n,e,r){return t<n?t:t>e?e:t===n?n-1:Math.max(n,t-r)},tH=function(t,n,e,r){return t>e?t:t<n?n:t===e?e+1:Math.min(e,t+r)},nH=function(t,n,e){return Math.max(n,Math.min(e,t))},eH=function(t,n,e,r,o){return o.fold((function(){var o=t-n,i=Math.round(o/r)*r;return nH(n+i,n-1,e+1)}),(function(n){var o=(t-n)%r,i=Math.round(o/r),u=Math.floor((t-n)/r),a=Math.floor((e-n)/r),c=Math.min(a,u+i),s=n+c*r;return Math.max(n,s)}))},rH=function(t,n,e){return Math.min(e,Math.max(t,n))-n},oH=function(t){var n=t.min,e=t.max,r=t.range,o=t.value,i=t.step,u=t.snap,a=t.snapStart,c=t.rounded,s=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,d=t.maxBound,m=t.screenRange,g=s?n-1:n,h=l?e+1:e;if(o<f)return g;if(o>d)return h;var v=rH(o,f,d),p=nH(v/m*r+n,g,h);return u&&p>=n&&p<=e?eH(p,n,e,i,a):c?Math.round(p):p},iH=function(t){var n=t.min,e=t.max,r=t.range,o=t.value,i=t.hasMinEdge,u=t.hasMaxEdge,a=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,l=t.centerMaxEdge;return o<n?i?0:s:o>e?u?a:l:(o-n)/r*c},uH="top",aH="right",cH="bottom",sH="left",lH="width",fH="height",dH=function(t){return t.element.dom.getBoundingClientRect()},mH=function(t,n){return t[n]},gH=function(t){var n=dH(t);return mH(n,sH)},hH=function(t){var n=dH(t);return mH(n,aH)},vH=function(t){var n=dH(t);return mH(n,uH)},pH=function(t){var n=dH(t);return mH(n,cH)},bH=function(t){var n=dH(t);return mH(n,lH)},yH=function(t){var n=dH(t);return mH(n,fH)},wH=function(t,n,e){return(t+n)/2-e},xH=function(t,n){var e=dH(t),r=dH(n),o=mH(e,sH),i=mH(e,aH),u=mH(r,sH);return wH(o,i,u)},SH=function(t,n){var e=dH(t),r=dH(n),o=mH(e,uH),i=mH(e,cH),u=mH(r,uH);return wH(o,i,u)},CH=function(t,n){Ca(t,aA(),{value:n})},kH=function(t){return{x:t}},OH=function(t,n,e){var r={min:gA(n),max:bA(n),range:CA(n),value:e,step:TA(n),snap:MA(n),snapStart:DA(n),rounded:_A(n),hasMinEdge:HA(n),hasMaxEdge:EA(n),minBound:gH(t),maxBound:hH(t),screenRange:bH(t)};return oH(r)},zH=function(t,n,e){var r=OH(t,n,e),o=kH(r);return CH(t,o),r},TH=function(t,n){var e=gA(n);CH(t,kH(e))},MH=function(t,n){var e=bA(n);CH(t,kH(e))},DH=function(t,n,e){var r=t>0?tH:ZA,o=r(VA(e).x,gA(e),bA(e),TA(e));return CH(n,kH(o)),V.some(o)},_H=function(t){return function(n,e){return DH(t,n,e).map(T)}},AH=function(t){var n=sA(t);return n.map((function(t){return t.left}))},HH=function(t,n,e,r,o){var i=0,u=bH(t),a=r.bind((function(n){return V.some(xH(n,t))})).getOr(i),c=o.bind((function(n){return V.some(xH(n,t))})).getOr(u),s={min:gA(n),max:bA(n),range:CA(n),value:e,hasMinEdge:HA(n),hasMaxEdge:EA(n),minBound:gH(t),minOffset:i,maxBound:hH(t),maxOffset:u,centerMinEdge:a,centerMaxEdge:c};return iH(s)},EH=function(t,n,e,r,o,i){var u=HH(n,i,e,r,o);return gH(n)-gH(t)+u},RH=function(t,n,e,r){var o=VA(e),i=EH(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),e),u=pr(n.element)/2;Xe(n.element,"left",i-u+"px")},BH=_H(-1),VH=_H(1),IH=V.none,PH=V.none,LH={"top-left":V.none(),top:V.none(),"top-right":V.none(),right:V.some(GA),"bottom-right":V.none(),bottom:V.none(),"bottom-left":V.none(),left:V.some(JA)},FH=Object.freeze({__proto__:null,setValueFrom:zH,setToMin:TH,setToMax:MH,findValueOfOffset:OH,getValueFromEvent:AH,findPositionOfValue:EH,setPositionFromValue:RH,onLeft:BH,onRight:VH,onUp:IH,onDown:PH,edgeActions:LH}),NH=function(t,n){Ca(t,aA(),{value:n})},jH=function(t){return{y:t}},UH=function(t,n,e){var r={min:hA(n),max:yA(n),range:kA(n),value:e,step:TA(n),snap:MA(n),snapStart:DA(n),rounded:_A(n),hasMinEdge:RA(n),hasMaxEdge:BA(n),minBound:vH(t),maxBound:pH(t),screenRange:yH(t)};return oH(r)},WH=function(t,n,e){var r=UH(t,n,e),o=jH(r);return NH(t,o),r},GH=function(t,n){var e=hA(n);NH(t,jH(e))},$H=function(t,n){var e=yA(n);NH(t,jH(e))},qH=function(t,n,e){var r=t>0?tH:ZA,o=r(VA(e).y,hA(e),yA(e),TA(e));return NH(n,jH(o)),V.some(o)},XH=function(t){return function(n,e){return qH(t,n,e).map(T)}},KH=function(t){var n=sA(t);return n.map((function(t){return t.top}))},YH=function(t,n,e,r,o){var i=0,u=yH(t),a=r.bind((function(n){return V.some(SH(n,t))})).getOr(i),c=o.bind((function(n){return V.some(SH(n,t))})).getOr(u),s={min:hA(n),max:yA(n),range:kA(n),value:e,hasMinEdge:RA(n),hasMaxEdge:BA(n),minBound:vH(t),minOffset:i,maxBound:pH(t),maxOffset:u,centerMinEdge:a,centerMaxEdge:c};return iH(s)},JH=function(t,n,e,r,o,i){var u=YH(n,i,e,r,o);return vH(n)-vH(t)+u},QH=function(t,n,e,r){var o=VA(e),i=JH(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),e),u=ur(n.element)/2;Xe(n.element,"top",i-u+"px")},ZH=V.none,tE=V.none,nE=XH(-1),eE=XH(1),rE={"top-left":V.none(),top:V.some(jA),"top-right":V.none(),right:V.none(),"bottom-right":V.none(),bottom:V.some(XA),"bottom-left":V.none(),left:V.none()},oE=Object.freeze({__proto__:null,setValueFrom:WH,setToMin:GH,setToMax:$H,findValueOfOffset:UH,getValueFromEvent:KH,findPositionOfValue:JH,setPositionFromValue:QH,onLeft:ZH,onRight:tE,onUp:nE,onDown:eE,edgeActions:rE}),iE=function(t,n){Ca(t,aA(),{value:n})},uE=function(t,n){return{x:t,y:n}},aE=function(t,n,e){var r=OH(t,n,e.left),o=UH(t,n,e.top),i=uE(r,o);return iE(t,i),i},cE=function(t,n,e,r){var o=t>0?tH:ZA,i=n?VA(r).x:o(VA(r).x,gA(r),bA(r),TA(r)),u=n?o(VA(r).y,hA(r),yA(r),TA(r)):VA(r).y;return iE(e,uE(i,u)),V.some(i)},sE=function(t,n){return function(e,r){return cE(t,n,e,r).map(T)}},lE=function(t,n){var e=gA(n),r=hA(n);iE(t,uE(e,r))},fE=function(t,n){var e=bA(n),r=yA(n);iE(t,uE(e,r))},dE=function(t){return sA(t)},mE=function(t,n,e,r){var o=VA(e),i=EH(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),e),u=JH(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),e),a=pr(n.element)/2,c=ur(n.element)/2;Xe(n.element,"left",i-a+"px"),Xe(n.element,"top",u-c+"px")},gE=sE(-1,!1),hE=sE(1,!1),vE=sE(-1,!0),pE=sE(1,!0),bE={"top-left":V.some(NA),top:V.some(UA),"top-right":V.some(WA),right:V.some($A),"bottom-right":V.some(qA),bottom:V.some(KA),"bottom-left":V.some(YA),left:V.some(QA)},yE=Object.freeze({__proto__:null,setValueFrom:aE,setToMin:lE,setToMax:fE,getValueFromEvent:dE,setPositionFromValue:mE,onLeft:gE,onRight:hE,onUp:vE,onDown:pE,edgeActions:bE}),wE=[Xi("stepSize",1),Xi("onChange",v),Xi("onChoose",v),Xi("onInit",v),Xi("onDragStart",v),Xi("onDragEnd",v),Xi("snapToGrid",!1),Xi("rounded",!0),Fi("snapStart"),_i("model",ki("mode",{x:[Xi("minX",0),Xi("maxX",100),Ti("value",(function(t){return ou(t.mode.minX)})),Di("getInitialValue"),fl("manager",FH)],y:[Xi("minY",0),Xi("maxY",100),Ti("value",(function(t){return ou(t.mode.minY)})),Di("getInitialValue"),fl("manager",oE)],xy:[Xi("minX",0),Xi("maxX",100),Xi("minY",0),Xi("maxY",100),Ti("value",(function(t){return ou({x:t.mode.minX,y:t.mode.minY})})),Di("getInitialValue"),fl("manager",yE)]})),nv("sliderBehaviours",[Dw,tv]),Ti("mouseIsDown",(function(){return ou(!1)}))],xE=function(t,n,e,r){var o,i=function(n){return Kv(n,t,"thumb")},u=function(n){return Kv(n,t,"spectrum")},a=function(n){return Xv(n,t,"left-edge")},c=function(n){return Xv(n,t,"right-edge")},s=function(n){return Xv(n,t,"top-edge")},l=function(n){return Xv(n,t,"bottom-edge")},f=t.model,d=f.manager,m=function(n,e){d.setPositionFromValue(n,e,t,{getLeftEdge:a,getRightEdge:c,getTopEdge:s,getBottomEdge:l,getSpectrum:u})},g=function(t,n){f.value.set(n);var e=i(t);m(t,e)},h=function(n,e){g(n,e);var r=i(n);return t.onChange(n,r,e),V.some(!0)},v=function(n){d.setToMin(n,t)},p=function(n){d.setToMax(n,t)},b=function(n){var e=function(){Xv(n,t,"thumb").each((function(e){var r=f.value.get();t.onChoose(n,e,r)}))},r=t.mouseIsDown.get();t.mouseIsDown.set(!1),r&&e()},y=function(n,e){e.stop(),t.mouseIsDown.set(!0),t.onDragStart(n,i(n))},w=function(n,e){e.stop(),t.onDragEnd(n,i(n)),b(n)};return{uid:t.uid,dom:t.dom,components:n,behaviours:rv(t.sliderBehaviours,[Dw.config({mode:"special",focusIn:function(n){return Xv(n,t,"spectrum").map(Dw.focusIn).map(T)}}),tv.config({store:{mode:"manual",getValue:function(t){return f.value.get()}}}),yf.config({channels:(o={},o[xh()]={onReceive:b},o)})]),events:Ma([Ha(aA(),(function(t,n){h(t,n.event.value)})),ja((function(n,e){var r=f.getInitialValue();f.value.set(r);var o=i(n);m(n,o);var a=u(n);t.onInit(n,o,a,f.value.get())})),Ha(Du(),y),Ha(Au(),w),Ha(Eu(),y),Ha(Vu(),w)]),apis:{resetToMin:v,resetToMax:p,setValue:g,refresh:m},domModification:{styles:{position:"relative"}}}},SE=mp({name:"Slider",configFields:wE,partFields:iA,factory:xE,apis:{setValue:function(t,n,e){t.setValue(n,e)},resetToMin:function(t,n){t.resetToMin(n)},resetToMax:function(t,n){t.resetToMax(n)},refresh:function(t,n){t.refresh(n)}}}),CE=oc("rgb-hex-update"),kE=oc("slider-update"),OE=oc("palette-update"),zE=function(t,n){var e=SE.parts.spectrum({dom:{tag:"div",classes:[n("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=SE.parts.thumb({dom:{tag:"div",classes:[n("hue-slider-thumb")],attributes:{role:"presentation"}}});return SE.sketch({dom:{tag:"div",classes:[n("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:w({y:0})},components:[e,r],sliderBehaviours:mf([Yw.config({})]),onChange:function(t,n,e){Ca(t,kE,{value:e})}})},TE="form",ME=[nv("formBehaviours",[tv])],DE=function(t){return"<alloy.field."+t+">"},_E=function(t){var n=function(){var t=[],n=function(n,e){return t.push(n),Uv(TE,DE(n),e)};return{field:n,record:w(t)}}(),e=t(n),r=n.record(),o=$(r,(function(t){return Ev({name:t,pname:DE(t)})}));return up(TE,ME,o,HE,e)},AE=function(t,n){return t.fold((function(){return ro.error(n)}),ro.value)},HE=function(t,n){return{uid:t.uid,dom:t.dom,components:n,behaviours:rv(t.formBehaviours,[tv.config({store:{mode:"manual",getValue:function(n){var e=Jv(n,t);return bt(e,(function(t,n){return t().bind((function(t){var e=bp.getCurrent(t);return AE(e,new Error("Cannot find a current component to extract the value from for form part '"+n+"': "+Za(t.element)))})).map(tv.getValue)}))},setValue:function(n,e){pt(e,(function(e,r){Xv(n,t,r).each((function(t){bp.getCurrent(t).each((function(t){tv.setValue(t,e)}))}))}))}}})]),apis:{getField:function(n,e){return Xv(n,t,e).bind(bp.getCurrent)}}}},EE={getField:Cc((function(t,n,e){return t.getField(n,e)})),sketch:_E},RE=oc("valid-input"),BE=oc("invalid-input"),VE=oc("validating-input"),IE="colorcustom.rgb.",PE=function(t,n,e,r){var o=function(e,r){return d_.config({invalidClass:n("invalid"),notify:{onValidate:function(t){Ca(t,VE,{type:e})},onValid:function(t){Ca(t,RE,{type:e,value:tv.getValue(t)})},onInvalid:function(t){Ca(t,BE,{type:e,value:tv.getValue(t)})}},validator:{validate:function(n){var e=tv.getValue(n),o=r(e)?ro.value(!0):ro.error(t("aria.input.invalid"));return t_.pure(o)},validateOnLoad:!1}})},i=function(e,r,i,u,a){var c=t(IE+"range"),s=hD.parts.label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":u}}}),l=hD.parts.field({data:a,factory:jD,inputAttributes:D({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:mf([o(r,e),yD.config({})]),onSetValue:function(t){if(d_.isInvalid(t)){var n=d_.run(t);n.get(v)}}}),f=[s,l],d="hex"!==r?[hD.parts["aria-descriptor"]({text:c})]:[],m=f.concat(d);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}},u=function(t,n){var e=nT(n);return EE.getField(t,"hex").each((function(n){Yw.isFocused(n)||tv.setValue(t,{hex:e.value})})),e},a=function(t,n){var e=n.red,r=n.green,o=n.blue;tv.setValue(t,{red:e,green:r,blue:o})},c=kS({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),s=function(t,n){c.getOpt(t).each((function(t){Xe(t.element,"background-color","#"+n.value)}))},l=function(){var o={red:ou(V.some(255)),green:ou(V.some(255)),blue:ou(V.some(255)),hex:ou(V.some("ffffff"))},l=function(t,n){var e=lT(n);a(t,e),g(e)},f=function(t){return o[t].get()},d=function(t,n){o[t].set(n)},m=function(){return f("red").bind((function(t){return f("green").bind((function(n){return f("blue").map((function(e){return aT(t,n,e,1)}))}))}))},g=function(t){var n=t.red,e=t.green,r=t.blue;d("red",V.some(n)),d("green",V.some(e)),d("blue",V.some(r))},h=function(t,n){var e=n.event;"hex"!==e.type?d(e.type,V.none()):r(t)},v=function(t,n){e(t);var r=$z(n);d("hex",V.some(n));var o=lT(r);a(t,o),g(o),Ca(t,CE,{hex:r}),s(t,r)},p=function(t,n,e){var r=parseInt(e,10);d(n,V.some(r)),m().each((function(n){var e=u(t,n);Ca(t,CE,{hex:e}),s(t,e)}))},b=function(t){return"hex"===t.type},y=function(t,n){var e=n.event;b(e)?v(t,e.value):p(t,e.type,e.value)},w=function(n){return{label:t(IE+n+".label"),description:t(IE+n+".description")}},x=w("red"),S=w("green"),C=w("blue"),k=w("hex");return So(EE.sketch((function(e){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[e.field("red",hD.sketch(i(cT,"red",x.label,x.description,255))),e.field("green",hD.sketch(i(cT,"green",S.label,S.description,255))),e.field("blue",hD.sketch(i(cT,"blue",C.label,C.description,255))),e.field("hex",hD.sketch(i(Kz,"hex",k.label,k.description,"ffffff"))),c.asSpec()],formBehaviours:mf([d_.config({invalidClass:n("form-invalid")}),Nw("rgb-form-events",[Ha(RE,y),Ha(BE,h),Ha(VE,h)])])}})),{apis:{updateHex:function(t,n){tv.setValue(t,{hex:n.value}),l(t,n),s(t,n)}}})},f=dp({factory:l,name:"RgbForm",configFields:[],apis:{updateHex:function(t,n,e){t.updateHex(n,e)}},extraApis:{}});return f},LE=function(t,n){var e=SE.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[n("sv-palette-spectrum")]}}),r=SE.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette-thumb")],innerHtml:"<div class="+n("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(t,n){var e=t.width,r=t.height,o=t.getContext("2d");if(null!==o){o.fillStyle=n,o.fillRect(0,0,e,r);var i=o.createLinearGradient(0,0,e,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,e,r);var u=o.createLinearGradient(0,0,0,r);u.addColorStop(0,"rgba(0,0,0,0)"),u.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=u,o.fillRect(0,0,e,r)}},i=function(t,n){var e=t.components()[0].element.dom,r=xT(n,100,100),i=sT(r);o(e,mT(i))},u=function(t,n){var e=ST(lT(n));SE.setValue(t,{x:e.saturation,y:100-e.value})},a=function(t){var i=w({x:0,y:0}),u=function(t,n,e){Ca(t,OE,{value:e})},a=function(t,n,e,r){o(e.element.dom,mT(gT))},c=mf([bp.config({find:V.some}),Yw.config({})]);return SE.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[e,r],onChange:u,onInit:a,sliderBehaviours:c})},c=dp({factory:a,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(t,n,e){i(n,e)},setThumb:function(t,n,e){u(n,e)}},extraApis:{}});return c},FE=function(t,n){var e=function(e){var r=PE(t,n,e.onValidHex,e.onInvalidHex),o=LE(t,n),i=function(t){return(100-t)/100*360},u=function(t){return 100-t/360*100},a={paletteRgba:ou(gT),paletteHue:ou(0)},c=kS(zE(t,n)),s=kS(o.sketch({})),l=kS(r.sketch({})),f=function(t,n,e){s.getOpt(t).each((function(t){o.setHue(t,e)}))},d=function(t,n){l.getOpt(t).each((function(t){r.updateHex(t,n)}))},m=function(t,n,e){c.getOpt(t).each((function(t){SE.setValue(t,{y:u(e)})}))},g=function(t,n){s.getOpt(t).each((function(t){o.setThumb(t,n)}))},h=function(t,n){var e=lT(t);a.paletteRgba.set(e),a.paletteHue.set(n)},v=function(t,n,e,r){h(n,e),q(r,(function(r){r(t,n,e)}))},p=function(){var t=[d];return function(n,e){var r=e.event.value,o=a.paletteHue.get(),i=xT(o,r.x,100-r.y),u=kT(i);v(n,u,o,t)}},b=function(){var t=[f,d];return function(n,e){var r=i(e.event.value.y),o=a.paletteRgba.get(),u=ST(o),c=xT(r,u.saturation,u.value),s=kT(c);v(n,s,r,t)}},y=function(){var t=[f,m,g];return function(n,e){var r=e.event.hex,o=CT(r);v(n,r,o.hue,t)}};return{uid:e.uid,dom:e.dom,components:[s.asSpec(),c.asSpec(),l.asSpec()],behaviours:mf([Nw("colour-picker-events",[Ha(CE,y()),Ha(OE,p()),Ha(kE,b())]),bp.config({find:function(t){return l.getOpt(t)}}),Dw.config({mode:"acyclic"})])}},r=dp({name:"ColourPicker",configFields:[Di("dom"),Xi("onValidHex",v),Xi("onInvalidHex",v)],factory:e});return r},NE=function(){return bp.config({find:V.some})},jE=function(t){return bp.config({find:t.getOpt})},UE=function(t){return bp.config({find:function(n){return Se(n.element,t).bind((function(t){return n.getSystem().getByDom(t).toOptional()}))}})},WE={self:NE,memento:jE,childAt:UE},GE={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},$E=function(t){return GE[t]},qE=function(t){return $E(t)},XE=function(t){var n=function(t){return"tox-"+t},e=FE(qE,n),r=function(t){Ca(t,_D,{name:"hex-valid",value:!0})},o=function(t){Ca(t,_D,{name:"hex-valid",value:!1})},i=kS(e.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:mf([tv.config({store:{mode:"manual",getValue:function(t){var n=i.get(t),e=bp.getCurrent(n),r=e.bind((function(t){var n=tv.getValue(t);return n.hex}));return r.map((function(t){return"#"+t})).getOr("")},setValue:function(t,n){var e=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,r=e.exec(n),o=i.get(t),u=bp.getCurrent(o);u.fold((function(){console.log("Can not find form")}),(function(t){tv.setValue(t,{hex:V.from(r[1]).getOr("")}),EE.getField(t,"hex").each((function(t){Sa(t,ju())}))}))}}}),WE.self()])}},KE=tinymce.util.Tools.resolve("tinymce.Resource"),YE=function(t){return Tt(t,"init")},JE=function(t){var n=od(),e=kS({dom:{tag:t.tag}}),r=od();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:mf([Nw("custom-editor-events",[ja((function(o){e.getOpt(o).each((function(e){(YE(t)?t.init(e.element.dom):KE.load(t.scriptId,t.scriptUrl).then((function(n){return n(e.element.dom,t.settings)}))).then((function(t){r.on((function(n){t.setValue(n)})),r.clear(),n.set(t)}))}))}))]),tv.config({store:{mode:"manual",getValue:function(){return n.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,e){n.get().fold((function(){r.set(e)}),(function(t){return t.setValue(e)}))}}}),WE.self()]),components:[e.asSpec()]}},QE=tinymce.util.Tools.resolve("tinymce.util.Tools"),ZE=ti([Xi("preprocess",x),Xi("postprocess",x)]),tR=function(t,n){var e=Si("RepresentingConfigs.memento processors",ZE,n);return tv.config({store:{mode:"manual",getValue:function(n){var r=t.get(n),o=tv.getValue(r);return e.postprocess(o)},setValue:function(n,r){var o=e.preprocess(r),i=t.get(n);tv.setValue(i,o)}}})},nR=function(t,n,e){return tv.config(So({store:{mode:"manual",getValue:n,setValue:e}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))},eR=function(t,n,e){return nR(t,(function(t){return n(t.element)}),(function(t,n){return e(t.element,n)}))},rR=function(t){return eR(t,ds,ms)},oR=function(t){return eR(t,qa,Xa)},iR=function(t){return tv.config({store:{mode:"memory",initialValue:t}})},uR={memento:tR,withElement:eR,withComp:nR,domValue:rR,domHtml:oR,memory:iR},aR="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",cR=function(t,n){var e=QE.explode(n.getSetting("images_file_types",aR,"string")),r=function(t){return U(e,(function(n){return Wt(t.name.toLowerCase(),"."+n.toLowerCase())}))};return Y(mt(t),r)},sR=function(t,n){var e=function(t,n){n.stop()},r=function(t){return function(n,e){q(t,(function(t){t(n,e)}))}},o=function(t,n){if(!Ip.isDisabled(t)){var e=n.event.raw;u(t,e.dataTransfer.files)}},i=function(t,n){var e=n.event.raw.target;u(t,e.files)},u=function(e,r){tv.setValue(e,cR(r,n)),Ca(e,TD,{name:t.name})},a=kS({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:mf([Nw("input-file-events",[La(Wu()),La(ra())])])}),c=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:mf([uR.memory([]),WE.self(),Ip.config({}),hx.config({toggleClass:"dragenter",toggleOnExecute:!1}),Nw("dropzone-events",[Ha("dragenter",r([e,hx.toggle])),Ha("dragleave",r([e,hx.toggle])),Ha("dragover",e),Ha("drop",r([e,o])),Ha(Uu(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:n.translate("Drop an image here")}},CS.sketch({dom:{tag:"button",innerHtml:n.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[a.asSpec()],action:function(t){var n=a.get(t);n.element.dom.click()},buttonBehaviours:mf([yD.config({}),mz.button(n.isDisabled),cz()])})]}]}},s=t.label.map((function(t){return zD(t,n)})),l=hD.parts.field({factory:{sketch:c}});return xD(s,l,["tox-form__group--stretched"],[])},lR=function(t,n){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:$(t.items,n.interpreter)}},fR=oc("alloy-fake-before-tabstop"),dR=oc("alloy-fake-after-tabstop"),mR=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:mf([Yw.config({ignore:!0}),yD.config({})])}},gR=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[mR([fR]),t,mR([dR])],behaviours:mf([WE.childAt(1)])}},hR=function(t,n){Ca(t,Fu(),{raw:{which:9,shiftKey:n}})},vR=function(t,n){var e=n.element;cs(e,fR)?hR(t,!0):cs(e,dR)&&hR(t,!1)},pR=function(t){return VM(t,["."+fR,"."+dR].join(","),z)},bR=!(ee().browser.isIE()||ee().browser.isEdge()),yR=function(t){var n=ou("");return{getValue:function(t){return n.get()},setValue:function(e,r){if(t)Fe(e.element,"srcdoc",r);else{Fe(e.element,"src","javascript:''");var o=e.element.dom.contentWindow.document;o.open(),o.write(r),o.close()}n.set(r)}}},wR=function(t,n){var e=bR&&t.sandboxed,r=D(D({},t.label.map((function(t){return{title:t}})).getOr({})),e?{sandbox:"allow-scripts allow-same-origin"}:{}),o=yR(e),i=t.label.map((function(t){return zD(t,n)})),u=function(t){return gR({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:mf([yD.config({}),Yw.config({}),uR.withComp(V.none(),o.getValue,o.setValue)])})},a=hD.parts.field({factory:{sketch:u}});return xD(i,a,["tox-form__group--stretched"],[])},xR=function(t,n){return kR(document.createElement("canvas"),t,n)},SR=function(t){var n=xR(t.width,t.height),e=CR(n);return e.drawImage(t,0,0),n},CR=function(t){return t.getContext("2d")},kR=function(t,n,e){return t.width=n,t.height=e,t},OR=function(t){return t.naturalWidth||t.width},zR=function(t){return t.naturalHeight||t.height},TR=function(t){return new $D((function(n,e){var r=URL.createObjectURL(t),o=new Image,i=function(){o.removeEventListener("load",u),o.removeEventListener("error",a)},u=function(){i(),n(o)},a=function(){i(),e("Unable to load data of type "+t.type+": "+r)};o.addEventListener("load",u),o.addEventListener("error",a),o.src=r,o.complete&&setTimeout(u,0)}))},MR=function(t){var n=t.split(","),e=/data:([^;]+)/.exec(n[0]);if(!e)return V.none();for(var r=e[1],o=n[1],i=1024,u=atob(o),a=u.length,c=Math.ceil(a/i),s=new Array(c),l=0;l<c;++l){for(var f=l*i,d=Math.min(f+i,a),m=new Array(d-f),g=f,h=0;g<d;++h,++g)m[h]=u[g].charCodeAt(0);s[l]=new Uint8Array(m)}return V.some(new Blob(s,{type:r}))},DR=function(t){return new $D((function(n,e){MR(t).fold((function(){e("uri is not base64: "+t)}),n)}))},_R=function(t,n,e){return n=n||"image/png",m(HTMLCanvasElement.prototype.toBlob)?new $D((function(r,o){t.toBlob((function(t){t?r(t):o()}),n,e)})):DR(t.toDataURL(n,e))},AR=function(t,n,e){return n=n||"image/png",t.toDataURL(n,e)},HR=function(t){return TR(t).then((function(t){RR(t);var n=xR(OR(t),zR(t)),e=CR(n);return e.drawImage(t,0,0),n}))},ER=function(t){return new $D((function(n){var e=new FileReader;e.onloadend=function(){n(e.result)},e.readAsDataURL(t)}))},RR=function(t){URL.revokeObjectURL(t.src)},BR=function(t,n,e){var r=n.type,o=w(r),i=function(){return $D.resolve(n)},u=w(e),a=function(){return e.split(",")[1]},c=function(n,e){return t.then((function(t){return _R(t,n,e)}))},s=function(n,e){return t.then((function(t){return AR(t,n,e)}))},l=function(t,n){return s(t,n).then((function(t){return t.split(",")[1]}))},f=function(){return t.then(SR)};return{getType:o,toBlob:i,toDataURL:u,toBase64:a,toAdjustedBlob:c,toAdjustedDataURL:s,toAdjustedBase64:l,toCanvas:f}},VR=function(t){return ER(t).then((function(n){return BR(HR(t),t,n)}))},IR=function(t,n){return _R(t,n).then((function(n){return BR($D.resolve(t),n,t.toDataURL())}))},PR=function(t){return VR(t)},LR=function(t,n,e){var r="string"===typeof t?parseFloat(t):t;return r>e?r=e:r<n&&(r=n),r},FR=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},NR=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],jR=function(t,n){for(var e,r=[],o=new Array(25),i=0;i<5;i++){for(var u=0;u<5;u++)r[u]=n[u+5*i];for(u=0;u<5;u++){e=0;for(var a=0;a<5;a++)e+=t[u+5*a]*r[a];o[u+5*i]=e}}return o},UR=function(t,n){var e;return n=LR(n,-1,1),n*=100,n<0?e=127+n/100*127:(e=n%1,e=0===e?NR[n]:NR[Math.floor(n)]*(1-e)+NR[Math.floor(n)+1]*e,e=127*e+127),jR(t,[e/127,0,0,0,.5*(127-e),0,e/127,0,0,.5*(127-e),0,0,e/127,0,.5*(127-e),0,0,0,1,0,0,0,0,0,1])},WR=function(t,n){return n=LR(255*n,-255,255),jR(t,[1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1])},GR=function(t,n,e,r){return n=LR(n,0,2),e=LR(e,0,2),r=LR(r,0,2),jR(t,[n,0,0,0,0,0,e,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])},$R=function(t,n){return t.toCanvas().then((function(e){return qR(e,t.getType(),n)}))},qR=function(t,n,e){var r=CR(t),o=function(t,n){for(var e,r,o,i,u=t.data,a=n[0],c=n[1],s=n[2],l=n[3],f=n[4],d=n[5],m=n[6],g=n[7],h=n[8],v=n[9],p=n[10],b=n[11],y=n[12],w=n[13],x=n[14],S=n[15],C=n[16],k=n[17],O=n[18],z=n[19],T=0;T<u.length;T+=4)e=u[T],r=u[T+1],o=u[T+2],i=u[T+3],u[T]=e*a+r*c+o*s+i*l+f,u[T+1]=e*d+r*m+o*g+i*h+v,u[T+2]=e*p+r*b+o*y+i*w+x,u[T+3]=e*S+r*C+o*k+i*O+z;return t},i=o(r.getImageData(0,0,t.width,t.height),e);return r.putImageData(i,0,0),IR(t,n)},XR=function(t,n){return t.toCanvas().then((function(e){return KR(e,t.getType(),n)}))},KR=function(t,n,e){var r=CR(t),o=function(t,n,e){for(var r=function(t,n,e){return t>e?t=e:t<n&&(t=n),t},o=Math.round(Math.sqrt(e.length)),i=Math.floor(o/2),u=t.data,a=n.data,c=t.width,s=t.height,l=0;l<s;l++)for(var f=0;f<c;f++){for(var d=0,m=0,g=0,h=0;h<o;h++)for(var v=0;v<o;v++){var p=r(f+v-i,0,c-1),b=r(l+h-i,0,s-1),y=4*(b*c+p),w=e[h*o+v];d+=u[y]*w,m+=u[y+1]*w,g+=u[y+2]*w}var x=4*(l*c+f);a[x]=r(d,0,255),a[x+1]=r(m,0,255),a[x+2]=r(g,0,255)}return n},i=r.getImageData(0,0,t.width,t.height),u=r.getImageData(0,0,t.width,t.height);return u=o(i,u,e),r.putImageData(u,0,0),IR(t,n)},YR=function(t){var n=function(n,e,r){for(var o=CR(n),i=new Array(256),u=function(t,n){for(var e=t.data,r=0;r<e.length;r+=4)e[r]=n[e[r]],e[r+1]=n[e[r+1]],e[r+2]=n[e[r+2]];return t},a=0;a<i.length;a++)i[a]=t(a,r);var c=u(o.getImageData(0,0,n.width,n.height),i);return o.putImageData(c,0,0),IR(n,e)};return function(t,e){return t.toCanvas().then((function(r){return n(r,t.getType(),e)}))}},JR=function(t){return function(n,e){return $R(n,t(FR(),e))}},QR=function(t){return function(n){return $R(n,t)}},ZR=function(t){return function(n){return XR(n,t)}},tB=QR([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),nB=JR(WR),eB=JR(UR),rB=function(t,n,e,r){return $R(t,GR(FR(),n,e,r))},oB=ZR([0,-1,0,-1,5,-1,0,-1,0]),iB=YR((function(t,n){return 255*Math.pow(t/255,1-n)})),uB=function(t,n,e){var r=OR(t),o=zR(t),i=n/r,u=e/o,a=!1;(i<.5||i>2)&&(i=i<.5?.5:2,a=!0),(u<.5||u>2)&&(u=u<.5?.5:2,a=!0);var c=aB(t,i,u);return a?c.then((function(t){return uB(t,n,e)})):c},aB=function(t,n,e){return new $D((function(r){var o=OR(t),i=zR(t),u=Math.floor(o*n),a=Math.floor(i*e),c=xR(u,a),s=CR(c);s.drawImage(t,0,0,o,i,0,0,u,a),r(c)}))},cB=function(t,n){void 0===n&&(n=2);var e=Math.pow(10,n),r=Math.round(t*e);return Math.ceil(r/e)},sB=function(t,n){return t.toCanvas().then((function(e){return lB(e,t.getType(),n)}))},lB=function(t,n,e){var r=e<0?360+e:e,o=r*Math.PI/180,i=t.width,u=t.height,a=Math.sin(o),c=Math.cos(o),s=cB(Math.abs(i*c)+Math.abs(u*a)),l=cB(Math.abs(i*a)+Math.abs(u*c)),f=xR(s,l),d=CR(f);return d.translate(s/2,l/2),d.rotate(o),d.drawImage(t,-i/2,-u/2),IR(f,n)},fB=function(t,n){return t.toCanvas().then((function(e){return dB(e,t.getType(),n)}))},dB=function(t,n,e){var r=xR(t.width,t.height),o=CR(r);return"v"===e?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0)),IR(r,n)},mB=function(t,n,e,r,o){return t.toCanvas().then((function(i){return gB(i,t.getType(),n,e,r,o)}))},gB=function(t,n,e,r,o,i){var u=xR(o,i),a=CR(u);return a.drawImage(t,-e,-r),IR(u,n)},hB=function(t,n,e){return t.toCanvas().then((function(r){return uB(r,n,e).then((function(n){return IR(n,t.getType())}))}))},vB=function(t){return tB(t)},pB=function(t){return oB(t)},bB=function(t,n){return iB(t,n)},yB=function(t,n,e,r){return rB(t,n,e,r)},wB=function(t,n){return nB(t,n)},xB=function(t,n){return eB(t,n)},SB=function(t,n){return fB(t,n)},CB=function(t,n,e,r,o){return mB(t,n,e,r,o)},kB=function(t,n,e){return hB(t,n,e)},OB=function(t,n){return sB(t,n)},zB=function(t,n,e){return VS(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:e},n)},TB=function(t,n){return zB(t,n,[])},MB=function(t,n){return zB(t,n,[Lw.config({})])},DB=function(t,n,e){return{dom:{tag:"span",innerHtml:e.translate(t),classes:[n+"__select-label"]},behaviours:mf([Lw.config({})])}},_B=oc("toolbar.button.execute"),AB=function(t){return Ga((function(n,e){gz(t,n)((function(e){Ca(n,_B,{buttonApi:e}),t.onAction(e)}))}))},HB=(x_={},x_[na()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],x_),EB=oc("update-menu-text"),RB=oc("update-menu-icon"),BB=function(t,n,e){var r=ou(v),o=t.text.map((function(t){return kS(DB(t,n,e.providers))})),i=t.icon.map((function(t){return kS(MB(t,e.providers.icons))})),u=function(t,n){var e=tv.getValue(t);return Yw.focus(e),Ca(e,"keydown",{raw:n.event.raw}),I_.close(e),V.some(!0)},a=t.role.fold((function(){return{}}),(function(t){return{role:t}})),c=t.tooltip.fold((function(){return{}}),(function(t){var n=e.providers.translate(t);return{title:n,"aria-label":n}})),s=VS("chevron-down",{tag:"div",classes:[n+"__select-chevron"]},e.providers.icons),l=kS(I_.sketch(D(D(D({},t.uid?{uid:t.uid}:{}),a),{dom:{tag:"button",classes:[n,n+"--select"].concat($(t.classes,(function(t){return n+"--"+t}))),attributes:D({},c)},components:yz([i.map((function(t){return t.asSpec()})),o.map((function(t){return t.asSpec()})),V.some(s)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:mf(A(A([],t.dropdownBehaviours,!0),[mz.button((function(){return t.disabled||e.providers.isDisabled()})),cz(),N_.config({}),Lw.config({}),Nw("dropdown-events",[hz(t,r),vz(t,r)]),Nw("menubutton-update-display-text",[Ha(EB,(function(t,n){o.bind((function(n){return n.getOpt(t)})).each((function(t){Lw.set(t,[Cs(e.providers.translate(n.event.text))])}))})),Ha(RB,(function(t,n){i.bind((function(n){return n.getOpt(t)})).each((function(t){Lw.set(t,[MB(n.event.icon,e.providers.icons)])}))}))])],!1)),eventOrder:So(HB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:mf([Dw.config({mode:"special",onLeft:u,onRight:u})]),lazySink:e.getSink,toggleClass:n+"--active",parts:{menu:vk(!1,t.columns,t.presets)},fetch:function(n){return t_.nu(C(t.fetch,n))}})));return l.asSpec()},VB=function(t){return i(t)},IB=function(t){return"separator"===t.type},PB=function(t){return Tt(t,"getSubmenuItems")},LB={type:"separator"},FB=function(t,n){var e=Q(t,(function(t,e){return VB(e)?""===e?t:"|"===e?t.length>0&&!IB(t[t.length-1])?t.concat([LB]):t:Tt(n,e.toLowerCase())?t.concat([n[e.toLowerCase()]]):t:t.concat([e])}),[]);return e.length>0&&IB(e[e.length-1])&&e.pop(),e},NB=function(t,n){var e=t.getSubmenuItems(),r=WB(e,n),o=So(r.menus,mu(t.value,r.items)),i=So(r.expansions,mu(t.value,t.value));return{item:t,menus:o,expansions:i}},jB=function(t,n){return PB(t)?NB(t,n):{item:t,menus:{},expansions:{}}},UB=function(t){if(IB(t))return t;var n=zt(t,"value").getOrThunk((function(){return oc("generated-menu-item")}));return So({value:n},t)},WB=function(t,n){var e=FB(i(t)?t.split(" "):t,n);return J(e,(function(t,e){var r=UB(e),o=jB(r,n);return{menus:So(t.menus,o.menus),items:[o.item].concat(t.items),expansions:So(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},GB=function(t,n,e,r){var o=oc("primary-menu"),i=WB(t,e.shared.providers.menuItems());if(0===i.items.length)return V.none();var u=AM(o,i.items,n,e,r),a=bt(i.menus,(function(t,r){return AM(r,t,n,e,!1)})),c=So(a,mu(o,u));return V.from(Qx.tieredData(o,c,i.expansions))},$B=function(t){return{isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){return Ip.set(t,n)},setActive:function(n){var e=t.element;n?(is(e,"tox-tbtn--enabled"),Fe(e,"aria-pressed",!0)):(as(e,"tox-tbtn--enabled"),Ge(e,"aria-pressed"))},isActive:function(){return cs(t.element,"tox-tbtn--enabled")}}},qB=function(t,n,e,r){return BB({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(n,r){t.fetch((function(t){r(GB(t,UC.CLOSE_ON_EXECUTE,e,!1))}))},onSetup:t.onSetup,getApi:$B,columns:1,presets:"normal",classes:[],dropdownBehaviours:[yD.config({})]},n,e.shared)},XB=function(t,n,e){var r=function(t){return function(r){var o=!r.isActive();r.setActive(o),t.storage.set(o),e.shared.getSink().each((function(e){n().getOpt(e).each((function(n){Cf(n.element),Ca(n,_D,{name:t.name,value:t.storage.get()})}))}))}},o=function(t){return function(n){n.setActive(t.storage.get())}};return function(n){n($(t,(function(t){var n=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return D(D({type:t.type,active:!1},n),{onAction:r(t),onSetup:o(t)})})))}},KB=function(t,n,e,r,o,i){void 0===e&&(e=[]);var u=n.fold((function(){return{}}),(function(t){return{action:t}})),a=D({buttonBehaviours:mf([mz.button((function(){return t.disabled||i.isDisabled()})),cz(),yD.config({}),Nw("button press",[Aa("click"),Aa("mousedown")])].concat(e)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},u),c=So(a,{dom:r});return So(c,{components:o})},YB=function(t,n,e,r){void 0===r&&(r=[]);var o=t.tooltip.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},u=t.icon.map((function(t){return TB(t,e.icons)})),a=yz([u]);return KB(t,n,r,i,a,e)},JB=function(t,n,e,r){void 0===r&&(r=[]);var o=YB(t,V.some(n),e,r);return CS.sketch(o)},QB=function(t,n,e,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=e.translate(t.text),u=t.icon?t.icon.map((function(t){return TB(t,e.icons)})):V.none(),a=u.isSome()?yz([u]):[],c=u.isSome()?{}:{innerHtml:i},s=A(A(A(A([],t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],!0),u.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),o,!0),l=D(D({tag:"button",classes:s},c),{attributes:{title:i}});return KB(t,n,r,l,a,e)},ZB=function(t,n,e,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=QB(t,V.some(n),e,r,o);return CS.sketch(i)},tV=function(t,n){return function(e){"custom"===n?Ca(e,_D,{name:t,value:{}}):"submit"===n?Sa(e,AD):"cancel"===n?Sa(e,DD):console.error("Unknown button type: ",n)}},nV=function(t,n){return"menu"===n},eV=function(t,n){return"custom"===n||"cancel"===n||"submit"===n},rV=function(t,n,e){if(nV(t,n)){var r=function(){return u},o=t,i=D(D({},t),{onSetup:function(n){return n.setDisabled(t.disabled),v},fetch:XB(o.items,r,e)}),u=kS(qB(i,"tox-tbtn",e,V.none()));return u.asSpec()}if(eV(t,n)){var a=tV(t.name,n),c=D(D({},t),{borderless:!1});return ZB(c,a,e.shared.providers,[])}console.error("Unknown footer button type: ",n)},oV=function(t,n){var e=tV(t.name,"custom");return SD(V.none(),hD.parts.field(D({factory:CS},QB(t,V.some(e),n,[uR.memory(""),WE.self()]))))},iV=w([Xi("field1Name","field1"),Xi("field2Name","field2"),sl("onLockedChange"),il(["lockClass"]),Xi("locked",!1),ov.field("coupledFieldBehaviours",[bp,tv])]),uV=function(t,n,e){return Xv(t,n,e).bind(bp.getCurrent)},aV=function(t,n){return Ev({factory:hD,name:t,overrides:function(t){return{fieldBehaviours:mf([Nw("coupled-input-behaviour",[Ha(ju(),(function(e){uV(e,t,n).each((function(n){Xv(e,t,"lock").each((function(r){hx.isOn(r)&&t.onLockedChange(e,n,r)}))}))}))])])}}})},cV=w([aV("field1","field2"),aV("field2","field1"),Ev({factory:CS,schema:[Di("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:mf([hx.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),sV=function(t,n,e,r){return{uid:t.uid,dom:t.dom,components:n,behaviours:ov.augment(t.coupledFieldBehaviours,[bp.config({find:V.some}),tv.config({store:{mode:"manual",getValue:function(n){var e,r=Zv(n,t,["field1","field2"]);return e={},e[t.field1Name]=tv.getValue(r.field1()),e[t.field2Name]=tv.getValue(r.field2()),e},setValue:function(n,e){var r=Zv(n,t,["field1","field2"]);Mt(e,t.field1Name)&&tv.setValue(r.field1(),e[t.field1Name]),Mt(e,t.field2Name)&&tv.setValue(r.field2(),e[t.field2Name])}}})]),apis:{getField1:function(n){return Xv(n,t,"field1")},getField2:function(n){return Xv(n,t,"field2")},getLock:function(n){return Xv(n,t,"lock")}}}},lV=mp({name:"FormCoupledInputs",configFields:iV(),partFields:cV(),factory:sV,apis:{getField1:function(t,n){return t.getField1(n)},getField2:function(t,n){return t.getField2(n)},getLock:function(t,n){return t.getLock(n)}}}),fV=function(t){var n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},e=function(t){return t in n?n[t]:1},r=t.value.toFixed(e(t.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit},dV=function(t){var n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,e=n.exec(t);if(null!==e){var r=parseFloat(e[1]),o=e[2];return ro.value({value:r,unit:o})}return ro.error(t)},mV=function(t,n){var e={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Tt(e,t)};return t.unit===n?V.some(t.value):r(t.unit)&&r(n)?e[t.unit]===e[n]?V.some(t.value):V.some(t.value/e[t.unit]*e[n]):V.none()},gV=function(t){return V.none()},hV=function(t,n){return function(e){return mV(e,n).map((function(e){return{value:e*t,unit:n}}))}},vV=function(t,n){var e=dV(t).toOptional(),r=dV(n).toOptional();return Et(e,r,(function(t,n){return mV(t,n.unit).map((function(t){return n.value/t})).map((function(t){return hV(t,n.unit)})).getOr(gV)})).getOr(gV)},pV=function(t,n){var e=gV,r=oc("ratio-event"),o=function(t){return VS(t,{tag:"span",classes:["tox-icon","tox-lock-icon__"+t]},n.icons)},i=lV.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:n.translate(t.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:mf([Ip.config({disabled:function(){return t.disabled||n.isDisabled()}}),cz(),yD.config({})])}),u=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},a=function(e){return hD.parts.field({factory:jD,inputClasses:["tox-textfield"],inputBehaviours:mf([Ip.config({disabled:function(){return t.disabled||n.isDisabled()}}),cz(),yD.config({}),Nw("size-input-events",[Ha(Pu(),(function(t,n){Ca(t,r,{isField1:e})})),Ha(Uu(),(function(n,e){Ca(n,TD,{name:t.name})}))])]),selectOnFocus:!1})},c=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}}},s=lV.parts.field1(u([hD.parts.label(c("Width")),a(!0)])),l=lV.parts.field2(u([hD.parts.label(c("Height")),a(!1)]));return lV.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,l,u([c("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,n,r){dV(tv.getValue(t)).each((function(t){e(t).each((function(t){tv.setValue(n,fV(t))}))}))},coupledFieldBehaviours:mf([Ip.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(t){lV.getField1(t).bind(hD.getField).each(Ip.disable),lV.getField2(t).bind(hD.getField).each(Ip.disable),lV.getLock(t).each(Ip.disable)},onEnabled:function(t){lV.getField1(t).bind(hD.getField).each(Ip.enable),lV.getField2(t).bind(hD.getField).each(Ip.enable),lV.getLock(t).each(Ip.enable)}}),cz(),Nw("size-input-events2",[Ha(r,(function(t,n){var r=n.event.isField1,o=r?lV.getField1(t):lV.getField2(t),i=r?lV.getField2(t):lV.getField1(t),u=o.map(tv.getValue).getOr(""),a=i.map(tv.getValue).getOr("");e=vV(u,a)}))])])})},bV=w(oc("undo")),yV=w(oc("redo")),wV=w(oc("zoom")),xV=w(oc("back")),SV=w(oc("apply")),CV=w(oc("swap")),kV=w(oc("transform")),OV=w(oc("temp-transform")),zV=w(oc("transform-apply")),TV={undo:bV,redo:yV,zoom:wV,back:xV,apply:SV,swap:CV,transform:kV,tempTransform:OV,transformApply:zV},MV=w("save-state"),DV=w("disable"),_V=w("enable"),AV={formActionEvent:_D,saveState:MV,disable:DV,enable:_V},HV=function(t,n){var e=function(t,e,r,o){return kS(ZB({name:t,text:t,disabled:r,primary:o,icon:V.none(),borderless:!1},e,n))},r=function(t,e,r,o){return kS(JB({name:t,icon:V.some(t),tooltip:V.some(e),disabled:o,primary:!1,borderless:!1},r,n))},o=function(t,n){t.map((function(t){var e=t.get(n);e.hasConfigured(Ip)&&Ip.disable(e)}))},i=function(t,n){t.map((function(t){var e=t.get(n);e.hasConfigured(Ip)&&Ip.enable(e)}))},u={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},a=v,c=function(t,n,e){Ca(t,n,e)},s=function(t){return Sa(t,AV.disable())},l=function(t){return Sa(t,AV.enable())},f=function(t,n){s(t),c(t,TV.transform(),{transform:n}),l(t)},d=function(t,n){s(t),c(t,TV.tempTransform(),{transform:n}),l(t)},m=function(t){return function(){ut.getOpt(t).each((function(t){Lw.set(t,[ot])}))}},g=function(t,n){s(t),c(t,TV.transformApply(),{transform:n,swap:m(t)}),l(t)},h=function(){return e("Back",(function(t){return c(t,TV.back(),{swap:m(t)})}),!1,!1)},p=function(){return kS({dom:{tag:"div",classes:["tox-spacer"]},behaviours:mf([Ip.config({})])})},b=function(){return e("Apply",(function(t){return c(t,TV.apply(),{swap:m(t)})}),!0,!0)},y=function(){return function(n){var e=t.getRect();return CB(n,e.x,e.y,e.w,e.h)}},x=[h(),p(),e("Apply",(function(n){var e=y();g(n,e),t.hideCrop()}),!1,!0)],S=sD.sketch({dom:u,components:x.map((function(t){return t.asSpec()})),containerBehaviours:mf([Nw("image-tools-crop-buttons-events",[Ha(AV.disable(),(function(t,n){o(x,t)})),Ha(AV.enable(),(function(t,n){i(x,t)}))])])}),C=kS(pV({name:"size",label:V.none(),constrain:!0,disabled:!1},n)),k=function(t,n){return function(e){return kB(e,t,n)}},O=[h(),p(),C,p(),e("Apply",(function(t){C.getOpt(t).each((function(n){var e=tv.getValue(n),r=parseInt(e.width,10),o=parseInt(e.height,10),i=k(r,o);g(t,i)}))}),!1,!0)],z=sD.sketch({dom:u,components:O.map((function(t){return t.asSpec()})),containerBehaviours:mf([Nw("image-tools-resize-buttons-events",[Ha(AV.disable(),(function(t,n){o(O,t)})),Ha(AV.enable(),(function(t,n){i(O,t)}))])])}),T=function(t,n){return function(e){return t(e,n)}},M=T(SB,"h"),D=T(SB,"v"),_=T(OB,-90),A=T(OB,90),H=function(t,n){d(t,n)},E=[h(),p(),r("flip-horizontally","Flip horizontally",(function(t){H(t,M)}),!1),r("flip-vertically","Flip vertically",(function(t){H(t,D)}),!1),r("rotate-left","Rotate counterclockwise",(function(t){H(t,_)}),!1),r("rotate-right","Rotate clockwise",(function(t){H(t,A)}),!1),p(),b()],R=sD.sketch({dom:u,components:E.map((function(t){return t.asSpec()})),containerBehaviours:mf([Nw("image-tools-fliprotate-buttons-events",[Ha(AV.disable(),(function(t,n){o(E,t)})),Ha(AV.enable(),(function(t,n){i(E,t)}))])])}),B=function(t,e,r,o,i){var u=SE.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}}),a=SE.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),c=SE.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return kS(SE.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:w({x:o})},components:[u,a,c],sliderBehaviours:mf([Yw.config({})]),onChoose:e}))},I=function(t,n,e,r,o){var i=function(t,e,r){var o=T(n,r.x/100);f(t,o)};return B(t,i,e,r,o)},P=function(t,n,e,r,o){return[h(),I(t,n,e,r,o),b()]},L=function(t,n,e,r,a){var c=P(t,n,e,r,a);return sD.sketch({dom:u,components:c.map((function(t){return t.asSpec()})),containerBehaviours:mf([Nw("image-tools-filter-panel-buttons-events",[Ha(AV.disable(),(function(t,n){o(c,t)})),Ha(AV.enable(),(function(t,n){i(c,t)}))])])})},F=[h(),p(),b()],N=sD.sketch({dom:u,components:F.map((function(t){return t.asSpec()}))}),j=L("Brightness",wB,-100,0,100),U=L("Contrast",xB,-100,0,100),W=L("Gamma",bB,-100,0,100),G=function(t,n,e){return function(r){return yB(r,t,n,e)}},$=function(t){var n=function(t,n,e){var r=q.getOpt(t),o=K.getOpt(t),i=X.getOpt(t);r.each((function(n){o.each((function(e){i.each((function(r){var o=tv.getValue(n).x/100,i=tv.getValue(r).x/100,u=tv.getValue(e).x/100,a=G(o,i,u);f(t,a)}))}))}))};return B(t,n,0,100,200)},q=$("R"),X=$("G"),K=$("B"),Y=[h(),q,X,K,b()],J=sD.sketch({dom:u,components:Y.map((function(t){return t.asSpec()}))}),Q=function(t,n,e){return function(r){var o=function(){ut.getOpt(r).each((function(n){Lw.set(n,[t]),e(n)}))};c(r,TV.swap(),{transform:n,swap:o})}},Z=function(n){t.showCrop()},tt=function(n){C.getOpt(n).each((function(n){var e=t.getMeasurements(),r=e.width,o=e.height;tv.setValue(n,{width:r,height:o})}))},nt=V.some(pB),et=V.some(vB),rt=[r("crop","Crop",Q(S,V.none(),Z),!1),r("resize","Resize",Q(z,V.none(),tt),!1),r("orientation","Orientation",Q(R,V.none(),a),!1),r("brightness","Brightness",Q(j,V.none(),a),!1),r("sharpen","Sharpen",Q(N,nt,a),!1),r("contrast","Contrast",Q(U,V.none(),a),!1),r("color-levels","Color levels",Q(J,V.none(),a),!1),r("gamma","Gamma",Q(W,V.none(),a),!1),r("invert","Invert",Q(N,et,a),!1)],ot=sD.sketch({dom:u,components:rt.map((function(t){return t.asSpec()}))}),it=sD.sketch({dom:{tag:"div"},components:[ot],containerBehaviours:mf([Lw.config({})])}),ut=kS(it),at=function(t){return ut.getOpt(t).map((function(t){var n=t.components()[0];return n.components()[n.components().length-1]}))};return{memContainer:ut,getApplyButton:at}},EV=tinymce.util.Tools.resolve("tinymce.geom.Rect"),RV=tinymce.util.Tools.resolve("tinymce.util.Observable"),BV=tinymce.util.Tools.resolve("tinymce.util.VK"),VV=function(t){var n=Math.max,e=t.documentElement,r=t.body,o=n(e.scrollWidth,r.scrollWidth),i=n(e.clientWidth,r.clientWidth),u=n(e.offsetWidth,r.offsetWidth),a=n(e.scrollHeight,r.scrollHeight),c=n(e.clientHeight,r.clientHeight),s=n(e.offsetHeight,r.offsetHeight);return{width:o<u?i:o,height:a<s?c:a}},IV=function(t){return d(t.changedTouches)},PV=function(t){if(IV(t))for(var n="screenX screenY pageX pageY clientX clientY".split(" "),e=0;e<n.length;e++)t[n[e]]=t.changedTouches[0][n[e]]};function LV(t,n){var e,r,o,i,u,a,c,s=[],l=[],f=null!==(e=n.document)&&void 0!==e?e:document,m=null!==(r=n.root)&&void 0!==r?r:f,g=nn.fromDom(f),h=nn.fromDom(m.getElementById(null!==(o=n.handle)&&void 0!==o?o:t)),v=function(t){var e=t.raw,r=VV(f);PV(e),t.prevent(),u=e.button,a=e.screenX,c=e.screenY;var o=Je(h,"cursor");i=nn.fromTag("div",f),Ke(i,{position:"absolute",top:"0",left:"0",width:r.width+"px",height:r.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:o}),_r(Pe(g),i),l.push(ud(g,"mousemove",p),ud(g,"touchmove",p),ud(g,"mouseup",b),ud(g,"touchend",b)),n.start(e)},p=function(t){var e=t.raw;if(PV(e),e.button!==u)return b(t);e.deltaX=e.screenX-a,e.deltaY=e.screenY-c,t.prevent(),n.drag(e)},b=function(t){PV(t.raw),q(l,(function(t){return t.unbind()})),l=[],Br(i),n.stop&&n.stop(t.raw)},y=function(){q(l.concat(s),(function(t){return t.unbind()})),l=[],s=[],d(i)&&Br(i)};return s.push(ud(h,"mousedown",v),ud(h,"touchstart",v)),{destroy:y}}var FV=0,NV=function(t,n,e,r,o){var i,u=[],a="tox-",c=a+"crid-"+FV++,s=nn.fromDom(r),l=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],f=["top","right","bottom","left"],d=function(t,n){return{x:n.x+t.x,y:n.y+t.y,w:n.w,h:n.h}},m=function(t,n){return{x:n.x-t.x,y:n.y-t.y,w:n.w,h:n.h}},g=function(){return m(e,t)},h=function(n,r,o,i){var u=r.x+o*n.deltaX,a=r.y+i*n.deltaY,c=Math.max(20,r.w+o*n.deltaW),s=Math.max(20,r.h+i*n.deltaH),l=t=EV.clamp({x:u,y:a,w:c,h:s},e,"move"===n.name);l=m(e,l),k.fire("updateRect",{rect:l}),x(l)},v=function(){var n=function(n){var e;return LV(c,{document:r.ownerDocument,root:De(s).dom,handle:c+"-"+n.name,start:function(){e=t},drag:function(t){h(n,e,t.deltaX,t.deltaY)}})},e=nn.fromTag("div");Ne(e,{id:c,class:a+"croprect-container",role:"grid","aria-dropeffect":"execute"}),_r(s,e),q(f,(function(t){Ps(s,"#"+c).each((function(n){var e=nn.fromTag("div");Ne(e,{id:c+"-"+t,class:a+"croprect-block","data-mce-bogus":"all"}),Xe(e,"display","none"),_r(n,e)}))})),q(l,(function(t){Ps(s,"#"+c).each((function(n){var e=nn.fromTag("div");Ne(e,{id:c+"-"+t.name,"aria-label":t.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:t.label}),ss(e,[a+"croprect-handle",a+"croprect-handle-"+t.name]),Xe(e,"display","none"),_r(n,e)}))})),i=$(l,n),b(t);var d=function(t){Fe(t.target,"aria-grabbed","focus"===t.raw.type?"true":"false")},m=function(n){var e;q(l,(function(t){if(je(n.target,"id")===c+"-"+t.name)return e=t,!1}));var r=function(t,n,r,o,i){t.stopPropagation(),t.preventDefault(),h(e,r,o,i)};switch(n.raw.keyCode){case BV.LEFT:r(n,e,t,-10,0);break;case BV.RIGHT:r(n,e,t,10,0);break;case BV.UP:r(n,e,t,0,-10);break;case BV.DOWN:r(n,e,t,0,10);break;case BV.ENTER:case BV.SPACEBAR:n.prevent(),o();break}};u.push(ud(s,"focusin",d),ud(s,"focusout",d),ud(s,"keydown",m))},p=function(t){var n=A(A([],$(l,(function(t){return"#"+c+"-"+t.name})),!0),$(f,(function(t){return"#"+c+"-"+t})),!0).join(","),e=Km(s,n);q(e,t?function(t){return er(t,"display")}:function(t){return Xe(t,"display","none")})},b=function(t){var e=function(t,n){Ps(s,"#"+c+"-"+t).each((function(t){Ke(t,{left:n.x+"px",top:n.y+"px",width:Math.max(0,n.w)+"px",height:Math.max(0,n.h)+"px"})}))};q(l,(function(n){Ps(s,"#"+c+"-"+n.name).each((function(e){Ke(e,{left:t.w*n.xMul+t.x+"px",top:t.h*n.yMul+t.y+"px"})}))})),e("top",{x:n.x,y:n.y,w:n.w,h:t.y-n.y}),e("right",{x:t.x+t.w,y:t.y,w:n.w-t.x-t.w+n.x,h:t.h}),e("bottom",{x:n.x,y:t.y+t.h,w:n.w,h:n.h-t.y-t.h+n.y}),e("left",{x:n.x,y:t.y,w:t.x-n.x,h:t.h}),e("move",t)},y=function(n){t=n,b(t)},w=function(e){n=e,b(t)},x=function(t){y(d(e,t))},S=function(n){e=n,b(t)},C=function(){q(i,(function(t){return t.destroy()})),i=[],q(u,(function(t){return t.unbind()})),u=[]};v();var k=D(D({},RV),{toggleVisibility:p,setClampRect:S,setRect:y,getInnerRect:g,setInnerRect:x,setViewPortRect:w,destroy:C});return k},jV={create:NV},UV=function(t){return new uC((function(n){var e=function(){t.removeEventListener("load",e),n(t)};t.complete?n(t):t.addEventListener("load",e)}))},WV=function(t){var n=kS({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),e=ou(1),r=rd(),o=ou({x:0,y:0,w:1,h:1}),i=ou({x:0,y:0,w:1,h:1}),u=function(t,i){g.getOpt(t).each((function(t){var u=e.get(),a=pr(t.element),c=ur(t.element),s=i.dom.naturalWidth*u,l=i.dom.naturalHeight*u,f=Math.max(0,a/2-s/2),d=Math.max(0,c/2-l/2),m={left:f.toString()+"px",top:d.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"};Ke(i,m),n.getOpt(t).each((function(t){Ke(t.element,m)})),r.run((function(t){var n=o.get();t.setRect({x:n.x*u+f,y:n.y*u+d,w:n.w*u,h:n.h*u}),t.setClampRect({x:f,y:d,w:s,h:l}),t.setViewPortRect({x:0,y:0,w:a,h:c})}))}))},a=function(t,n){g.getOpt(t).each((function(t){var r=pr(t.element),o=ur(t.element),i=n.dom.naturalWidth,u=n.dom.naturalHeight,a=Math.min(r/i,o/u);a>=1?e.set(1):e.set(a)}))},c=function(t,n){var e=nn.fromTag("img");return Fe(e,"src",n),UV(e.dom).then((function(){t.getSystem().isConnected()&&g.getOpt(t).map((function(t){var n=ks({element:e});Lw.replaceAt(t,1,V.some(n));var r=i.get(),c={x:0,y:0,w:e.dom.naturalWidth,h:e.dom.naturalHeight};i.set(c);var s=EV.inflate(c,-20,-20);o.set(s),r.w===c.w&&r.h===c.h||a(t,e),u(t,e)}))}))},s=function(t,n){var r=e.get(),o=n>0?Math.min(2,r+.1):Math.max(.1,r-.1);e.set(o),g.getOpt(t).each((function(t){var n=t.components()[1].element;u(t,n)}))},l=function(){r.run((function(t){t.toggleVisibility(!0)}))},f=function(){r.run((function(t){t.toggleVisibility(!1)}))},d=function(){return o.get()},m=sD.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[n.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:mf([Nw("image-panel-crop-events",[ja((function(t){g.getOpt(t).each((function(t){var n=t.element.dom,i=jV.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},n,v);i.toggleVisibility(!1),i.on("updateRect",(function(t){var n=t.rect,r=e.get(),i={x:Math.round(n.x/r),y:Math.round(n.y/r),w:Math.round(n.w/r),h:Math.round(n.h/r)};o.set(i)})),r.set(i)}))})),Ua((function(){r.clear()}))])])}],containerBehaviours:mf([Lw.config({}),Nw("image-panel-events",[ja((function(n){c(n,t)}))])])}),g=kS(m),h=function(){var t=i.get();return{width:t.w,height:t.h}};return{memContainer:g,updateSrc:c,zoom:s,showCrop:l,hideCrop:f,getRect:d,getMeasurements:h}},GV=function(t,n,e,r,o){return JB({name:t,icon:V.some(n),disabled:e,tooltip:V.some(t),primary:!1,borderless:!1},r,o)},$V=function(t,n){n?Ip.enable(t):Ip.disable(t)},qV=function(t){var n=function(t,n,o){e.getOpt(t).each((function(t){$V(t,n)})),r.getOpt(t).each((function(t){$V(t,o)}))},e=kS(GV("Undo","undo",!0,(function(t){Ca(t,TV.undo(),{direction:1})}),t)),r=kS(GV("Redo","redo",!0,(function(t){Ca(t,TV.redo(),{direction:1})}),t)),o=sD.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[e.asSpec(),r.asSpec(),GV("Zoom in","zoom-in",!1,(function(t){Ca(t,TV.zoom(),{direction:1})}),t),GV("Zoom out","zoom-out",!1,(function(t){Ca(t,TV.zoom(),{direction:-1})}),t)]});return{container:o,updateButtonUndoStates:n}};function XV(){var t=[],n=-1,e=function(e){var r=t.splice(++n);return t.push(e),{state:e,removed:r}},r=function(){if(i())return t[--n]},o=function(){if(u())return t[++n]},i=function(){return n>0},u=function(){return-1!==n&&n<t.length-1};return{data:t,add:e,undo:r,redo:o,canUndo:i,canRedo:u}}var KV,YV=function(t){var n=ou(t),e=od(),r=XV();r.add(t);var o=function(){return n.get()},i=function(t){n.set(t)},u=function(){return e.get().getOrThunk(n.get)},a=function(t){var n=c(t);return f(),e.set(n),n.url},c=function(t){return{blob:t,url:URL.createObjectURL(t)}},s=function(t){URL.revokeObjectURL(t.url)},l=function(t){QE.each(t,s)},f=function(){e.on(s),e.clear()},d=function(t){var n=c(t);i(n);var e=r.add(n).removed;return l(e),n.url},m=function(t){var n=c(t);return e.set(n),n.url},g=function(t){return e.get().fold(v,(function(n){d(n.blob),t()}))},h=function(){var t=r.undo();return i(t),t.url},p=function(){var t=r.redo();return i(t),t.url},b=function(){var t=r.canUndo(),n=r.canRedo();return{undoEnabled:t,redoEnabled:n}};return{getBlobState:o,setBlobState:i,addBlobState:d,getTempState:u,updateTempState:a,addTempState:m,applyTempState:g,destroyTempState:f,undo:h,redo:p,getHistoryStates:b}},JV=function(t,n){var e=YV(t.currentState),r=function(t,n){var e=n.event.direction;k.zoom(t,e)},o=function(t){var n=e.getHistoryStates();O.updateButtonUndoStates(t,n.undoEnabled,n.redoEnabled),Ca(t,AV.formActionEvent,{name:AV.saveState(),value:n.undoEnabled})},i=function(t){O.updateButtonUndoStates(t,!1,!1)},u=function(t,n){var r=e.undo();f(t,r).then((function(n){l(t),o(t)}))},a=function(t,n){var r=e.redo();f(t,r).then((function(n){l(t),o(t)}))},c=function(t){return t.toBlob()},s=function(t){Ca(t,AV.formActionEvent,{name:AV.disable(),value:{}})},l=function(t){z.getApplyButton(t).each((function(t){Ip.enable(t)})),Ca(t,AV.formActionEvent,{name:AV.enable(),value:{}})},f=function(t,n){return s(t),k.updateSrc(t,n)},d=function(t,n,e,r,i){s(t),PR(n).then(e).then(c).then(r).then((function(n){return f(t,n)})).then((function(){o(t),i(),l(t)})).catch((function(n){console.log(n),t.getSystem().isConnected()&&l(t)}))},m=function(t,n,r){var o=e.getBlobState().blob,i=function(t){return e.updateTempState(t)};d(t,o,n,i,r)},g=function(t,n){var r=e.getTempState().blob,o=function(t){return e.addTempState(t)};d(t,r,n,o,v)},h=function(t,n,r){var o=e.getBlobState().blob,i=function(n){var r=e.addBlobState(n);return b(t),r};d(t,o,n,i,r)},p=function(t,n){var r=function(){b(t);var e=n.event.swap;e()};e.applyTempState(r)},b=function(t){var n=e.getBlobState().url;return e.destroyTempState(),o(t),n},y=function(t){var n=b(t);f(t,n).then((function(n){l(t)}))},w=function(t,n){y(t);var e=n.event.swap;e(),k.hideCrop()},x=function(t,n){return m(t,n.event.transform,v)},S=function(t,n){return g(t,n.event.transform)},C=function(t,n){return h(t,n.event.transform,n.event.swap)},k=WV(t.currentState.url),O=qV(n),z=HV(k,n),T=function(t,n){i(t);var e=n.event.transform,r=n.event.swap;e.fold((function(){r()}),(function(n){m(t,n,r)}))};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[z.memContainer.asSpec(),k.memContainer.asSpec(),O.container],behaviours:mf([tv.config({store:{mode:"manual",getValue:function(){return e.getBlobState()}}}),Nw("image-tools-events",[Ha(TV.undo(),u),Ha(TV.redo(),a),Ha(TV.zoom(),r),Ha(TV.back(),w),Ha(TV.apply(),p),Ha(TV.transform(),x),Ha(TV.tempTransform(),S),Ha(TV.transformApply(),C),Ha(TV.swap(),T)]),WE.self()])}},QV=function(t,n){var e={dom:{tag:"label",innerHtml:n.providers.translate(t.label),classes:["tox-label"]}},r=$(t.items,n.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[e].concat(r),behaviours:mf([WE.self(),Lw.config({}),uR.domHtml(V.none()),Dw.config({mode:"acyclic"})])}},ZV=function(t){return!Tt(t,"items")},tI="data-value",nI=function(t,n,e,r){return $(e,(function(e){return ZV(e)?{type:"togglemenuitem",text:e.text,value:e.value,active:e.value===r,onAction:function(){tv.setValue(t,e.value),Ca(t,TD,{name:n}),Yw.focus(t)}}:{type:"nestedmenuitem",text:e.text,getSubmenuItems:function(){return nI(t,n,e.items,r)}}}))},eI=function(t,n){return gt(t,(function(t){return ZV(t)?Vt(t.value===n,t):eI(t.items,n)}))},rI=function(t,n){var e=n.shared.providers,r=ft(t.items).filter(ZV),o=t.label.map((function(t){return zD(t,e)})),i=hD.parts.field({dom:{},factory:{sketch:function(e){return BB({uid:e.uid,text:r.map((function(t){return t.text})),icon:V.none(),tooltip:t.label,role:V.none(),fetch:function(e,r){var o=nI(e,t.name,t.items,tv.getValue(e));r(GB(o,UC.CLOSE_ON_EXECUTE,n,!1))},onSetup:w(v),getApi:w({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[yD.config({}),tv.config({store:{mode:"manual",initialValue:r.map((function(t){return t.value})).getOr(""),getValue:function(t){return je(t.element,tI)},setValue:function(n,e){eI(t.items,e).each((function(t){Fe(n.element,tI,t.value),Ca(n,EB,{text:t.text})}))}}})]},"tox-listbox",n.shared)}}}),u={dom:{tag:"div",classes:["tox-listboxfield"]},components:[i]};return hD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:et([o.toArray(),[u]]),fieldBehaviours:mf([Ip.config({disabled:w(t.disabled),onDisabled:function(t){hD.getField(t).each(Ip.disable)},onEnabled:function(t){hD.getField(t).each(Ip.enable)}})])})},oI=function(t,n){return{dom:{tag:"div",classes:t.classes},components:$(t.items,n.shared.interpreter)}},iI=function(t,n){var e=$(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),r=t.data.map((function(t){return mu("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:e,behaviours:rv(t.selectBehaviours,[Yw.config({}),tv.config({store:D({mode:"manual",getValue:function(t){return ds(t.element)},setValue:function(n,e){var r=tt(t.options,(function(t){return t.value===e}));r.isSome()&&ms(n.element,e)}},r)})])}},uI=dp({name:"HtmlSelect",configFields:[Di("options"),nv("selectBehaviours",[Yw,tv]),Xi("selectClasses",[]),Xi("selectAttributes",{}),Fi("data")],factory:iI}),aI=function(t,n){var e=$(t.items,(function(t){return{text:n.translate(t.text),value:t.value}})),r=t.label.map((function(t){return zD(t,n)})),o=hD.parts.field({dom:{},selectAttributes:{size:t.size},options:e,factory:uI,selectBehaviours:mf([Ip.config({disabled:function(){return t.disabled||n.isDisabled()}}),yD.config({}),Nw("selectbox-change",[Ha(Uu(),(function(n,e){Ca(n,TD,{name:t.name})}))])])}),i=t.size>1?V.none():V.some(VS("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},n.icons)),u={dom:{tag:"div",classes:["tox-selectfield"]},components:et([[o],i.toArray()])};return hD.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:et([r.toArray(),[u]]),fieldBehaviours:mf([Ip.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(t){hD.getField(t).each(Ip.disable)},onEnabled:function(t){hD.getField(t).each(Ip.enable)}}),cz()])})},cI=function(t,n){var e=function(t){return{dom:{tag:"th",innerHtml:n.translate(t)}}},r=function(t){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:$(t,e)}]}},o=function(t){return{dom:{tag:"td",innerHtml:n.translate(t)}}},i=function(t){return{dom:{tag:"tr"},components:$(t,o)}},u=function(t){return{dom:{tag:"tbody"},components:$(t,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(t.header),u(t.cells)],behaviours:mf([yD.config({}),Yw.config({})])}},sI=function(t,n){var e=t.label.map((function(t){return zD(t,n)})),r=[Ip.config({disabled:function(){return t.disabled||n.isDisabled()}}),cz(),Dw.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return Sa(t,AD),V.some(!0)}}),Nw("textfield-change",[Ha(ju(),(function(n,e){Ca(n,TD,{name:t.name})})),Ha(Zu(),(function(n,e){Ca(n,TD,{name:t.name})}))]),yD.config({})],o=t.validation.map((function(t){return d_.config({getRoot:function(t){return pe(t.element)},invalidClass:"tox-invalid",validator:{validate:function(n){var e=tv.getValue(n),r=t.validator(e);return t_.pure(!0===r?ro.value(e):ro.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray(),i=t.placeholder.fold(w({}),(function(t){return{placeholder:n.translate(t)}})),u=t.inputMode.fold(w({}),(function(t){return{inputmode:t}})),a=D(D({},i),u),c=hD.parts.field({tag:!0===t.multiline?"textarea":"input",inputAttributes:a,inputClasses:[t.classname],inputBehaviours:mf(et([r,o])),selectOnFocus:!1,factory:jD}),s=t.flex?["tox-form__group--stretched"]:[],l=s.concat(t.maximized?["tox-form-group--maximize"]:[]),f=[Ip.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(t){hD.getField(t).each(Ip.disable)},onEnabled:function(t){hD.getField(t).each(Ip.enable)}}),cz()];return xD(e,c,l,f)},lI=function(t,n){return sI({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:V.none(),maximized:t.maximized},n)},fI=function(t,n){return sI({name:t.name,multiline:!0,label:t.label,inputMode:V.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:V.none(),maximized:t.maximized},n)},dI=function(t,n){var e=t.stream.streams,r=e.setup(t,n);return Ma([Ha(t.event,r),Ua((function(){return n.cancel()}))].concat(t.cancelEvent.map((function(t){return[Ha(t,(function(){return n.cancel()}))]})).getOr([])))},mI=Object.freeze({__proto__:null,events:dI}),gI=function(t){var n=ou(null),e=function(){return{timer:null!==n.get()?"set":"unset"}},r=function(t){n.set(t)},o=function(){var t=n.get();null!==t&&t.cancel()};return Oc({readState:e,setTimer:r,cancel:o})},hI=function(t){return t.stream.streams.state(t)},vI=Object.freeze({__proto__:null,throttle:gI,init:hI}),pI=function(t,n){var e=t.stream,r=WS(t.onStream,e.delay);return n.setTimer(r),function(t,n){r.throttle(t,n),e.stopEvent&&n.stop()}},bI=[_i("stream",ki("mode",{throttle:[Di("delay"),Xi("stopEvent",!0),fl("streams",{setup:pI,state:gI})]})),Xi("event","input"),Fi("cancelEvent"),sl("onStream")],yI=hf({fields:bI,name:"streaming",active:mI,state:vI}),wI=function(t,n,e){var r=tv.getValue(e);tv.setValue(n,r),SI(n)},xI=function(t,n){var e=t.element,r=ds(e),o=e.dom;"number"!==je(e,"type")&&n(o,r)},SI=function(t){xI(t,(function(t,n){return t.setSelectionRange(n.length,n.length)}))},CI=function(t,n){xI(t,(function(t,e){return t.setSelectionRange(n,e.length)}))},kI=function(t,n,e){if(t.selectsOver){var r=tv.getValue(n),o=t.getDisplayText(r),i=tv.getValue(e),u=t.getDisplayText(i);return 0===u.indexOf(o)?V.some((function(){wI(t,n,e),CI(n,o.length)})):V.none()}return V.none()},OI=w("alloy.typeahead.itemexecute"),zI=function(t,n,e,r){var o=function(n,e,o){t.previewing.set(!1);var i=b_.getCoupled(n,"sandbox");if(bh.isOpen(i))bp.getCurrent(i).each((function(t){rb.getHighlighted(t).fold((function(){o(t)}),(function(){Ta(i,t.element,"keydown",e)}))}));else{var a=function(t){bp.getCurrent(t).each(o)};O_(t,u(n),n,i,r,a,GD.HighlightFirst).get(v)}},i=PD(t),u=function(t){return function(n){return n.map((function(n){var e=Ot(n.menus),r=rt(e,(function(t){return Y(t.items,(function(t){return"item"===t.type}))})),o=tv.getState(t);return o.update($(r,(function(t){return t.data}))),n}))}},a=[Yw.config({}),tv.config({onSetValue:t.onSetValue,store:D({mode:"dataset",getDataKey:function(t){return ds(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(n,e){ms(n.element,t.model.getDisplayText(e))}},t.initialData.map((function(t){return mu("initialValue",t)})).getOr({}))}),yI.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(n,e){var o=b_.getCoupled(n,"sandbox"),i=Yw.isFocused(n);if(i&&ds(n.element).length>=t.minChars){var a=bp.getCurrent(o).bind((function(t){return rb.getHighlighted(t).map(tv.getValue)}));t.previewing.set(!0);var c=function(n){bp.getCurrent(o).each((function(n){a.fold((function(){t.model.selectsOver&&rb.highlightFirst(n)}),(function(t){rb.highlightBy(n,(function(n){var e=tv.getValue(n);return e.value===t.value})),rb.getHighlighted(n).orThunk((function(){return rb.highlightFirst(n),V.none()}))}))}))};O_(t,u(n),n,o,r,c,GD.HighlightFirst).get(v)}},cancelEvent:ua()}),Dw.config({mode:"special",onDown:function(t,n){return o(t,n,rb.highlightFirst),V.some(!0)},onEscape:function(t){var n=b_.getCoupled(t,"sandbox");return bh.isOpen(n)?(bh.close(n),V.some(!0)):V.none()},onUp:function(t,n){return o(t,n,rb.highlightLast),V.some(!0)},onEnter:function(n){var e=b_.getCoupled(n,"sandbox"),r=bh.isOpen(e);if(r&&!t.previewing.get())return bp.getCurrent(e).bind((function(t){return rb.getHighlighted(t)})).map((function(t){return Ca(n,OI(),{item:t}),!0}));var o=tv.getValue(n);return Sa(n,ua()),t.onExecute(e,n,o),r&&bh.close(e),V.some(!0)}}),hx.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),b_.config({others:{sandbox:function(n){return A_(t,n,{onOpen:function(){return hx.on(n)},onClose:function(){return hx.off(n)}})}}}),Nw("typeaheadevents",[Ga((function(n){var e=v;T_(t,u(n),n,r,e,GD.HighlightFirst).get(v)})),Ha(OI(),(function(n,e){var r=b_.getCoupled(n,"sandbox");wI(t.model,n,e.event.item),Sa(n,ua()),t.onItemExecute(n,r,e.event.item,tv.getValue(n)),bh.close(r),SI(n)}))].concat(t.dismissOnBlur?[Ha(Qu(),(function(t){var n=b_.getCoupled(t,"sandbox");Tf(n.element).isNone()&&bh.close(n)}))]:[]))];return{uid:t.uid,dom:FD(So(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:D(D({},i),rv(t.typeaheadBehaviours,a)),eventOrder:t.eventOrder}},TI=w([Fi("lazySink"),Di("fetch"),Xi("minChars",5),Xi("responseTime",1e3),al("onOpen"),Xi("getHotspot",V.some),Xi("getAnchorOverrides",w({})),Xi("layouts",V.none()),Xi("eventOrder",{}),ru("model",{},[Xi("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),Xi("selectsOver",!0),Xi("populateFromBrowse",!0)]),al("onSetValue"),cl("onExecute"),al("onItemExecute"),Xi("inputClasses",[]),Xi("inputAttributes",{}),Xi("inputStyles",{}),Xi("matchWidth",!0),Xi("useMinWidth",!1),Xi("dismissOnBlur",!0),il(["openClass"]),Fi("initialData"),nv("typeaheadBehaviours",[Yw,tv,yI,Dw,hx,b_]),Ti("previewing",(function(){return ou(!0)}))].concat(ID()).concat(E_())),MI=w([Rv({schema:[ol()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(n,e){t.previewing.get()?n.getSystem().getByUid(t.uid).each((function(r){kI(t.model,r,e).fold((function(){return rb.dehighlight(n,e)}),(function(t){return t()}))})):n.getSystem().getByUid(t.uid).each((function(n){t.model.populateFromBrowse&&wI(t.model,n,e)})),t.previewing.set(!1)},onExecute:function(n,e){return n.getSystem().getByUid(t.uid).toOptional().map((function(t){return Ca(t,OI(),{item:e}),!0}))},onHover:function(n,e){t.previewing.set(!1),n.getSystem().getByUid(t.uid).each((function(n){t.model.populateFromBrowse&&wI(t.model,n,e)}))}}}})]),DI=mp({name:"Typeahead",configFields:TI(),partFields:MI(),factory:zI}),_I=function(t){var n=function(){return _I(t.toCached())},e=function(n){return _I(t.bind((function(t){return t.fold((function(t){return t_.pure(ro.error(t))}),(function(t){return n(t)}))})))},r=function(n){return _I(t.map((function(t){return t.bind(n)})))},o=function(n){return _I(t.map((function(t){return t.map(n)})))},i=function(n){return _I(t.map((function(t){return t.mapError(n)})))},u=function(n,e){return t.map((function(t){return t.fold(n,e)}))},a=function(n,e){return _I(t_.nu((function(r){var o=!1,i=setTimeout((function(){o=!0,r(ro.error(e()))}),n);t.get((function(t){o||(clearTimeout(i),r(t))}))})))};return D(D({},t),{toCached:n,bindFuture:e,bindResult:r,mapResult:o,mapError:i,foldResult:u,withTimeout:a})},AI=function(t){return _I(t_.nu(t))},HI=function(t){return _I(t_.pure(ro.value(t)))},EI=function(t){return _I(t_.pure(ro.error(t)))},RI=function(t){return _I(t_.pure(t))},BI=function(t){return _I(t.map(ro.value))},VI=function(t){return AI((function(n){t.then((function(t){n(ro.value(t))}),(function(t){n(ro.error(t))}))}))},II={nu:AI,wrap:_I,pure:HI,value:HI,error:EI,fromResult:RI,fromFuture:BI,fromPromise:VI},PI={type:"separator"},LI=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:v}},FI=function(t,n){return{type:"menuitem",value:n,text:t,meta:{attach:void 0},onAction:v}},NI=function(t){return $(t,LI)},jI=function(t,n){return Y(n,(function(n){return n.type===t}))},UI=function(t,n){return NI(jI(t,n))},WI=function(t){return UI("header",t.targets)},GI=function(t){return UI("anchor",t.targets)},$I=function(t){return V.from(t.anchorTop).map((function(t){return FI("<top>",t)})).toArray()},qI=function(t){return V.from(t.anchorBottom).map((function(t){return FI("<bottom>",t)})).toArray()},XI=function(t){return $(t,(function(t){return FI(t,t)}))},KI=function(t){return Q(t,(function(t,n){var e=0===t.length||0===n.length;return e?t.concat(n):t.concat(PI,n)}),[])},YI=function(t,n){var e=t.toLowerCase();return Y(n,(function(t){var n=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text;return jt(n.toLowerCase(),e)||jt(t.value.toLowerCase(),e)}))},JI=function(t,n,e){var r=tv.getValue(n),o=void 0!==r.meta.text?r.meta.text:r.value,i=e.getLinkInformation();return i.fold((function(){return[]}),(function(n){var r=YI(o,XI(e.getHistory(t)));return"file"===t?KI([r,YI(o,WI(n)),YI(o,et([$I(n),GI(n),qI(n)]))]):r}))},QI=oc("aria-invalid"),ZI=function(t,n,e){var r,o=n.shared.providers,i=function(n){var r=tv.getValue(n);e.addToHistory(r.value,t.filetype)},u=hD.parts.field({factory:DI,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":QI,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=JI(t.filetype,r,e),i=GB(o,UC.BUBBLE_TO_SANDBOX,n,!1);return t_.pure(i)},getHotspot:function(t){return m.getOpt(t)},onSetValue:function(t,n){t.hasConfigured(d_)&&d_.run(t).get(v)},typeaheadBehaviours:mf(et([e.getValidationHandler().map((function(n){return d_.config({getRoot:function(t){return pe(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,n){s.getOpt(t).each((function(t){Fe(t.element,"title",o.translate(n))}))}},validator:{validate:function(e){var r=tv.getValue(e);return II.nu((function(e){n({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var n=ro.error(t.message);e(n)}else{var r=ro.value(t.message);e(r)}}))}))},validateOnLoad:!1}})})).toArray(),[Ip.config({disabled:function(){return t.disabled||o.isDisabled()}}),yD.config({}),Nw("urlinput-events",et(["file"===t.filetype?[Ha(ju(),(function(n){Ca(n,TD,{name:t.name})}))]:[],[Ha(Uu(),(function(n){Ca(n,TD,{name:t.name}),i(n)})),Ha(Zu(),(function(n){Ca(n,TD,{name:t.name}),i(n)}))]]))]])),eventOrder:(r={},r[ju()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:vk(!1,1,"normal")},onExecute:function(t,n,e){Ca(n,AD,{})},onItemExecute:function(n,e,r,o){i(n),Ca(n,TD,{name:t.name})}}),a=t.label.map((function(t){return zD(t,o)})),c=function(t,n,e,r){return void 0===e&&(e=t),void 0===r&&(r=t),VS(e,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],attributes:D({title:o.translate(r),"aria-live":"polite"},n.fold((function(){return{}}),(function(t){return{id:t}})))},o.icons)},s=kS(c("invalid",V.some(QI),"warning")),l=kS({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]}),f=e.getUrlPicker(t.filetype),d=oc("browser.url.event"),m=kS({dom:{tag:"div",classes:["tox-control-wrap"]},components:[u,l.asSpec()],behaviours:mf([Ip.config({disabled:function(){return t.disabled||o.isDisabled()}})])}),g=kS(ZB({name:t.name,icon:V.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},(function(t){return Sa(t,d)}),o,[],["tox-browse-url"])),h=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:et([[m.asSpec()],f.map((function(){return g.asSpec()})).toArray()])}},p=function(n){bp.getCurrent(n).each((function(e){var r=tv.getValue(e),o=D({fieldname:t.name},r);f.each((function(r){r(o).get((function(r){tv.setValue(e,r),Ca(n,TD,{name:t.name})}))}))}))};return hD.sketch({dom:kD(),components:a.toArray().concat([h()]),fieldBehaviours:mf([Ip.config({disabled:function(){return t.disabled||o.isDisabled()},onDisabled:function(t){hD.getField(t).each(Ip.disable),g.getOpt(t).each(Ip.disable)},onEnabled:function(t){hD.getField(t).each(Ip.enable),g.getOpt(t).each(Ip.enable)}}),cz(),Nw("url-input-events",[Ha(d,p)])])})},tP=function(t,n){return sD.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[CS.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:AS(t.icon,n.icons),attributes:{title:n.translate(t.iconTooltip)}},action:function(n){Ca(n,_D,{name:"alert-banner",value:t.url})},buttonBehaviours:mf([RS()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:n.translate(t.text)}}]})},nP=function(t,n){var e=tv.config({store:{mode:"manual",getValue:function(t){var n=t.element.dom;return n.checked},setValue:function(t,n){var e=t.element.dom;e.checked=n}}}),r=function(t){return t.element.dom.click(),V.some(!0)},o=hD.parts.field({factory:{sketch:x},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:mf([WE.self(),Ip.config({disabled:function(){return t.disabled||n.isDisabled()}}),yD.config({}),Yw.config({}),e,Dw.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Nw("checkbox-events",[Ha(Uu(),(function(n,e){Ca(n,TD,{name:t.name})}))])])}),i=hD.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:n.translate(t.label)},behaviours:mf([N_.config({})])}),u=function(t){var e="checked"===t?"selected":"unselected";return VS(e,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t]},n.icons)},a=kS({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]});return hD.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,a.asSpec(),i],fieldBehaviours:mf([Ip.config({disabled:function(){return t.disabled||n.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){hD.getField(t).each(Ip.disable)},onEnabled:function(t){hD.getField(t).each(Ip.enable)}}),cz()])})},eP=function(t){return"presentation"===t.presets?sD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):sD.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:mf([yD.config({}),Yw.config({})])})},rP=function(t){return function(n,e,r){return zt(e,"name").fold((function(){return t(e,r)}),(function(o){return n.field(o,t(e,r))}))}},oP=function(t){return function(n,e,r){var o=So(e,{source:"dynamic"});return rP(t)(n,o,r)}},iP={bar:rP((function(t,n){return fD(t,n.shared)})),collection:rP((function(t,n){return VD(t,n.shared.providers)})),alertbanner:rP((function(t,n){return tP(t,n.shared.providers)})),input:rP((function(t,n){return lI(t,n.shared.providers)})),textarea:rP((function(t,n){return fI(t,n.shared.providers)})),label:rP((function(t,n){return QV(t,n.shared)})),iframe:oP((function(t,n){return wR(t,n.shared.providers)})),button:rP((function(t,n){return oV(t,n.shared.providers)})),checkbox:rP((function(t,n){return nP(t,n.shared.providers)})),colorinput:rP((function(t,n){return $_(t,n.shared,n.colorinput)})),colorpicker:rP(XE),dropzone:rP((function(t,n){return sR(t,n.shared.providers)})),grid:rP((function(t,n){return lR(t,n.shared)})),listbox:rP((function(t,n){return rI(t,n)})),selectbox:rP((function(t,n){return aI(t,n.shared.providers)})),sizeinput:rP((function(t,n){return pV(t,n.shared.providers)})),urlinput:rP((function(t,n){return ZI(t,n,n.urlinput)})),customeditor:rP(JE),htmlpanel:rP(eP),imagetools:rP((function(t,n){return JV(t,n.shared.providers)})),table:rP((function(t,n){return cI(t,n.shared.providers)})),panel:rP((function(t,n){return oI(t,n)}))},uP={field:function(t,n){return n}},aP=function(t,n,e){var r=So(e,{shared:{interpreter:function(n){return cP(t,n,r)}}});return cP(t,n,r)},cP=function(t,n,e){return zt(iP,n.type).fold((function(){return console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n}),(function(r){return r(t,n,e)}))},sP=function(t,n){var e=uP;return cP(e,t,n)},lP={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},fP=function(t,n,e){var r=12,o={maxHeightFunction:Td()},i=function(){return{type:"node",root:_e(t()),node:V.from(t()),bubble:Hd(r,r,lP),layouts:{onRtl:function(){return[dS]},onLtr:function(){return[fS]}},overrides:o}},u=function(){return{type:"hotspot",hotspot:n(),bubble:Hd(-r,r,lP),layouts:{onRtl:function(){return[Nl]},onLtr:function(){return[jl]}},overrides:o}};return function(){return e()?i():u()}},dP=function(t,n,e){var r=function(){return{type:"node",root:_e(t()),node:V.from(t()),layouts:{onRtl:function(){return[mS]},onLtr:function(){return[mS]}}}},o=function(){return{type:"hotspot",hotspot:n(),layouts:{onRtl:function(){return[$l]},onLtr:function(){return[$l]}}}};return function(){return e()?r():o()}},mP=function(t,n){return function(){return{type:"selection",root:n(),getSelection:function(){var n=t.selection.getRng();return V.some(km.range(nn.fromDom(n.startContainer),n.startOffset,nn.fromDom(n.endContainer),n.endOffset))}}}},gP=function(t){return function(n){return{type:"node",root:t(),node:n}}},hP=function(t,n,e){var r=jO(t),o=function(){return nn.fromDom(t.getBody())},i=function(){return nn.fromDom(t.getContentAreaContainer())},u=function(){return r||!e()};return{inlineDialog:fP(i,n,u),banner:dP(i,n,u),cursor:mP(t,o),node:gP(o)}},vP=function(t){return function(n,e){var r=tM(t);r(n,e)}},pP=function(t){return function(){return BT(t)}},bP=function(t){return function(){return IT(t)}},yP=function(t){return function(){return $T(t)}},wP=function(t){return{colorPicker:vP(t),hasCustomColors:pP(t),getColors:bP(t),getColorCols:yP(t)}},xP=function(t){return function(){return qO(t)}},SP=function(t){return{isDraggableModal:xP(t)}},CP=function(t){var n=ou(IO(t)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===n.get()},getDockingMode:n.get,setDockingMode:n.set}},kP=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],OP=function(t){return Tt(t,"items")},zP=function(t){return Tt(t,"block")},TP=function(t){return Tt(t,"inline")},MP=function(t){return Tt(t,"selector")},DP=function(t){return Q(t,(function(t,n){if(OP(n)){var e=DP(n.items);return{customFormats:t.customFormats.concat(e.customFormats),formats:t.formats.concat([{title:n.title,items:e.formats}])}}if(TP(n)||zP(n)||MP(n)){var r=i(n.name)?n.name:n.title.toLowerCase(),o="custom-"+r;return{customFormats:t.customFormats.concat([{name:o,format:n}]),formats:t.formats.concat([{title:n.title,format:o,icon:n.icon}])}}return D(D({},t),{formats:t.formats.concat(n)})}),{customFormats:[],formats:[]})},_P=function(t,n){var e=DP(n),r=function(n){q(n,(function(n){t.formatter.has(n.name)||t.formatter.register(n.name,n.format)}))};return t.formatter?r(e.customFormats):t.on("init",(function(){r(e.customFormats)})),e.formats},AP=function(t){return CO(t).map((function(n){var e=_P(t,n);return kO(t)?kP.concat(e):e})).getOr(kP)},HP=function(t,n,e){var r={type:"formatter",isSelected:n(t.format),getStylePreview:e(t.format)};return So(t,r)},EP=function(t,n,e,r){var o=function(t){return HP(t,e,r)},u=function(t){var n={type:"submenu"};return So(t,n)},a=function(n){var o=i(n.name)?n.name:oc(n.title),u="custom-"+o,a={type:"formatter",format:u,isSelected:e(u),getStylePreview:r(u)},c=So(n,a);return t.formatter.register(o,c),c},c=function(t){return $(t,(function(t){var n=ht(t);if(Mt(t,"items")){var e=c(t.items);return So(u(t),{getStyleItems:w(e)})}return Mt(t,"format")?o(t):1===n.length&&j(n,"title")?So(t,{type:"separator"}):a(t)}))};return c(n)},RP=function(t){var n=function(n){return function(){return t.formatter.match(n)}},e=function(n){return function(){var e=t.formatter.get(n);return void 0!==e?V.some({tag:e.length>0&&(e[0].inline||e[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(n))}):V.none()}},r=function(t){var n=t.items;return void 0!==n&&n.length>0?rt(n,r):[t.format]},o=ou([]),i=ou([]),u=ou([]),a=ou([]),c=ou(!1);t.on("PreInit",(function(u){var a=AP(t),c=EP(t,a,n,e);o.set(c),i.set(rt(c,r))})),t.on("addStyleModifications",(function(o){var i=EP(t,o.items,n,e);u.set(i),c.set(o.replace),a.set(rt(i,r))}));var s=function(){var t=c.get()?[]:o.get(),n=u.get();return t.concat(n)},l=function(){var t=c.get()?[]:i.get(),n=a.get();return t.concat(n)};return{getData:s,getFlattenedKeys:l}},BP=function(t){return d(t)&&1===t.nodeType},VP=QE.trim,IP=function(t){return function(n){if(BP(n)){if(n.contentEditable===t)return!0;if(n.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},PP=IP("true"),LP=IP("false"),FP=function(t,n,e,r,o){return{type:t,title:n,url:e,level:r,attach:o}},NP=function(t){while(t=t.parentNode){var n=t.contentEditable;if(n&&"inherit"!==n)return PP(t)}return!1},jP=function(t,n){return $(Km(nn.fromDom(n),t),(function(t){return t.dom}))},UP=function(t){return t.innerText||t.textContent},WP=function(t){return t.id?t.id:oc("h")},GP=function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)},$P=function(t){return GP(t)&&XP(t)},qP=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},XP=function(t){return NP(t)&&!LP(t)},KP=function(t){return qP(t)&&XP(t)},YP=function(t){return qP(t)?parseInt(t.nodeName.substr(1),10):0},JP=function(t){var n=WP(t),e=function(){t.id=n};return FP("header",UP(t),"#"+n,YP(t),e)},QP=function(t){var n=t.id||t.name,e=UP(t);return FP("anchor",e||"#"+n,"#"+n,0,v)},ZP=function(t){return $(Y(t,KP),JP)},tL=function(t){return $(Y(t,$P),QP)},nL=function(t){var n=jP("h1,h2,h3,h4,h5,h6,a:not([href])",t);return n},eL=function(t){return VP(t.title).length>0},rL=function(t){var n=nL(t);return Y(ZP(n).concat(tL(n)),eL)},oL={find:rL},iL="tinymce-url-history",uL=5,aL=function(t){return i(t)&&/^https?/.test(t)},cL=function(t){return a(t)&&t.length<=uL&&ot(t,aL)},sL=function(t){return u(t)&&kt(t,(function(t){return!cL(t)})).isNone()},lL=function(){var t,n=zT.getItem(iL);if(null===n)return{};try{t=JSON.parse(n)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+iL+" was not valid JSON",e),{};throw e}return sL(t)?t:(console.log("Local storage "+iL+" was not valid format",t),{})},fL=function(t){if(!sL(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));zT.setItem(iL,JSON.stringify(t))},dL=function(t){var n=lL();return zt(n,t).getOr([])},mL=function(t,n){if(aL(t)){var e=lL(),r=zt(e,n).getOr([]),o=Y(r,(function(n){return n!==t}));e[n]=[t].concat(o).slice(0,uL),fL(e)}},gL=function(t){return!!t},hL=function(t){return bt(QE.makeMap(t,/[, ]/),gL)},vL=function(t){return V.from(JO(t)).filter(m)},pL=function(t){var n=V.some(QO(t)).filter(gL),e=V.some(ZO(t)).filter(gL),r=n.or(e).map(hL);return vL(t).fold(z,(function(t){return r.fold(T,(function(t){return ht(t).length>0&&t}))}))},bL=function(t,n){var e=pL(t);return s(e)?e?vL(t):V.none():e[n]?vL(t):V.none()},yL=function(t,n){return bL(t,n).map((function(e){return function(r){return t_.nu((function(o){var a=function(t,n){if(!i(t))throw new Error("Expected value to be string");if(void 0!==n&&!u(n))throw new Error("Expected meta to be a object");var e={value:t,meta:n};o(e)},c=D({filetype:n,fieldname:r.fieldname},V.from(r.meta).getOr({}));e.call(t,a,r.value,c)}))}}))},wL=function(t){return V.from(t).filter(i).getOrUndefined()},xL=function(t){return tz(t)?V.none():V.some({targets:oL.find(t.getBody()),anchorTop:wL(nz(t)),anchorBottom:wL(ez(t))})},SL=function(t){return V.from(rz(t))},CL=function(t){return{getHistory:dL,addToHistory:mL,getLinkInformation:function(){return xL(t)},getValidationHandler:function(){return SL(t)},getUrlPicker:function(n){return yL(t,n)}}},kL=function(t,n,e){var r=ou(!1),o=CP(n),i={shared:{providers:{icons:function(){return n.ui.registry.getAll().icons},menuItems:function(){return n.ui.registry.getAll().menuItems},translate:OS.translate,isDisabled:function(){return n.mode.isReadOnly()||n.ui.isDisabled()},getSetting:n.getParam.bind(n)},interpreter:function(t){return sP(t,i)},anchors:hP(n,e,o.isPositionedAtTop),header:o,getSink:function(){return ro.value(t)}},urlinput:CL(n),styleselect:RP(n),colorinput:wP(n),dialog:SP(n),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}};return i},OL=function(t,n,e){var r=function(t,r){q([n,e],(function(n){n.broadcastEvent(t,r)}))},o=function(t,r){q([n,e],(function(n){n.broadcastOn([t],r)}))},i=function(t){return o(yh(),{target:t.target})},u=Sf(),a=ud(u,"touchstart",i),c=ud(u,"touchmove",(function(t){return r(ca(),t)})),s=ud(u,"touchend",(function(t){return r(sa(),t)})),l=ud(u,"mousedown",i),f=ud(u,"mouseup",(function(t){0===t.raw.button&&o(xh(),{target:t.target})})),d=function(t){return o(yh(),{target:nn.fromDom(t.target)})},m=function(t){0===t.button&&o(xh(),{target:nn.fromDom(t.target)})},g=function(){q(t.editorManager.get(),(function(n){t!==n&&n.fire("DismissPopups",{relatedTarget:t})}))},h=function(t){return r(la(),cd(t))},v=function(t){o(wh(),{}),r(fa(),cd(t))},p=function(){return o(wh(),{})},b=function(n){n.state&&o(yh(),{target:nn.fromDom(t.getContainer())})},y=function(t){o(yh(),{target:nn.fromDom(t.relatedTarget.getContainer())})};t.on("PostRender",(function(){t.on("click",d),t.on("tap",d),t.on("mouseup",m),t.on("mousedown",g),t.on("ScrollWindow",h),t.on("ResizeWindow",v),t.on("ResizeEditor",p),t.on("AfterProgressState",b),t.on("DismissPopups",y)})),t.on("remove",(function(){t.off("click",d),t.off("tap",d),t.off("mouseup",m),t.off("mousedown",g),t.off("ScrollWindow",h),t.off("ResizeWindow",v),t.off("ResizeEditor",p),t.off("AfterProgressState",b),t.off("DismissPopups",y),l.unbind(),a.unbind(),c.unbind(),s.unbind(),f.unbind()})),t.on("detach",(function(){Qg(n),Qg(e),n.destroy(),e.destroy()}))},zL=ep,TL=Pv,ML=w([Xi("shell",!1),Di("makeItem"),Xi("setupItem",v),ov.field("listBehaviours",[Lw])]),DL=function(){return{behaviours:mf([Lw.config({})])}},_L=Bv({name:"items",overrides:DL}),AL=w([_L]),HL=w("CustomList"),EL=function(t,n,e,r){var o=function(n,e){u(n).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=Lw.contents(r),i=e.length,u=i-o.length,a=u>0?W(u,(function(){return t.makeItem()})):[],c=o.slice(i);q(c,(function(t){return Lw.remove(r,t)})),q(a,(function(t){return Lw.append(r,t)}));var s=Lw.contents(r);q(s,(function(r,o){t.setupItem(n,r,e[o],o)}))}))},i=t.shell?{behaviours:[Lw.config({})],components:[]}:{behaviours:[],components:n},u=function(n){return t.shell?V.some(n):Xv(n,t,"items")};return{uid:t.uid,dom:t.dom,components:i.components,behaviours:rv(t.listBehaviours,i.behaviours),apis:{setItems:o}}},RL=mp({name:HL(),configFields:ML(),partFields:AL(),factory:EL,apis:{setItems:function(t,n,e){t.setItems(n,e)}}}),BL=w([Di("dom"),Xi("shell",!0),nv("toolbarBehaviours",[Lw])]),VL=function(){return{behaviours:mf([Lw.config({})])}},IL=w([Bv({name:"groups",overrides:VL})]),PL=function(t,n,e,r){var o=function(t,n){i(t).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){Lw.set(t,n)}))},i=function(n){return t.shell?V.some(n):Xv(n,t,"groups")},u=t.shell?{behaviours:[Lw.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:u.components,behaviours:rv(t.toolbarBehaviours,u.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}},LL=mp({name:"Toolbar",configFields:BL(),partFields:IL(),factory:PL,apis:{setGroups:function(t,n,e){t.setGroups(n,e)}}}),FL=v,NL=z,jL=w([]),UL=Object.freeze({__proto__:null,setup:FL,isDocked:NL,getBehaviours:jL}),WL=function(t){var n=Dt(Ze(t,"position"),"fixed"),e=n?V.none():ye(t);return e.orThunk((function(){var n=nn.fromTag("span");return pe(t).bind((function(t){_r(t,n);var e=ye(n);return Br(n),e}))}))},GL=function(t){return WL(t).map(mr).getOrThunk((function(){return lr(0,0)}))},$L=uu.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),qL=function(t,n){var e=t.element;is(e,n.transitionClass),as(e,n.fadeOutClass),is(e,n.fadeInClass),n.onShow(t)},XL=function(t,n){var e=t.element;is(e,n.transitionClass),as(e,n.fadeInClass),is(e,n.fadeOutClass),n.onHide(t)},KL=function(t,n){return t.y<n.bottom&&t.bottom>n.y},YL=function(t,n){return t.y>=n.y},JL=function(t,n){return t.bottom<=n.bottom},QL=function(t,n,e){return ot(t,(function(t){switch(t){case"bottom":return JL(n,e);case"top":return YL(n,e)}}))},ZL=function(t,n){return n.getInitialPos().map((function(n){return Yr(n.bounds.x,n.bounds.y,pr(t),ur(t))}))},tF=function(t,n,e){e.setInitialPos({style:tr(t),position:Je(t,"position")||"static",bounds:n})},nF=function(t,n,e){return e.getInitialPos().bind((function(r){switch(e.clearInitialPos(),r.position){case"static":return V.some($L.static());case"absolute":var o=WL(t).map(Jr).getOrThunk((function(){return Jr(Ie())}));return V.some($L.absolute(Df("absolute",zt(r.style,"left").map((function(t){return n.x-o.x})),zt(r.style,"top").map((function(t){return n.y-o.y})),zt(r.style,"right").map((function(t){return o.right-n.right})),zt(r.style,"bottom").map((function(t){return o.bottom-n.bottom})))));default:return V.none()}}))},eF=function(t,n,e){return ZL(t,e).filter((function(t){return QL(e.getModes(),t,n)})).bind((function(n){return nF(t,n,e)}))},rF=function(t,n,e){var r=Jr(t);if(QL(e.getModes(),r,n))return V.none();tF(t,r,e);var o=Zr(),i=r.x-o.x,u=n.y-o.y,a=o.bottom-n.bottom,c=r.y<=n.y;return V.some($L.fixed(Df("fixed",V.some(i),c?V.some(u):V.none(),V.none(),c?V.none():V.some(a))))},oF=function(t,n,e){var r=t.element,o=Dt(Ze(r,"position"),"fixed");return o?eF(r,n,e):rF(r,n,e)},iF=function(t,n){var e=t.element;return ZL(e,n).bind((function(t){return nF(e,t,n)}))},uF=function(t,n,e){e.setDocked(!1),q(["left","right","top","bottom","position"],(function(n){return er(t.element,n)})),n.onUndocked(t)},aF=function(t,n,e,r){var o="fixed"===r.position;e.setDocked(o),Af(t.element,r);var i=o?n.onDocked:n.onUndocked;i(t)},cF=function(t,n,e,r,o){void 0===o&&(o=!1),n.contextual.each((function(n){n.lazyContext(t).each((function(i){var u=KL(i,r);if(u!==e.isVisible())if(e.setVisible(u),o&&!u)ss(t.element,[n.fadeOutClass]),n.onHide(t);else{var a=u?qL:XL;a(t,n)}}))}))},sF=function(t,n,e){var r=n.lazyViewport(t),o=e.isDocked();o&&cF(t,n,e,r),oF(t,r,e).each((function(o){o.fold((function(){return uF(t,n,e)}),(function(r){return aF(t,n,e,r)}),(function(o){cF(t,n,e,r,!0),aF(t,n,e,o)}))}))},lF=function(t,n,e){var r=t.element;e.setDocked(!1),iF(t,e).each((function(r){r.fold((function(){return uF(t,n,e)}),(function(r){return aF(t,n,e,r)}),v)})),e.setVisible(!0),n.contextual.each((function(n){ls(r,[n.fadeInClass,n.fadeOutClass,n.transitionClass]),n.onShow(t)})),fF(t,n,e)},fF=function(t,n,e){t.getSystem().isConnected()&&sF(t,n,e)},dF=function(t,n,e){e.isDocked()&&lF(t,n,e)},mF=function(t,n,e){return e.isDocked()},gF=function(t,n,e,r){return e.setModes(r)},hF=function(t,n,e){return e.getModes()},vF=Object.freeze({__proto__:null,refresh:fF,reset:dF,isDocked:mF,getModes:hF,setModes:gF}),pF=function(t,n){return Ma([Na($u(),(function(e,r){t.contextual.each((function(t){if(cs(e.element,t.transitionClass)){ls(e.element,[t.transitionClass,t.fadeInClass]);var o=n.isVisible()?t.onShown:t.onHidden;o(e)}r.stop()}))})),Ha(la(),(function(e,r){fF(e,t,n)})),Ha(fa(),(function(e,r){dF(e,t,n)}))])},bF=Object.freeze({__proto__:null,events:pF}),yF=[$i("contextual",[Hi("fadeInClass"),Hi("fadeOutClass"),Hi("transitionClass"),Bi("lazyContext"),al("onShow"),al("onShown"),al("onHide"),al("onHidden")]),tu("lazyViewport",Zr),eu("modes",["top","bottom"],si),al("onDocked"),al("onUndocked")],wF=function(t){var n=ou(!1),e=ou(!0),r=od(),o=ou(t.modes),i=function(){return"docked:  "+n.get()+", visible: "+e.get()+", modes: "+o.get().join(",")};return Oc({isDocked:n.get,setDocked:n.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:e.get,setVisible:e.set,getModes:o.get,setModes:o.set,readState:i})},xF=Object.freeze({__proto__:null,init:wF}),SF=hf({fields:yF,name:"docking",active:bF,apis:vF,state:xF}),CF=w(oc("toolbar-height-change")),kF={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},OF="tox-tinymce--toolbar-sticky-on",zF="tox-tinymce--toolbar-sticky-off",TF=function(t,n){var e=me(n),r=e.dom.defaultView.innerHeight,o=Ir(e),i=nn.fromDom(t.elm),u=Qr(i),a=ur(i),c=u.y,s=c+a,l=mr(n),f=ur(n),d=l.top,m=d+f,g=Math.abs(d-o.top)<2,h=Math.abs(m-(o.top+r))<2;if(g&&c<m)Pr(o.left,c-f,e);else if(h&&s>d){var v=c-r+a+f;Pr(o.left,v,e)}},MF=function(t,n){return j(SF.getModes(t),n)},DF=function(t){var n=function(t){return ar(t)+(parseInt(Je(t,"margin-top"),10)||0)+(parseInt(Je(t,"margin-bottom"),10)||0)},e=t.element;pe(e).each((function(r){var o="padding-"+SF.getModes(t)[0];if(SF.isDocked(t)){var i=pr(r);Xe(e,"width",i+"px"),Xe(r,o,n(e)+"px")}else er(e,"width"),er(r,o)}))},_F=function(t,n){n?(as(t,kF.fadeOutClass),ss(t,[kF.transitionClass,kF.fadeInClass])):(as(t,kF.fadeInClass),ss(t,[kF.fadeOutClass,kF.transitionClass]))},AF=function(t,n){var e=nn.fromDom(t.getContainer());n?(is(e,OF),as(e,zF)):(is(e,zF),as(e,OF))},HF=function(t,n){var e=me(n);zf(e).filter((function(t){return!se(n,t)})).filter((function(n){return se(n,nn.fromDom(e.dom.body))||de(t,n)})).each((function(){return Cf(n)}))},EF=function(t,n){return Tf(t).orThunk((function(){return n().toOptional().bind((function(t){return Tf(t.element)}))}))},RF=function(t,n,e){t.inline||(n.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){e().each(SF.reset)})),t.on("ResizeWindow ResizeEditor",(function(){e().each(DF)})),t.on("SkinLoaded",(function(){e().each((function(t){SF.isDocked(t)?SF.reset(t):SF.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){e().each(SF.reset)}))),t.on("AfterScrollIntoView",(function(t){e().each((function(n){SF.refresh(n);var e=n.element;Jb(e)&&TF(t,e)}))})),t.on("PostRender",(function(){AF(t,!1)}))},BF=function(t){return t().map(SF.isDocked).getOr(!1)},VF=function(){var t;return[yf.config({channels:(t={},t[CF()]={onReceive:DF},t)})]},IF=function(t,n){var e=od(),r=n.getSink,o=function(t){r().each((function(n){return t(n.element)}))},i=function(n){t.inline||DF(n),AF(t,SF.isDocked(n)),n.getSystem().broadcastOn([wh()],{}),r().each((function(t){return t.getSystem().broadcastOn([wh()],{})}))},u=t.inline?[]:VF();return A([Yw.config({}),SF.config({contextual:D({lazyContext:function(n){var e=ar(n.element),r=t.inline?t.getContentAreaContainer():t.getContainer(),o=Jr(nn.fromDom(r)),i=o.height-e,u=o.y+(MF(n,"top")?0:e);return V.some(Yr(o.x,u,o.width,i))},onShow:function(){o((function(t){return _F(t,!0)}))},onShown:function(t){o((function(t){return ls(t,[kF.transitionClass,kF.fadeInClass])})),e.get().each((function(n){HF(t.element,n),e.clear()}))},onHide:function(t){EF(t.element,r).fold(e.clear,e.set),o((function(t){return _F(t,!1)}))},onHidden:function(){o((function(t){return ls(t,[kF.transitionClass])}))}},kF),lazyViewport:function(n){var e=Zr(),r=$O(t),o=e.y+(MF(n,"top")?r:0),i=e.height-(MF(n,"bottom")?r:0);return Yr(e.x,o,e.width,i)},modes:[n.header.getDockingMode()],onDocked:i,onUndocked:i})],u,!0)},PF=Object.freeze({__proto__:null,setup:RF,isDocked:BF,getBehaviours:IF}),LF=function(t){var n=t.editor,e=t.sticky?IF:jL;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:mf(e(n,t.sharedBackstage))}},FF=ti([Hi("type"),_i("items",ei([ii([Hi("name"),Li("items",si)]),si]))].concat(kC)),NF=function(t){return wi("GroupToolbarButton",FF,t)},jF=[Ui("text"),Ui("tooltip"),Ui("icon"),Bi("fetch"),tu("onSetup",(function(){return v}))],UF=ti(A([Hi("type")],jF,!0)),WF=function(t){return wi("menubutton",UF,t)},GF=ti([Hi("type"),Ui("tooltip"),Ui("icon"),Ui("text"),Wi("select"),Bi("fetch"),tu("onSetup",(function(){return v})),Qi("presets","normal",["normal","color","listpreview"]),Xi("columns",1),Bi("onAction"),Bi("onItemAction")]),$F=function(t){return wi("SplitButton",GF,t)},qF=function(t,n){var e=function(t,e){var r=$(e,(function(t){var e={type:"menubutton",text:t.text,fetch:function(n){n(t.getItems())}},r=WF(e).mapError((function(t){return Ci(t)})).getOrDie();return qB(r,"tox-mbtn",n.backstage,V.some("menuitem"))}));Lw.set(t,r)},r={focus:Dw.focusIn,setMenus:e};return{uid:t.uid,dom:t.dom,components:[],behaviours:mf([Lw.config({}),Nw("menubar-events",[ja((function(n){t.onSetup(n)})),Ha(Iu(),(function(t,n){Ps(t.element,".tox-mbtn--active").each((function(e){Ls(n.event.target,".tox-mbtn").each((function(n){se(e,n)||t.getSystem().getByDom(e).each((function(e){t.getSystem().getByDom(n).each((function(t){I_.expand(t),I_.close(e),Yw.focus(t)}))}))}))}))})),Ha(va(),(function(t,n){n.event.prevFocus.bind((function(n){return t.getSystem().getByDom(n).toOptional()})).each((function(e){n.event.newFocus.bind((function(n){return t.getSystem().getByDom(n).toOptional()})).each((function(t){I_.isOpen(e)&&(I_.expand(t),I_.close(e))}))}))}))]),Dw.config({mode:"flow",selector:".tox-mbtn",onEscape:function(n){return t.onEscape(n),V.some(!0)}}),yD.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},XF=dp({factory:qF,name:"silver.Menubar",configFields:[Di("dom"),Di("uid"),Di("onEscape"),Di("backstage"),Xi("onSetup",v)],apis:{focus:function(t,n){t.focus(n)},setMenus:function(t,n,e){t.setMenus(n,e)}}}),KF=function(t,n){return n.getAnimationRoot.fold((function(){return t.element}),(function(n){return n(t)}))},YF=function(t){return t.dimension.property},JF=function(t,n){return t.dimension.getDimension(n)},QF=function(t,n){var e=KF(t,n);ls(e,[n.shrinkingClass,n.growingClass])},ZF=function(t,n){as(t.element,n.openClass),is(t.element,n.closedClass),Xe(t.element,YF(n),"0px"),rr(t.element)},tN=function(t,n){as(t.element,n.closedClass),is(t.element,n.openClass),er(t.element,YF(n))},nN=function(t,n,e,r){e.setCollapsed(),Xe(t.element,YF(n),JF(n,t.element)),rr(t.element),QF(t,n),ZF(t,n),n.onStartShrink(t),n.onShrunk(t)},eN=function(t,n,e,r){var o=r.getOrThunk((function(){return JF(n,t.element)}));e.setCollapsed(),Xe(t.element,YF(n),o),rr(t.element);var i=KF(t,n);as(i,n.growingClass),is(i,n.shrinkingClass),ZF(t,n),n.onStartShrink(t)},rN=function(t,n,e){var r=JF(n,t.element),o="0px"===r?nN:eN;o(t,n,e,V.some(r))},oN=function(t,n,e){var r=KF(t,n),o=cs(r,n.shrinkingClass),i=JF(n,t.element);tN(t,n);var u=JF(n,t.element),a=function(){Xe(t.element,YF(n),i),rr(t.element)},c=function(){ZF(t,n)},s=o?a:c;s(),as(r,n.shrinkingClass),is(r,n.growingClass),tN(t,n),Xe(t.element,YF(n),u),e.setExpanded(),n.onStartGrow(t)},iN=function(t,n,e){if(e.isExpanded()){er(t.element,YF(n));var r=JF(n,t.element);Xe(t.element,YF(n),r)}},uN=function(t,n,e){e.isExpanded()||oN(t,n,e)},aN=function(t,n,e){e.isExpanded()&&rN(t,n,e)},cN=function(t,n,e){e.isExpanded()&&nN(t,n,e)},sN=function(t,n,e){return e.isExpanded()},lN=function(t,n,e){return e.isCollapsed()},fN=function(t,n,e){var r=KF(t,n);return!0===cs(r,n.growingClass)},dN=function(t,n,e){var r=KF(t,n);return!0===cs(r,n.shrinkingClass)},mN=function(t,n,e){return fN(t,n)||dN(t,n)},gN=function(t,n,e){var r=e.isExpanded()?rN:oN;r(t,n,e)},hN=Object.freeze({__proto__:null,refresh:iN,grow:uN,shrink:aN,immediateShrink:cN,hasGrown:sN,hasShrunk:lN,isGrowing:fN,isShrinking:dN,isTransitioning:mN,toggleGrow:gN,disableTransitions:QF}),vN=function(t,n,e){var r=n.expanded;return _c(r?{classes:[n.openClass],styles:{}}:{classes:[n.closedClass],styles:mu(n.dimension.property,"0px")})},pN=function(t,n){return Ma([Na($u(),(function(e,r){var o=r.event.raw;if(o.propertyName===t.dimension.property){QF(e,t),n.isExpanded()&&er(e.element,t.dimension.property);var i=n.isExpanded()?t.onGrown:t.onShrunk;i(e)}}))])},bN=Object.freeze({__proto__:null,exhibit:vN,events:pN}),yN=[Di("closedClass"),Di("openClass"),Di("shrinkingClass"),Di("growingClass"),Fi("getAnimationRoot"),al("onShrunk"),al("onStartShrink"),al("onGrown"),al("onStartGrow"),Xi("expanded",!1),_i("dimension",ki("property",{width:[fl("property","width"),fl("getDimension",(function(t){return pr(t)+"px"}))],height:[fl("property","height"),fl("getDimension",(function(t){return ur(t)+"px"}))]}))],wN=function(t){var n=ou(t.expanded),e=function(){return"expanded: "+n.get()};return Oc({isExpanded:function(){return!0===n.get()},isCollapsed:function(){return!1===n.get()},setCollapsed:C(n.set,!1),setExpanded:C(n.set,!0),readState:e})},xN=Object.freeze({__proto__:null,init:wN}),SN=hf({fields:yN,name:"sliding",active:bN,apis:hN,state:xN}),CN="container",kN=[nv("slotBehaviours",[])],ON=function(t){return"<alloy.field."+t+">"},zN=function(t){var n=function(){var t=[],n=function(n,e){return t.push(n),Uv(CN,ON(n),e)};return{slot:n,record:w(t)}}(),e=t(n),r=n.record(),o=$(r,(function(t){return Ev({name:t,pname:ON(t)})}));return up(CN,kN,o,TN,e)},TN=function(t,n){var e=function(n){return Qv(t)},r=function(n,e){return Xv(n,t,e)},o=function(n,e){return function(r,o){return Xv(r,t,o).map((function(t){return n(t,o)})).getOr(e)}},i=function(t){return function(n,e){q(e,(function(e){return t(n,e)}))}},u=function(t,n){return"true"!==je(t.element,"aria-hidden")},a=function(t,n){if(!u(t)){var e=t.element;er(e,"display"),Ge(e,"aria-hidden"),Ca(t,pa(),{name:n,visible:!0})}},c=function(t,n){if(u(t)){var e=t.element;Xe(e,"display","none"),Fe(e,"aria-hidden","true"),Ca(t,pa(),{name:n,visible:!1})}},s=o(u,!1),l=o(c),f=i(l),d=function(t){return f(t,e())},m=o(a),g={getSlotNames:e,getSlot:r,isShowing:s,hideSlot:l,hideAllSlots:d,showSlot:m};return{uid:t.uid,dom:t.dom,components:n,behaviours:ev(t.slotBehaviours),apis:g}},MN=bt({getSlotNames:function(t,n){return t.getSlotNames(n)},getSlot:function(t,n,e){return t.getSlot(n,e)},isShowing:function(t,n,e){return t.isShowing(n,e)},hideSlot:function(t,n,e){return t.hideSlot(n,e)},hideAllSlots:function(t,n){return t.hideAllSlots(n)},showSlot:function(t,n,e){return t.showSlot(n,e)}},(function(t){return Cc(t)})),DN=D(D({},MN),{sketch:zN}),_N=ti([Ui("icon"),Ui("tooltip"),tu("onShow",v),tu("onHide",v),tu("onSetup",(function(){return v}))]),AN=function(t){return wi("sidebar",_N,t)},HN=function(t){var n=t.ui.registry.getAll().sidebars;q(ht(n),(function(e){var r=n[e],o=function(){return Dt(V.from(t.queryCommandValue("ToggleSidebar")),e)};t.ui.registry.addToggleButton(e,{icon:r.icon,tooltip:r.tooltip,onAction:function(n){t.execCommand("ToggleSidebar",!1,e),n.setActive(o())},onSetup:function(n){var e=function(){return n.setActive(o())};return t.on("ToggleSidebar",e),function(){t.off("ToggleSidebar",e)}}})}))},EN=function(t){return{element:function(){return t.element.dom}}},RN=function(t,n){var e=$(ht(n),(function(t){var e=n[t],r=xi(AN(e));return{name:t,getApi:EN,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return $(e,(function(n){var r=ou(v);return t.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Qk.unnamedEvents([hz(n,r),vz(n,r),Ha(pa(),(function(t,n){var r=n.event,o=tt(e,(function(t){return t.name===r.name}));o.each((function(n){var e=r.visible?n.onShow:n.onHide;e(n.getApi(t))}))}))])})}))},BN=function(t){return DN.sketch((function(n){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:RN(n,t),slotBehaviours:Qk.unnamedEvents([ja((function(t){return DN.hideAllSlots(t)}))])}}))},VN=function(t,n){var e=bp.getCurrent(t);e.each((function(t){return Lw.set(t,[BN(n)])}))},IN=function(t,n){var e=bp.getCurrent(t);e.each((function(t){var e=bp.getCurrent(t);e.each((function(e){SN.hasGrown(t)?DN.isShowing(e,n)?SN.shrink(t):(DN.hideAllSlots(e),DN.showSlot(e,n)):(DN.hideAllSlots(e),DN.showSlot(e,n),SN.grow(t))}))}))},PN=function(t){var n=bp.getCurrent(t);return n.bind((function(t){var n=SN.isGrowing(t)||SN.hasGrown(t);if(n){var e=bp.getCurrent(t);return e.bind((function(t){return tt(DN.getSlotNames(t),(function(n){return DN.isShowing(t,n)}))}))}return V.none()}))},LN=oc("FixSizeEvent"),FN=oc("AutoSizeEvent"),NN=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:mf([yD.config({}),Yw.config({}),SN.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var n=bp.getCurrent(t);n.each(DN.hideAllSlots),Sa(t,FN)},onGrown:function(t){Sa(t,FN)},onStartGrow:function(t){Ca(t,LN,{width:Ze(t.element,"width").getOr("")})},onStartShrink:function(t){Ca(t,LN,{width:pr(t.element)+"px"})}}),Lw.config({}),bp.config({find:function(t){var n=Lw.contents(t);return ft(n)}})])}],behaviours:mf([WE.childAt(0),Nw("sidebar-sliding-events",[Ha(LN,(function(t,n){Xe(t.element,"width",n.event.width)})),Ha(FN,(function(t,n){er(t.element,"width")}))])])}},jN=function(t,n,e,r){Fe(t.element,"aria-busy",!0);var o=n.getRoot(t).getOr(t),i=mf([Dw.config({mode:"special",onTab:function(){return V.some(!0)},onShiftTab:function(){return V.some(!0)}}),Yw.config({})]),u=r(o,i),a=o.getSystem().build(u);Lw.append(o,Ms(a)),a.hasConfigured(Dw)&&n.focus&&Dw.focusIn(a),e.isBlocked()||n.onBlock(t),e.blockWith((function(){return Lw.remove(o,a)}))},UN=function(t,n,e){Ge(t.element,"aria-busy"),e.isBlocked()&&n.onUnblock(t),e.clear()},WN=Object.freeze({__proto__:null,block:jN,unblock:UN}),GN=[tu("getRoot",V.none),Zi("focus",!0),al("onBlock"),al("onUnblock")],$N=function(){var t=nd(),n=function(n){t.set({destroy:n})};return Oc({readState:t.isSet,blockWith:n,clear:t.clear,isBlocked:t.isSet})},qN=Object.freeze({__proto__:null,init:$N}),XN=hf({fields:GN,name:"blocking",apis:WN,state:qN}),KN=function(t){var n=void 0!==t.dom.attributes?t.dom.attributes:[];return Q(n,(function(t,n){var e;return"class"===n.name?t:D(D({},t),(e={},e[n.name]=n.value,e))}),{})},YN=function(t){return Array.prototype.slice.call(t.dom.classList,0)},JN=function(t){var n=nn.fromHtml(t),e=xe(n),r=KN(n),o=YN(n),i=0===e.length?{}:{innerHtml:qa(n)};return D({tag:cn(n),classes:o,attributes:r},i)},QN=function(t){return function(n,e){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:JN('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},ZN=function(t){return bp.getCurrent(t).each((function(t){return Cf(t.element)}))},tj=function(t,n){var e="tabindex",r="data-mce-"+e;V.from(t.iframeElement).map(nn.fromDom).each((function(t){n?(Ue(t,e).each((function(n){return Fe(t,r,n)})),Fe(t,e,-1)):(Ge(t,e),Ue(t,r).each((function(n){Fe(t,e,n),Ge(t,r)})))}))},nj=function(t,n,e,r){var o=n.element;if(tj(t,e),e)XN.block(n,QN(r)),er(o,"display"),Ge(o,"aria-hidden"),t.hasFocus()&&ZN(n);else{var i=bp.getCurrent(n).exists((function(t){return Of(t.element)}));XN.unblock(n),Xe(o,"display","none"),Fe(o,"aria-hidden","true"),i&&t.focus()}},ej=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:mf([Lw.config({}),XN.config({focus:!1}),bp.config({find:function(t){return ft(t.components())}})]),components:[]}},rj=function(t){return"focusin"===t.type},oj=function(t){if(rj(t)){var n=t.composed?ft(t.composedPath()):V.from(t.target);return n.map(nn.fromDom).filter(fn).exists((function(t){return cs(t,"mce-pastebin")}))}return!1},ij=function(t,n,e){var r=ou(!1),o=od(),i=function(e){r.get()&&!oj(e)&&(e.preventDefault(),ZN(n()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",(function(){t.dom.bind(t.getWin(),"focusin",i),t.on("BeforeExecCommand",(function(t){"mcefocus"===t.command.toLowerCase()&&!0!==t.value&&i(t)}))}));var u=function(o){o!==r.get()&&(r.set(o),nj(t,n(),o,e.providers),t.fire("AfterProgressState",{state:o}))};t.on("ProgressState",(function(n){if(o.on(xS.clearTimeout),g(n.time)){var e=xS.setEditorTimeout(t,(function(){return u(n.state)}),n.time);o.set(e)}else u(n.state),o.clear()}))},uj=function(t,n){var e={len:0,list:[]},r=Q(t,(function(t,e){var r=n(e,t.len);return r.fold(w(t),(function(n){return{len:n.finish,list:t.list.concat([n])}}))}),e);return r.list},aj=function(t,n,e){return{within:t,extra:n,withinWidth:e}},cj=function(t,n,e){var r=uj(t,(function(t,n){var r=e(t);return V.some({element:t,start:n,finish:n+r,width:r})})),o=Y(r,(function(t){return t.finish<=n})),i=J(o,(function(t,n){return t+n.width}),0),u=r.slice(o.length);return{within:o,extra:u,withinWidth:i}},sj=function(t){return $(t,(function(t){return t.element}))},lj=function(t,n,e){var r=sj(t.concat(n));return aj(r,[],e)},fj=function(t,n,e,r){var o=sj(t).concat([e]);return aj(o,sj(n),r)},dj=function(t,n,e){return aj(sj(t),[],e)},mj=function(t,n,e){var r=cj(n,t,e);return 0===r.extra.length?V.some(r):V.none()},gj=function(t,n,e,r){var o=mj(t,n,e).getOrThunk((function(){return cj(n,t-e(r),e)})),i=o.within,u=o.extra,a=o.withinWidth;return 1===u.length&&u[0].width<=e(r)?lj(i,u,a):u.length>=1?fj(i,u,r,a):dj(i,u,a)},hj=function(t,n){var e=$(n,(function(t){return Ms(t)}));LL.setGroups(t,e)},vj=function(t){return gt(t,(function(t){return Tf(t.element).bind((function(n){return t.getSystem().getByDom(n).toOptional()}))}))},pj=function(t,n,e){var r=n.builtGroups.get();if(0!==r.length){var o=Kv(t,n,"primary"),i=b_.getCoupled(t,"overflowGroup");Xe(o.element,"visibility","hidden");var u=r.concat([i]),a=vj(u);e([]),hj(o,u);var c=pr(o.element),s=gj(c,n.builtGroups.get(),(function(t){return pr(t.element)}),i);0===s.extra.length?(Lw.remove(o,i),e([])):(hj(o,s.within),e(s.extra)),er(o.element,"visibility"),rr(o.element),a.each(Yw.focus)}},bj=w([nv("splitToolbarBehaviours",[b_]),Ti("builtGroups",(function(){return ou([])}))]),yj=w([il(["overflowToggledClass"]),Wi("getOverflowBounds"),Di("lazySink"),Ti("overflowGroups",(function(){return ou([])}))].concat(bj())),wj=w([Ev({factory:LL,schema:BL(),name:"primary"}),Rv({schema:BL(),name:"overflow"}),Rv({name:"overflow-button"}),Rv({name:"overflow-group"})]),xj=w((function(t,n){yr(t,Math.floor(n))})),Sj=w([il(["toggledClass"]),Di("lazySink"),Bi("fetch"),Wi("getBounds"),$i("fireDismissalEventInstead",[Xi("event",ga())]),Ld()]),Cj=w([Rv({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:mf([hx.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Rv({factory:LL,schema:BL(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:mf([Dw.config({mode:"cyclic",onEscape:function(n){return Xv(n,t,"button").each(Yw.focus),V.none()}})])}}})]),kj=function(t,n){var e=b_.getCoupled(t,"toolbarSandbox");bh.isOpen(e)?bh.close(e):bh.open(e,n.toolbar())},Oj=function(t,n,e,r){var o=e.getBounds.map((function(t){return t()})),i=e.lazySink(t).getOrDie();Pg.positionWithinBounds(i,n,{anchor:{type:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:xj()}}},o)},zj=function(t,n,e,r,o){LL.setGroups(n,o),Oj(t,n,e,r),hx.on(t)},Tj=function(t,n,e){var r=Ns(),o=function(o,i){e.fetch().get((function(o){zj(t,i,e,n.layouts,o),r.link(t.element),Dw.focusIn(i)}))},i=function(){hx.off(t),Yw.focus(t),r.unlink(t.element)};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:mf([Dw.config({mode:"special",onEscape:function(t){return bh.close(t),V.some(!0)}}),bh.config({onOpen:o,onClose:i,isPartOf:function(n,e,r){return Us(e,r)||Us(t,r)},getAttachPoint:function(){return e.lazySink(t).getOrDie()}}),yf.config({channels:D(D({},Ch(D({isExtraPart:z},e.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),Oh({doReposition:function(){bh.getState(b_.getCoupled(t,"toolbarSandbox")).each((function(r){Oj(t,r,e,n.layouts)}))}}))})])}},Mj=function(t,n,e,r){return D(D({},CS.sketch(D(D({},r.button()),{action:function(t){kj(t,r)},buttonBehaviours:ov.augment({dump:r.button().buttonBehaviours},[b_.config({others:{toolbarSandbox:function(n){return Tj(n,e,t)}}})])}))),{apis:{setGroups:function(n,r){bh.getState(b_.getCoupled(n,"toolbarSandbox")).each((function(o){zj(n,o,t,e.layouts,r)}))},reposition:function(n){bh.getState(b_.getCoupled(n,"toolbarSandbox")).each((function(r){Oj(n,r,t,e.layouts)}))},toggle:function(t){kj(t,r)},getToolbar:function(t){return bh.getState(b_.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return bh.isOpen(b_.getCoupled(t,"toolbarSandbox"))}}})},Dj=mp({name:"FloatingToolbarButton",factory:Mj,configFields:Sj(),partFields:Cj(),apis:{setGroups:function(t,n,e){t.setGroups(n,e)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},getToolbar:function(t,n){return t.getToolbar(n)},isOpen:function(t,n){return t.isOpen(n)}}}),_j=w([Di("items"),il(["itemSelector"]),nv("tgroupBehaviours",[Dw])]),Aj=w([Vv({name:"items",unit:"item"})]),Hj=function(t,n,e,r){return{uid:t.uid,dom:t.dom,components:n,behaviours:rv(t.tgroupBehaviours,[Dw.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Ej=mp({name:"ToolbarGroup",configFields:_j(),partFields:Aj(),factory:Hj}),Rj=function(t){return $(t,(function(t){return Ms(t)}))},Bj=function(t,n,e){pj(t,e,(function(r){e.overflowGroups.set(r),n.getOpt(t).each((function(t){Dj.setGroups(t,Rj(r))}))}))},Vj=function(t,n,e,r){var o=kS(Dj.sketch({fetch:function(){return t_.nu((function(n){n(Rj(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[jl,Nl]},onRtl:function(){return[Nl,jl]},onBottomLtr:function(){return[Wl,Ul]},onBottomRtl:function(){return[Ul,Wl]}},getBounds:e.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:t.uid,dom:t.dom,components:n,behaviours:rv(t.splitToolbarBehaviours,[b_.config({others:{overflowGroup:function(){return Ej.sketch(D(D({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(n,e){t.builtGroups.set($(e,n.getSystem().build)),Bj(n,o,t)},refresh:function(n){return Bj(n,o,t)},toggle:function(t){o.getOpt(t).each((function(t){Dj.toggle(t)}))},isOpen:function(t){return o.getOpt(t).map(Dj.isOpen).getOr(!1)},reposition:function(t){o.getOpt(t).each((function(t){Dj.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind(Dj.getToolbar)}},domModification:{attributes:{role:"group"}}}},Ij=mp({name:"SplitFloatingToolbar",configFields:yj(),partFields:wj(),factory:Vj,apis:{setGroups:function(t,n,e){t.setGroups(n,e)},refresh:function(t,n){t.refresh(n)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)},getOverflow:function(t,n){return t.getOverflow(n)}}}),Pj=w([il(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),al("onOpened"),al("onClosed")].concat(bj())),Lj=w([Ev({factory:LL,schema:BL(),name:"primary"}),Ev({factory:LL,schema:BL(),name:"overflow",overrides:function(t){return{toolbarBehaviours:mf([SN.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(n){Xv(n,t,"overflow-button").each((function(t){hx.off(t),Yw.focus(t)})),t.onClosed(n)},onGrown:function(n){Dw.focusIn(n),t.onOpened(n)},onStartGrow:function(n){Xv(n,t,"overflow-button").each(hx.on)}}),Dw.config({mode:"acyclic",onEscape:function(n){return Xv(n,t,"overflow-button").each(Yw.focus),V.some(!0)}})])}}}),Rv({name:"overflow-button",overrides:function(t){return{buttonBehaviours:mf([hx.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Rv({name:"overflow-group"})]),Fj=function(t,n){return Xv(t,n,"overflow").map(SN.hasGrown).getOr(!1)},Nj=function(t,n){Xv(t,n,"overflow-button").bind((function(){return Xv(t,n,"overflow")})).each((function(e){jj(t,n),SN.toggleGrow(e)}))},jj=function(t,n){Xv(t,n,"overflow").each((function(e){pj(t,n,(function(t){var n=$(t,(function(t){return Ms(t)}));LL.setGroups(e,n)})),Xv(t,n,"overflow-button").each((function(t){SN.hasGrown(e)&&hx.on(t)})),SN.refresh(e)}))},Uj=function(t,n,e,r){var o="alloy.toolbar.toggle",i=function(n,e){var r=$(e,n.getSystem().build);t.builtGroups.set(r)};return{uid:t.uid,dom:t.dom,components:n,behaviours:rv(t.splitToolbarBehaviours,[b_.config({others:{overflowGroup:function(t){return Ej.sketch(D(D({},r["overflow-group"]()),{items:[CS.sketch(D(D({},r["overflow-button"]()),{action:function(n){Sa(t,o)}}))]}))}}}),Nw("toolbar-toggle-events",[Ha(o,(function(n){Nj(n,t)}))])]),apis:{setGroups:function(n,e){i(n,e),jj(n,t)},refresh:function(n){return jj(n,t)},toggle:function(n){return Nj(n,t)},isOpen:function(n){return Fj(n,t)}},domModification:{attributes:{role:"group"}}}},Wj=mp({name:"SplitSlidingToolbar",configFields:Pj(),partFields:Lj(),factory:Uj,apis:{setGroups:function(t,n,e){t.setGroups(n,e)},refresh:function(t,n){t.refresh(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)}}}),Gj=function(t){var n=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:D({tag:"div",classes:["tox-toolbar__group"]},n),components:[Ej.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:mf([yD.config({}),Yw.config({})])}},$j=function(t){return Ej.sketch(Gj(t))},qj=function(t,n){var e=ja((function(n){var e=$(t.initGroups,$j);LL.setGroups(n,e)}));return mf([mz.toolbarButton(t.providers.isDisabled),cz(),Dw.config({mode:n,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Nw("toolbar-events",[e])])},Xj=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Gj({title:V.none(),items:[]}),"overflow-button":YB({name:"more",icon:V.some("more-drawer"),disabled:!1,tooltip:V.some("More..."),primary:!1,borderless:!1},V.none(),t.providers)},splitToolbarBehaviours:qj(t,n)}},Kj=function(t){var n=Xj(t),e=4,r=Ij.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Ij.sketch(D(D({},n),{lazySink:t.getSink,getOverflowBounds:function(){var n=t.moreDrawerData.lazyHeader().element,r=Qr(n),o=he(n),i=Qr(o),u=Math.max(o.dom.scrollHeight,i.height);return Yr(r.x+e,i.y,r.width-2*e,u)},parts:D(D({},n.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},Yj=function(t){var n=Wj.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),e=Wj.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=Xj(t);return Wj.sketch(D(D({},r),{components:[n,e],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([CF()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([CF()],{type:"closed"})}}))},Jj=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return LL.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===jC.scrolling?["tox-toolbar--scrolling"]:[])},components:[LL.parts.groups({})],toolbarBehaviours:qj(t,n)})},Qj=function(t,n,e){var r={getSocket:function(n){return zL.getPart(n,t,"socket")},setSidebar:function(n,e){zL.getPart(n,t,"sidebar").each((function(t){return VN(t,e)}))},toggleSidebar:function(n,e){zL.getPart(n,t,"sidebar").each((function(t){return IN(t,e)}))},whichSidebar:function(n){return zL.getPart(n,t,"sidebar").bind(PN).getOrNull()},getHeader:function(n){return zL.getPart(n,t,"header")},getToolbar:function(n){return zL.getPart(n,t,"toolbar")},setToolbar:function(n,e){zL.getPart(n,t,"toolbar").each((function(t){t.getApis().setGroups(t,e)}))},setToolbars:function(n,e){zL.getPart(n,t,"multiple-toolbar").each((function(t){RL.setItems(t,e)}))},refreshToolbar:function(n){var e=zL.getPart(n,t,"toolbar");e.each((function(t){return t.getApis().refresh(t)}))},toggleToolbarDrawer:function(n){zL.getPart(n,t,"toolbar").each((function(t){Bt(t.getApis().toggle,(function(n){return n(t)}))}))},isToolbarDrawerToggled:function(n){return zL.getPart(n,t,"toolbar").bind((function(t){return V.from(t.getApis().isOpen).map((function(n){return n(t)}))})).getOr(!1)},getThrobber:function(n){return zL.getPart(n,t,"throbber")},focusToolbar:function(n){var e=zL.getPart(n,t,"toolbar").orThunk((function(){return zL.getPart(n,t,"multiple-toolbar")}));e.each((function(t){Dw.focusIn(t)}))},setMenubar:function(n,e){zL.getPart(n,t,"menubar").each((function(t){XF.setMenus(t,e)}))},focusMenubar:function(n){zL.getPart(n,t,"menubar").each((function(t){XF.focus(t)}))}};return{uid:t.uid,dom:t.dom,components:n,apis:r,behaviours:t.behaviours}},Zj=TL.optional({factory:XF,name:"menubar",schema:[Di("backstage")]}),tU=function(t){return t.type===jC.sliding?Yj:t.type===jC.floating?Kj:Jj},nU=TL.optional({factory:{sketch:function(t){return RL.sketch({uid:t.uid,dom:t.dom,listBehaviours:mf([Dw.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Jj({type:t.type,uid:oc("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),V.some(!0)}})},setupItem:function(t,n,e,r){LL.setGroups(n,e)},shell:!0})}},name:"multiple-toolbar",schema:[Di("dom"),Di("onEscape")]}),eU=TL.optional({factory:{sketch:function(t){var n=tU(t),e={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),V.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return n(e)}},name:"toolbar",schema:[Di("dom"),Di("onEscape"),Di("getSink")]}),rU=TL.optional({factory:{sketch:LF},name:"header",schema:[Di("dom")]}),oU=TL.optional({name:"socket",schema:[Di("dom")]}),iU=TL.optional({factory:{sketch:NN},name:"sidebar",schema:[Di("dom")]}),uU=TL.optional({factory:{sketch:ej},name:"throbber",schema:[Di("dom")]}),aU=mp({name:"OuterContainer",factory:Qj,configFields:[Di("dom"),Di("behaviours")],partFields:[rU,Zj,eU,nU,oU,iU,uU],apis:{getSocket:function(t,n){return t.getSocket(n)},setSidebar:function(t,n,e){t.setSidebar(n,e)},toggleSidebar:function(t,n,e){t.toggleSidebar(n,e)},whichSidebar:function(t,n){return t.whichSidebar(n)},getHeader:function(t,n){return t.getHeader(n)},getToolbar:function(t,n){return t.getToolbar(n)},setToolbar:function(t,n,e){var r=$(e,(function(t){return $j(t)}));t.setToolbar(n,r)},setToolbars:function(t,n,e){var r=$(e,(function(t){return $(t,$j)}));t.setToolbars(n,r)},refreshToolbar:function(t,n){return t.refreshToolbar(n)},toggleToolbarDrawer:function(t,n){t.toggleToolbarDrawer(n)},isToolbarDrawerToggled:function(t,n){return t.isToolbarDrawerToggled(n)},getThrobber:function(t,n){return t.getThrobber(n)},setMenubar:function(t,n,e){t.setMenubar(n,e)},focusMenubar:function(t,n){t.focusMenubar(n)},focusToolbar:function(t,n){t.focusToolbar(n)}}}),cU="file edit view insert format tools table help",sU={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},lU=function(t,n,e){var r=TO(e).split(/[ ,]/);return{text:t.title,getItems:function(){return rt(t.items,(function(t){var e=t.toLowerCase();return 0===e.trim().length||U(r,(function(t){return t===e}))?[]:"separator"===e||"|"===e?[{type:"separator"}]:n.menuItems[e]?[n.menuItems[e]]:[]}))}}},fU=function(t){return"string"===typeof t?t.split(" "):t},dU=function(t,n){var e=D(D({},sU),n.menus),r=ht(n.menus).length>0,o=void 0===n.menubar||!0===n.menubar?fU(cU):fU(!1===n.menubar?"":n.menubar),i=Y(o,(function(t){var e=Tt(sU,t);return r?e||zt(n.menus,t).exists((function(t){return Tt(t,"items")})):e})),u=$(i,(function(r){var o=e[r];return lU({title:o.title,items:fU(o.items)},n,t)}));return Y(u,(function(t){var n=function(t){return"separator"!==t.type};return t.getItems().length>0&&U(t.getItems(),n)}))},mU=function(t){var n=function(){t._skinLoaded=!0,hT(t)};return function(){t.initialized?n():t.on("init",n)}},gU=function(t,n){return function(){return vT(t,{message:n})}},hU=function(t,n,e){return new uC((function(r,o){e.load(n,r,o),t.on("remove",(function(){return e.unload(n)}))}))},vU=function(t,n){var e=n+"/skin.min.css";return hU(t,e,t.ui.styleSheetLoader)},pU=function(t,n){var e=Ae(nn.fromDom(t.getElement()));if(e){var r=n+"/skin.shadowdom.min.css";return hU(t,r,dO.DOM.styleSheetLoader)}return uC.resolve()},bU=function(t,n){var e=gO(n);e&&n.contentCSS.push(e+(t?"/content.inline":"/content")+".min.css"),!1===vO(n)&&i(e)?uC.all([vU(n,e),pU(n,e)]).then(mU(n),gU(n,"Skin could not be loaded")):mU(n)()},yU=C(bU,!1),wU=C(bU,!0),xU=function(t,n){return function(e){var r=ed(),o=function(){e.setActive(t.formatter.match(n));var o=t.formatter.formatChanged(n,e.setActive);r.set(o)};return t.initialized?o():t.once("init",o),function(){t.off("init",o),r.clear()}}},SU=function(t,n,e){return function(r){var o=function(){return e(r)},i=function(){e(r),t.on(n,o)};return t.initialized?i():t.once("init",i),function(){t.off("init",i),t.off(n,o)}}},CU=function(t){return function(n){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,n.format)}))}}},kU=function(t,n){return function(){return t.execCommand(n)}},OU=function(t,n,e){var r=function(t,r,i,u){var a=n.shared.providers.translate(t.title);if("separator"===t.type)return V.some({type:"separator",text:a});if("submenu"===t.type){var c=rt(t.getStyleItems(),(function(t){return o(t,r,u)}));return 0===r&&c.length<=0?V.none():V.some({type:"nestedmenuitem",text:a,disabled:c.length<=0,getSubmenuItems:function(){return rt(t.getStyleItems(),(function(t){return o(t,r,u)}))}})}return V.some(D({type:"togglemenuitem",text:a,icon:t.icon,active:t.isSelected(u),disabled:i,onAction:e.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},o=function(t,n,o){var i="formatter"===t.type&&e.isInvalid(t);return 0===n?i?[]:r(t,n,!1,o).toArray():r(t,n,i,o).toArray()},i=function(t){var n=e.getCurrentValue(),r=e.shouldHide?0:1;return rt(t,(function(t){return o(t,r,n)}))},u=function(t,n){return function(e,r){var o=n(),u=i(o),a=GB(u,UC.CLOSE_ON_EXECUTE,t,!1);r(a)}};return{validateItems:i,getFetch:u}},zU=function(t,n,e){var r=e.dataset,o="basic"===r.type?function(){return $(r.data,(function(t){return HP(t,e.isSelectedFor,e.getPreviewFor)}))}:r.getData;return{items:OU(t,n,e),getStyleItems:o}},TU=function(t,n,e){var r=zU(t,n,e),o=r.items,i=r.getStyleItems,u=function(t){return{getComponent:w(t)}},a=SU(t,"NodeChange",(function(t){var n=t.getComponent();e.updateText(n)}));return BB({text:e.icon.isSome()?V.none():e.text,icon:e.icon,tooltip:V.from(e.tooltip),role:V.none(),fetch:o.getFetch(n,i),onSetup:a,getApi:u,columns:1,presets:"normal",classes:e.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)},MU=function(t){return $(t,(function(t){var n=t,e=t,r=t.split("=");return r.length>1&&(n=r[0],e=r[1]),{title:n,format:e}}))},DU=function(t){return{type:"basic",data:t}};(function(t){t[t["SemiColon"]=0]="SemiColon",t[t["Space"]=1]="Space"})(KV||(KV={}));var _U,AU=function(t,n){return n===KV.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},HU=function(t,n,e,r){var o=t.getParam(n,e,"string"),i=MU(AU(o,r));return{type:"basic",data:i}},EU=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],RU=function(t){var n=function(){return tt(EU,(function(n){return t.formatter.match(n.format)}))},e=function(n){return function(){return t.formatter.match(n)}},r=function(t){return V.none},o=function(t){var e=n(),r=e.fold(w("left"),(function(t){return t.title.toLowerCase()}));Ca(t,RB,{icon:"align-"+r})},i=DU(EU),u=function(n){return function(){return tt(EU,(function(t){return t.format===n.format})).each((function(n){return t.execCommand(n.command)}))}};return{tooltip:"Align",text:V.none(),icon:V.some("align-left"),isSelectedFor:e,getCurrentValue:V.none,getPreviewFor:r,onAction:u,updateText:o,dataset:i,shouldHide:!1,isInvalid:function(n){return!t.formatter.canApply(n.format)}}},BU=function(t,n){return TU(t,n,RU(t))},VU=function(t,n){var e=zU(t,n,RU(t));t.ui.registry.addNestedMenuItem("align",{text:n.shared.providers.translate("Align"),getSubmenuItems:function(){return e.items.validateItems(e.getStyleItems())}})},IU="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",PU=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],LU=function(t){var n=t.split(/\s*,\s*/);return $(n,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},FU=function(t){var n=function(){var n=LU(t.toLowerCase());return ot(PU,(function(t){return n.indexOf(t.toLowerCase())>-1}))};return 0===t.indexOf("-apple-system")&&n()},NU=function(t){var n="System Font",e=function(){var e=function(t){return t?LU(t)[0]:""},r=t.queryCommandValue("FontName"),o=c.data,i=r?r.toLowerCase():"",u=tt(o,(function(t){var n=t.format;return n.toLowerCase()===i||e(n).toLowerCase()===e(i).toLowerCase()})).orThunk((function(){return Vt(FU(i),{title:n,format:i})}));return{matchOpt:u,font:r}},r=function(t){return function(n){return n.exists((function(n){return n.format===t}))}},o=function(){var t=e().matchOpt;return t},i=function(t){return function(){return V.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},u=function(n){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,n.format)}))}},a=function(t){var n=e(),r=n.matchOpt,o=n.font,i=r.fold(w(o),(function(t){return t.title}));Ca(t,EB,{text:i})},c=HU(t,"font_formats",IU,KV.SemiColon);return{tooltip:"Fonts",text:V.some(n),icon:V.none(),isSelectedFor:r,getCurrentValue:o,getPreviewFor:i,onAction:u,updateText:a,dataset:c,shouldHide:!1,isInvalid:z}},jU=function(t,n){return TU(t,n,NU(t))},UU=function(t,n){var e=zU(t,n,NU(t));t.ui.registry.addNestedMenuItem("fontformats",{text:n.shared.providers.translate("Fonts"),getSubmenuItems:function(){return e.items.validateItems(e.getStyleItems())}})},WU="8pt 10pt 12pt 14pt 18pt 24pt 36pt",GU={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},$U={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},qU=function(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e},XU=function(t,n){return/[0-9.]+px$/.test(t)?qU(72*parseInt(t,10)/96,n||0)+"pt":zt($U,t).getOr(t)},KU=function(t){return zt(GU,t).getOr("")},YU=function(t){var n=function(){var n=V.none(),e=a.data,r=t.queryCommandValue("FontSize");if(r)for(var o=function(t){var o=XU(r,t),i=KU(o);n=tt(e,(function(t){return t.format===r||t.format===o||t.format===i}))},i=3;n.isNone()&&i>=0;i--)o(i);return{matchOpt:n,size:r}},e=function(t){return function(n){return n.exists((function(n){return n.format===t}))}},r=function(){var t=n().matchOpt;return t},o=w(V.none),i=function(n){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,n.format)}))}},u=function(t){var e=n(),r=e.matchOpt,o=e.size,i=r.fold(w(o),(function(t){return t.title}));Ca(t,EB,{text:i})},a=HU(t,"fontsize_formats",WU,KV.Space);return{tooltip:"Font sizes",text:V.some("12pt"),icon:V.none(),isSelectedFor:e,getPreviewFor:o,getCurrentValue:r,onAction:i,updateText:u,dataset:a,shouldHide:!1,isInvalid:z}},JU=function(t,n){return TU(t,n,YU(t))},QU=function(t,n){var e=zU(t,n,YU(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return e.items.validateItems(e.getStyleItems())}})},ZU=function(t,n){var e=n(),r=$(e,(function(t){return t.format}));return V.from(t.formatter.closest(r)).bind((function(t){return tt(e,(function(n){return n.format===t}))})).orThunk((function(){return Vt(t.formatter.match("p"),{title:"Paragraph",format:"p"})}))},tW="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",nW=function(t){var n="Paragraph",e=function(n){return function(){return t.formatter.match(n)}},r=function(n){return function(){var e=t.formatter.get(n);return V.some({tag:e.length>0&&(e[0].inline||e[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(n))})}},o=function(e){var r=ZU(t,(function(){return i.data})),o=r.fold(w(n),(function(t){return t.title}));Ca(e,EB,{text:o})},i=HU(t,"block_formats",tW,KV.SemiColon);return{tooltip:"Blocks",text:V.some(n),icon:V.none(),isSelectedFor:e,getCurrentValue:V.none,getPreviewFor:r,onAction:CU(t),updateText:o,dataset:i,shouldHide:!1,isInvalid:function(n){return!t.formatter.canApply(n.format)}}},eW=function(t,n){return TU(t,n,nW(t))},rW=function(t,n){var e=zU(t,n,nW(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return e.items.validateItems(e.getStyleItems())}})},oW=function(t,n){var e="Paragraph",r=function(n){return function(){return t.formatter.match(n)}},o=function(n){return function(){var e=t.formatter.get(n);return void 0!==e?V.some({tag:e.length>0&&(e[0].inline||e[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(n))}):V.none()}},i=function(n){var r=function(t){var n=t.items;return void 0!==n&&n.length>0?rt(n,r):[{title:t.title,format:t.format}]},o=rt(AP(t),r),i=ZU(t,w(o)),u=i.fold(w(e),(function(t){return t.title}));Ca(n,EB,{text:u})};return{tooltip:"Formats",text:V.some(e),icon:V.none(),isSelectedFor:r,getCurrentValue:V.none,getPreviewFor:o,onAction:CU(t),updateText:i,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(n){return!t.formatter.canApply(n.format)},dataset:n}},iW=function(t,n){var e=D({type:"advanced"},n.styleselect);return TU(t,n,oW(t,e))},uW=function(t,n){var e=D({type:"advanced"},n.styleselect),r=zU(t,n,oW(t,e));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},aW=function(t,n){var e=function(e,r){t.updateState.each((function(t){var o=t(e,r);n.set(o)})),t.renderComponents.each((function(t){var o=t(r,n.get()),i=$(o,e.getSystem().build);Ug(e,i)}))};return Ma([Ha(ta(),(function(n,r){var o=r;if(!o.universal){var i=t.channel;j(o.channels,i)&&e(n,o.data)}})),ja((function(n,r){t.initialData.each((function(t){e(n,t)}))}))])},cW=Object.freeze({__proto__:null,events:aW}),sW=function(t,n,e){return e},lW=Object.freeze({__proto__:null,getState:sW}),fW=[Di("channel"),Fi("renderComponents"),Fi("updateState"),Fi("initialData")],dW=function(){var t=ou(V.none()),n=function(){return t.set(V.none())},e=function(){return t.get().getOr("none")};return{readState:e,get:t.get,set:t.set,clear:n}},mW=Object.freeze({__proto__:null,init:dW}),gW=hf({fields:fW,name:"reflecting",active:cW,apis:lW,state:mW}),hW=w([Di("toggleClass"),Di("fetch"),sl("onExecute"),Xi("getHotspot",V.some),Xi("getAnchorOverrides",w({})),Ld(),sl("onItemExecute"),Fi("lazySink"),Di("dom"),al("onOpen"),nv("splitDropdownBehaviours",[b_,Dw,Yw]),Xi("matchWidth",!1),Xi("useMinWidth",!1),Xi("eventOrder",{}),Fi("role")].concat(E_())),vW=Ev({factory:CS,schema:[Di("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:mf([Yw.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each(ka)},buttonBehaviours:mf([hx.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),pW=Ev({factory:CS,schema:[Di("dom")],name:"button",defaults:function(){return{buttonBehaviours:mf([Yw.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each((function(e){t.onExecute(e,n)}))}}}}),bW=w([vW,pW,Bv({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Di("text")],name:"aria-descriptor"}),Rv({schema:[ol()],name:"menu",defaults:function(t){return{onExecute:function(n,e){n.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,n,e)}))}}}}),w_()]),yW=function(t,n,e,r){var o,i=function(t){bp.getCurrent(t).each((function(t){rb.highlightFirst(t),Dw.focusIn(t)}))},u=function(n){var e=i;T_(t,x,n,r,e,GD.HighlightFirst).get(v)},a=function(t){return u(t),V.some(!0)},c=function(n){var e=Kv(n,t,"button");return ka(e),V.some(!0)},s=D(D({},Ma([ja((function(n,e){var r=Xv(n,t,"aria-descriptor");r.each((function(t){var e=oc("aria");Fe(t.element,"id",e),Fe(n.element,"aria-describedby",e)}))}))])),px(V.some(u))),l={repositionMenus:function(t){hx.isOn(t)&&H_(t)}};return{uid:t.uid,dom:t.dom,components:n,apis:l,eventOrder:D(D({},t.eventOrder),(o={},o[na()]=["disabling","toggling","alloy.base.behaviour"],o)),events:s,behaviours:rv(t.splitDropdownBehaviours,[b_.config({others:{sandbox:function(n){var e=Kv(n,t,"arrow"),r={onOpen:function(){hx.on(e),hx.on(n)},onClose:function(){hx.off(e),hx.off(n)}};return A_(t,n,r)}}}),Dw.config({mode:"special",onSpace:c,onEnter:c,onDown:a}),Yw.config({}),hx.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},wW=mp({name:"SplitDropdown",configFields:hW(),partFields:bW(),factory:yW,apis:{repositionMenus:function(t,n){return t.repositionMenus(n)}}}),xW=function(t){return{isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){return Ip.set(t,n)}}},SW=function(t){return{setActive:function(n){hx.set(t,n)},isActive:function(){return hx.isOn(t)},isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){return Ip.set(t,n)}}},CW=function(t,n){return t.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})},kW=oc("focus-button"),OW=function(t,n,e,r,o,i){var u;return{dom:{tag:"button",classes:["tox-tbtn"].concat(n.isSome()?["tox-tbtn--select"]:[]),attributes:CW(e,i)},components:yz([t.map((function(t){return TB(t,i.icons)})),n.map((function(t){return DB(t,"tox-tbtn",i)}))]),eventOrder:(u={},u[Eu()]=["focusing","alloy.base.behaviour","common-button-display-events"],u),buttonBehaviours:mf([mz.toolbarButton(i.isDisabled),cz(),Nw("common-button-display-events",[Ha(Eu(),(function(t,n){n.event.prevent(),Sa(t,kW)}))])].concat(r.map((function(e){return gW.config({channel:e,initialData:{icon:t,text:n},renderComponents:function(t,n){return yz([t.icon.map((function(t){return TB(t,i.icons)})),t.text.map((function(t){return DB(t,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}},zW=function(t,n,e,r){var o=n.shared;return Dj.sketch({lazySink:o.getSink,fetch:function(){return t_.nu((function(n){n($(e(t.items),$j))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:OW(t.icon,t.text,t.tooltip,V.none(),V.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},TW=function(t,n,e){var r=ou(v),o=OW(t.icon,t.text,t.tooltip,V.none(),V.none(),e);return CS.sketch({dom:o.dom,components:o.components,eventOrder:HB,buttonBehaviours:mf([Nw("toolbar-button-events",[AB({onAction:t.onAction,getApi:n.getApi}),hz(n,r),vz(n,r)]),mz.toolbarButton((function(){return t.disabled||e.isDisabled()})),cz()].concat(n.toolbarButtonBehaviours))})},MW=function(t,n){return DW(t,n,[])},DW=function(t,n,e){return TW(t,{toolbarButtonBehaviours:[].concat(e.length>0?[Nw("toolbarButtonWith",e)]:[]),getApi:xW,onSetup:t.onSetup},n)},_W=function(t,n){return AW(t,n,[])},AW=function(t,n,e){return So(TW(t,{toolbarButtonBehaviours:[Lw.config({}),hx.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(e.length>0?[Nw("toolbarToggleButtonWith",e)]:[]),getApi:SW,onSetup:t.onSetup},n))},HW=function(t,n,e){return function(r){return t_.nu((function(t){return n.fetch(t)})).map((function(o){return V.from(HM(So(eM(oc("menu-value"),o,(function(e){n.onItemAction(t(r),e)}),n.columns,n.presets,UC.CLOSE_ON_EXECUTE,n.select.getOr(z),e),{movement:oM(n.columns,n.presets),menuBehaviours:Qk.unnamedEvents("auto"!==n.columns?[]:[ja((function(t,e){Kk(t,4,lk(n.presets)).each((function(n){var e=n.numRows,r=n.numColumns;Dw.setGridSize(t,e,r)}))}))])})))}))}},EW=function(t,n){var e,r=oc("channel-update-split-dropdown-display"),o=function(t){return{isDisabled:function(){return Ip.isDisabled(t)},setDisabled:function(n){return Ip.set(t,n)},setIconFill:function(n,e){Ps(t.element,'svg path[id="'+n+'"], rect[id="'+n+'"]').each((function(t){Fe(t,"fill",e)}))},setIconStroke:function(n,e){Ps(t.element,'svg path[id="'+n+'"], rect[id="'+n+'"]').each((function(t){Fe(t,"stroke",e)}))},setActive:function(n){Fe(t.element,"aria-pressed",n),Ps(t.element,"span").each((function(e){t.getSystem().getByDom(e).each((function(t){return hx.set(t,n)}))}))},isActive:function(){return Ps(t.element,"span").exists((function(n){return t.getSystem().getByDom(n).exists(hx.isOn)}))}}},i=ou(v),u={getApi:o,onSetup:t.onSetup};return wW.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:D({"aria-pressed":!1},CW(t.tooltip,n.providers))},onExecute:function(n){t.onAction(o(n))},onItemExecute:function(t,n,e){},splitDropdownBehaviours:mf([mz.splitButton(n.providers.isDisabled),cz(),Nw("split-dropdown-events",[Ha(kW,Yw.focus),hz(u,i),vz(u,i)]),N_.config({})]),eventOrder:(e={},e[da()]=["alloy.base.behaviour","split-dropdown-events"],e),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:HW(o,t,n.providers),parts:{menu:vk(!1,t.columns,t.presets)},components:[wW.parts.button(OW(t.icon,t.text,V.none(),V.some(r),V.some([hx.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),wW.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:AS("chevron-down",n.providers.icons)},buttonBehaviours:mf([mz.splitButton(n.providers.isDisabled),cz(),RS()])}),wW.parts["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})},RW=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],BW=function(t,n){return function(e,r,o){var i=t(e).mapError((function(t){return Ci(t)})).getOrDie();return n(i,r,o)}},VW={button:BW(zC,(function(t,n){return MW(t,n.backstage.shared.providers)})),togglebutton:BW(DC,(function(t,n){return _W(t,n.backstage.shared.providers)})),menubutton:BW(WF,(function(t,n){return qB(t,"tox-tbtn",n.backstage,V.none())})),splitbutton:BW($F,(function(t,n){return EW(t,n.backstage.shared)})),grouptoolbarbutton:BW(NF,(function(t,n,e){var r,o=e.ui.registry.getAll().buttons,i=function(t){return WW(e,{buttons:o,toolbar:t,allowToolbarGroups:!1},n,V.none())},u=(r={},r[Id]=n.backstage.shared.header.isPositionedAtTop()?Lf.TopToBottom:Lf.BottomToTop,r);switch(EO(e)){case jC.floating:return zW(t,n.backstage,i,u);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,n){return iW(t,n.backstage)},fontsizeSelectButton:function(t,n){return JU(t,n.backstage)},fontSelectButton:function(t,n){return jU(t,n.backstage)},formatButton:function(t,n){return eW(t,n.backstage)},alignMenuButton:function(t,n){return BU(t,n.backstage)}},IW=function(t,n,e){return zt(VW,t.type).fold((function(){return console.error("skipping button defined by",t),V.none()}),(function(r){return V.some(r(t,n,e))}))},PW={styleselect:VW.styleSelectButton,fontsizeselect:VW.fontsizeSelectButton,fontselect:VW.fontSelectButton,formatselect:VW.formatButton,align:VW.alignMenuButton},LW=function(t){var n=$(RW,(function(n){var e=Y(n.items,(function(n){return Tt(t,n)||Tt(PW,n)}));return{name:n.name,items:e}}));return Y(n,(function(t){return t.items.length>0}))},FW=function(t){var n=t.split("|");return $(n,(function(t){return{items:t.trim().split(" ")}}))},NW=function(t){return h(t,(function(t){return Tt(t,"name")&&Tt(t,"items")}))},jW=function(t){var n=t.toolbar,e=t.buttons;return!1===n?[]:void 0===n||!0===n?LW(e):i(n)?FW(n):NW(n)?n:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},UW=function(t,n,e,r,o,i){return zt(n,e.toLowerCase()).orThunk((function(){return i.bind((function(t){return gt(t,(function(t){return zt(n,t+e.toLowerCase())}))}))})).fold((function(){return zt(PW,e.toLowerCase()).map((function(n){return n(t,o)})).orThunk((function(){return V.none()}))}),(function(n){return"grouptoolbarbutton"!==n.type||r?IW(n,o,t):(console.warn("Ignoring the '"+e+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),V.none())}))},WW=function(t,n,e,r){var o=jW(n),i=$(o,(function(o){var i=rt(o.items,(function(o){return 0===o.trim().length?[]:UW(t,n.buttons,o,n.allowToolbarGroups,e,r).toArray()}));return{title:V.from(t.translate(o.name)),items:i}}));return Y(i,(function(t){return t.items.length>0}))},GW=function(t,n,e,r){var o=n.outerContainer,u=e.toolbar,a=e.buttons;if(h(u,i)){var c=u.map((function(n){var o={toolbar:n,buttons:a,allowToolbarGroups:e.allowToolbarGroups};return WW(t,o,{backstage:r},V.none())}));aU.setToolbars(o,c)}else aU.setToolbar(o,WW(t,e,{backstage:r},V.none()))},$W=ee(),qW=$W.os.isiOS()&&$W.os.version.major<=12,XW=function(t,n){var e=t.dom,r=t.getWin(),o=t.getDoc().documentElement,i=ou(lr(r.innerWidth,r.innerHeight)),u=ou(lr(o.offsetWidth,o.offsetHeight)),a=function(){var n=i.get();n.left===r.innerWidth&&n.top===r.innerHeight||(i.set(lr(r.innerWidth,r.innerHeight)),bT(t))},c=function(){var n=t.getDoc().documentElement,e=u.get();e.left===n.offsetWidth&&e.top===n.offsetHeight||(u.set(lr(n.offsetWidth,n.offsetHeight)),bT(t))},s=function(n){return yT(t,n)};e.bind(r,"resize",a),e.bind(r,"scroll",s);var l=ad(nn.fromDom(t.getBody()),"load",c),f=n.uiMothership.element;t.on("hide",(function(){Xe(f,"display","none")})),t.on("show",(function(){er(f,"display")})),t.on("NodeChange",c),t.on("remove",(function(){l.unbind(),e.unbind(r,"resize",a),e.unbind(r,"scroll",s),r=null}))},KW=function(t,n,e,r,o){var i=ou(0),u=n.outerContainer;yU(t);var a=nn.fromDom(o.targetNode),c=_e(De(a));Yg(a,n.mothership),Kg(c,n.uiMothership),t.on("PostRender",(function(){GW(t,n,e,r),i.set(t.getWin().innerWidth),aU.setMenubar(u,dU(t,e)),aU.setSidebar(u,e.sidebar),XW(t,n)}));var s=aU.getSocket(u).getOrDie("Could not find expected socket element");if(qW){Ke(s.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var l=US((function(){t.fire("ScrollContent")}),20),f=ud(s.element,"scroll",l.throttle);t.on("remove",f.unbind)}az(t,n),t.addCommand("ToggleSidebar",(function(n,e){aU.toggleSidebar(u,e),t.fire("ToggleSidebar")})),t.addQueryValueHandler("ToggleSidebar",(function(){return aU.whichSidebar(u)}));var d=EO(t),m=function(){aU.refreshToolbar(n.outerContainer)};d!==jC.sliding&&d!==jC.floating||t.on("ResizeWindow ResizeEditor ResizeContent",(function(){var n=t.getWin().innerWidth;n!==i.get()&&(m(),i.set(n))}));var g={enable:function(){uz(n,!1)},disable:function(){uz(n,!0)},isDisabled:function(){return Ip.isDisabled(u)}};return{iframeContainer:s.element.dom,editorContainer:u.element.dom,api:g}},YW=Object.freeze({__proto__:null,render:KW}),JW=function(t){var n=/^[0-9\.]+(|px)$/i;return n.test(""+t)?V.some(parseInt(""+t,10)):V.none()},QW=function(t){return g(t)?t+"px":t},ZW=function(t,n,e){var r=n.filter((function(n){return t<n})),o=e.filter((function(n){return t>n}));return r.or(o).getOr(t)},tG=function(t){var n=pO(t),e=wO(t),r=SO(t);return JW(n).map((function(t){return ZW(t,e,r)}))},nG=function(t){var n=tG(t);return n.getOr(pO(t))},eG=function(t){var n=bO(t),e=yO(t),r=xO(t);return JW(n).map((function(t){return ZW(t,e,r)}))},rG=function(t){var n=eG(t);return n.getOr(bO(t))},oG=function(t,n,e,r,o){var i=e.uiMothership,u=e.outerContainer,a=dO.DOM,c=jO(t),s=GO(t),l=xO(t).or(eG(t)),f=r.shared.header,d=f.isPositionedAtTop,m=EO(t),g=m===jC.sliding||m===jC.floating,h=ou(!1),v=function(){return h.get()&&!t.removed},p=function(t){return g?t.fold(w(0),(function(t){return t.components().length>1?ur(t.components()[1].element):0})):0},b=function(e){switch(VO(t)){case HO.auto:var r=aU.getToolbar(u),o=p(r),i=ur(e.element)-o,a=Jr(n),c=a.y>i;if(c)return"top";var s=he(n),l=Math.max(s.dom.scrollHeight,ur(s)),f=a.bottom<l-i;if(f)return"bottom";var d=Zr(),m=d.bottom<a.bottom-i;return m?"bottom":"top";case HO.bottom:return"bottom";case HO.top:default:return"top"}},y=function(t){var n=o.get();SF.setModes(n,[t]),f.setDockingMode(t);var e=d()?Lf.TopToBottom:Lf.BottomToTop;Fe(n.element,Id,e)},x=function(){var t=l.getOrThunk((function(){var t=JW(Je(Ie(),"margin-left")).getOr(0);return pr(Ie())-mr(n).left+t}));Xe(o.get().element,"max-width",t+"px")},S=function(){var t=aU.getToolbar(u),e=p(t),r=Jr(n),i=d()?Math.max(r.y-ur(o.get().element)+e,0):r.bottom;Ke(u.element,{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})},C=function(){i.broadcastOn([wh()],{})},k=function(t){if(void 0===t&&(t=!1),v()){if(c||x(),g&&aU.refreshToolbar(u),c||S(),s){var n=o.get();t?SF.reset(n):SF.refresh(n)}C()}},O=function(t){if(void 0===t&&(t=!0),!c&&s&&v()){var n=f.getDockingMode(),e=b(o.get());e!==n&&(y(e),t&&k(!0))}},z=function(){h.set(!0),Xe(u.element,"display","flex"),a.addClass(t.getBody(),"mce-edit-focus"),er(i.element,"display"),O(!1),k()},T=function(){h.set(!1),e.outerContainer&&(Xe(u.element,"display","none"),a.removeClass(t.getBody(),"mce-edit-focus")),Xe(i.element,"display","none")};return{isVisible:v,isPositionedAtTop:d,show:z,hide:T,update:k,updateMode:O,repositionPopups:C}},iG=function(t,n){var e=Jr(t);return{pos:n?e.y:e.bottom,bounds:e}},uG=function(t,n,e,r){var o=ou(iG(n,e.isPositionedAtTop())),i=function(r){var i=iG(n,e.isPositionedAtTop()),u=i.pos,a=i.bounds,c=o.get(),s=c.pos,l=c.bounds,f=a.height!==l.height||a.width!==l.width;o.set({pos:u,bounds:a}),f&&bT(t,r),e.isVisible()&&(s!==u?e.update(!0):f&&(e.updateMode(),e.repositionPopups()))};r||(t.on("activate",e.show),t.on("deactivate",e.hide)),t.on("SkinLoaded ResizeWindow",(function(){return e.update(!0)})),t.on("NodeChange keydown",(function(t){xS.requestAnimationFrame((function(){return i(t)}))})),t.on("ScrollWindow",(function(){return e.updateMode()}));var u=ed();u.set(ad(nn.fromDom(t.getBody()),"load",i)),t.on("remove",(function(){u.clear()}))},aG=function(t,n,e,r,o){var i=n.mothership,u=n.uiMothership,a=n.outerContainer,c=ou(null),s=nn.fromDom(o.targetNode),l=oG(t,s,n,r,c),f=FO(t);wU(t);var d=function(){if(c.get())l.show();else{c.set(aU.getHeader(a).getOrDie());var o=UO(t);Kg(o,i),Kg(o,u),GW(t,n,e,r),aU.setMenubar(a,dU(t,e)),l.show(),uG(t,s,l,f),t.nodeChanged()}},m=function(){return xS.setEditorTimeout(t,d,0)};t.on("show",d),t.on("hide",l.hide),f||(t.on("focus",m),t.on("blur",l.hide)),t.on("init",(function(){(t.hasFocus()||f)&&m()})),az(t,n);var g={show:function(){l.show()},hide:function(){l.hide()},enable:function(){uz(n,!1)},disable:function(){uz(n,!0)},isDisabled:function(){return Ip.isDisabled(a)}};return{editorContainer:a.element.dom,api:g}},cG=Object.freeze({__proto__:null,render:aG}),sG="contexttoolbar-show",lG="contexttoolbar-hide",fG=function(t){return{hide:function(){return Sa(t,ia())},getValue:function(){return tv.getValue(t)}}},dG=function(t,n){return Ha(_B,(function(e,r){var o=t.get(e),i=fG(o);n.onAction(i,r.event.buttonApi)}))},mG=function(t,n,e){var r=n.original;r.primary;var o=_(r,["primary"]),i=xi(zC(D(D({},o),{type:"button",onAction:v})));return DW(i,e.backstage.shared.providers,[dG(t,n)])},gG=function(t,n,e){var r=n.original;r.primary;var o=_(r,["primary"]),i=xi(DC(D(D({},o),{type:"togglebutton",onAction:v})));return AW(i,e.backstage.shared.providers,[dG(t,n)])},hG=function(t,n,e){var r={backstage:{shared:{providers:e}}};return"contextformtogglebutton"===n.type?gG(t,n,r):mG(t,n,r)},vG=function(t,n,e){var r=$(n,(function(n){return kS(hG(t,n,e))})),o=function(){return $(r,(function(t){return t.asSpec()}))},i=function(t){return gt(n,(function(n,e){return n.primary?V.from(r[e]).bind((function(n){return n.getOpt(t)})).filter(k(Ip.isDisabled)):V.none()}))};return{asSpecs:o,findPrimary:i}},pG=function(t,n){var e=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),r=kS(jD.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:e,selectOnFocus:!0,inputBehaviours:mf([Dw.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){return ka(t),!0}))},onLeft:function(t,n){return n.cut(),V.none()},onRight:function(t,n){return n.cut(),V.none()}})])})),o=vG(r,t.commands,n);return[{title:V.none(),items:[r.asSpec()]},{title:V.none(),items:o.asSpecs()}]},bG=function(t,n,e){return Jj({type:t,uid:oc("context-toolbar"),initGroups:pG(n,e),onEscape:V.none,cyclicKeying:!0,providers:e})},yG={renderContextForm:bG,buildInitGroups:pG},wG=function(t,n,e){return void 0===e&&(e=.01),n.bottom-t.y>=e&&t.bottom-n.y>=e},xG=function(t){var n=t.getBoundingClientRect();if(n.height<=0&&n.width<=0){var e=Oe(nn.fromDom(t.startContainer),t.startOffset).element,r=dn(e)?pe(e):V.some(e);return r.filter(fn).map((function(t){return t.dom.getBoundingClientRect()})).getOr(n)}return n},SG=function(t){var n=t.selection.getRng(),e=xG(n);if(t.inline){var r=Ir();return Yr(r.left+e.left,r.top+e.top,e.width,e.height)}var o=Qr(nn.fromDom(t.getBody()));return Yr(o.x+e.left,o.y+e.top,e.width,e.height)},CG=function(t,n){return n.filter(Ve).map(Qr).getOrThunk((function(){return SG(t)}))},kG=function(t,n,e){var r=Math.max(t.x+e,n.x),o=Math.min(t.right-e,n.right);return{x:r,width:o-r}},OG=function(t,n,e,r,o,i){var u=nn.fromDom(t.getContainer()),a=Ps(u,".tox-editor-header").getOr(u),c=Jr(a),s=c.y>=n.bottom,l=r&&!s;if(t.inline&&l)return{y:Math.max(c.bottom+i,e.y),bottom:e.bottom};if(t.inline&&!l)return{y:e.y,bottom:Math.min(c.y-i,e.bottom)};var f="line"===o?Jr(u):n;return l?{y:Math.max(c.bottom+i,e.y),bottom:Math.min(f.bottom-i,e.bottom)}:{y:Math.max(f.y+i,e.y),bottom:Math.min(c.y-i,e.bottom)}},zG=function(t,n,e,r){void 0===r&&(r=0);var o=Nr(window),i=Jr(nn.fromDom(t.getContentAreaContainer())),u=MO(t)||DO(t)||AO(t),a=kG(i,o,r),c=a.x,s=a.width;if(t.inline&&!u)return Yr(c,o.y,s,o.height);var l=n.header.isPositionedAtTop(),f=OG(t,i,o,l,e,r),d=f.y,m=f.bottom;return Yr(c,d,s,m-d)},TG=12,MG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},DG={maxHeightFunction:Td(),maxWidthFunction:xj()},_G=function(t,n){var e=t.selection.getRng(),r=Oe(nn.fromDom(e.startContainer),e.startOffset);return e.startContainer===e.endContainer&&e.startOffset===e.endOffset-1&&se(r.element,n)},AG=function(t,n,e){var r=Ze(t,"position");Xe(t,"position",n);var o=e(t);return r.each((function(n){return Xe(t,"position",n)})),o},HG=function(t){return"node"===t},EG=function(t,n,e,r,o){var i=SG(t),u=r.lastElement().exists((function(t){return se(e,t)}));if(_G(t,e))return u?bS:mS;if(u)return AG(n,r.getMode(),(function(){var t=wG(i,Jr(n));return t&&!r.isReposition()?wS:bS}));var a="fixed"===r.getMode()?o.y+Ir().top:o.y,c=ur(n)+TG;return a+c<=i.y?mS:gS},RG=function(t,n,e,r){var o=function(n){return function(r,o,i,u,a){var c=EG(t,u,n,e,a),s=D(D({},r),{y:a.y,height:a.height});return D(D({},c(s,o,i,u,a)),{alwaysFit:!0})}},i=function(t){return HG(r)?[o(t)]:[]},u={onLtr:function(t){return[Gl,$l,Ul,Nl,Wl,jl].concat(i(t))},onRtl:function(t){return[Gl,$l,Wl,jl,Ul,Nl].concat(i(t))}},a={onLtr:function(t){return[$l,Nl,jl,Ul,Wl,Gl].concat(i(t))},onRtl:function(t){return[$l,jl,Nl,Wl,Ul,Gl].concat(i(t))}};return n?a:u},BG=function(t,n,e,r){return"line"===n?{bubble:Hd(TG,0,MG),layouts:{onLtr:function(){return[ql]},onRtl:function(){return[Xl]}},overrides:DG}:{bubble:Hd(0,TG,MG,1/TG),layouts:RG(t,e,r,n),overrides:DG}},VG=function(t,n){var e=Y(n,(function(n){return n.predicate(t.dom)})),r=K(e,(function(t){return"contexttoolbar"===t.type})),o=r.pass,i=r.fail;return{contextToolbars:o,contextForms:i}},IG=function(t){if(t.length<=1)return t;var n=function(n){return U(t,(function(t){return t.position===n}))},e=function(n){return Y(t,(function(t){return t.position===n}))},r=n("selection"),o=n("node");if(r||o){if(o&&r){var i=e("node"),u=$(e("selection"),(function(t){return D(D({},t),{position:"node"})}));return i.concat(u)}return e(r?"selection":"node")}return e("line")},PG=function(t){if(t.length<=1)return t;var n=function(n){return tt(t,(function(t){return t.position===n}))},e=n("selection").orThunk((function(){return n("node")})).orThunk((function(){return n("line")})).map((function(t){return t.position}));return e.fold((function(){return[]}),(function(n){return Y(t,(function(t){return t.position===n}))}))},LG=function(t,n,e){var r=VG(t,n);if(r.contextForms.length>0)return V.some({elem:t,toolbars:[r.contextForms[0]]});var o=VG(t,e);if(o.contextForms.length>0)return V.some({elem:t,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=IG(r.contextToolbars.concat(o.contextToolbars));return V.some({elem:t,toolbars:i})}return V.none()},FG=function(t,n,e){return t(n)?V.none():yu(n,(function(t){if(fn(t)){var n=VG(t,e.inNodeScope),r=n.contextToolbars,o=n.contextForms,i=o.length>0?o:PG(r);return i.length>0?V.some({elem:t,toolbars:i}):V.none()}return V.none()}),t)},NG=function(t,n){var e=nn.fromDom(n.getBody()),r=function(t){return se(t,e)},o=function(t){return!r(t)&&!de(e,t)},i=nn.fromDom(n.selection.getNode());return o(i)?V.none():LG(i,t.inNodeScope,t.inEditorScope).orThunk((function(){return FG(r,i,t)}))},jG=function(t,n){var e={},r=[],o=[],i={},u={},a=function(t,a){var c=xi(IC(a));e[t]=c,c.launch.map((function(e){i["form:"+t]=D(D({},a.launch),{type:"contextformtogglebutton"===e.type?"togglebutton":"button",onAction:function(){n(c)}})})),"editor"===c.scope?o.push(c):r.push(c),u[t]=c},c=function(t,n){LC(n).each((function(e){"editor"===n.scope?o.push(e):r.push(e),u[t]=e}))},s=ht(t);return q(s,(function(n){var e=t[n];"contextform"===e.type?a(n,e):"contexttoolbar"===e.type&&c(n,e)})),{forms:e,inNodeScope:r,inEditorScope:o,lookupTable:u,formNavigators:i}},UG=oc("forward-slide"),WG=oc("backward-slide"),GG=oc("change-slide-event"),$G="tox-pop--resizing",qG=function(t){var n=ou([]);return nS.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){n.set([]),nS.getContent(t).each((function(t){er(t.element,"visibility")})),as(t.element,$G),er(t.element,"width")},inlineBehaviours:mf([Nw("context-toolbar-events",[Na($u(),(function(t,n){"width"===n.event.raw.propertyName&&(as(t.element,$G),er(t.element,"width"))})),Ha(GG,(function(t,n){var e=t.element;er(e,"width");var r=pr(e);nS.setContent(t,n.event.contents),is(e,$G);var o=pr(e);Xe(e,"width",r+"px"),nS.getContent(t).each((function(t){n.event.focus.bind((function(t){return Cf(t),Tf(e)})).orThunk((function(){return Dw.focusIn(t),zf(De(e))}))})),xS.setTimeout((function(){Xe(t.element,"width",o+"px")}),0)})),Ha(UG,(function(t,e){nS.getContent(t).each((function(e){n.set(n.get().concat([{bar:e,focus:zf(De(t.element))}]))})),Ca(t,GG,{contents:e.event.forwardContents,focus:V.none()})})),Ha(WG,(function(t,e){dt(n.get()).each((function(e){n.set(n.get().slice(0,n.get().length-1)),Ca(t,GG,{contents:Ms(e.bar),focus:e.focus})}))}))]),Dw.config({mode:"special",onEscape:function(e){return dt(n.get()).fold((function(){return t.onEscape()}),(function(t){return Sa(e,WG),V.some(!0)}))}})]),lazySink:function(){return ro.value(t.sink)}})},XG="tox-pop--transition",KG=function(t,n,e,r){var o=r.backstage,i=o.shared,u=ee().deviceType.isTouch,a=od(),c=od(),s=od(),l=Ts(qG({sink:e,onEscape:function(){return t.focus(),V.some(!0)}})),f=function(){var n=s.get().getOr("node"),e=HG(n)?1:0;return zG(t,i,n,e)},d=function(){return!t.removed&&!(u()&&o.isContextMenuOpen())},m=function(t){return Dt(Et(t,a.get(),se),!0)},g=function(){if(d()){var n=f(),e=Dt(s.get(),"node")?CG(t,a.get()):SG(t);return n.height<=0||!wG(e,n)}return!0},h=function(){a.clear(),c.clear(),s.clear(),nS.hide(l)},p=function(){if(nS.isOpen(l)){var t=l.element;er(t,"display"),g()?Xe(t,"display","none"):(c.set(0),nS.reposition(l))}},b=function(n){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[n],behaviours:mf([Dw.config({mode:"acyclic"}),Nw("pop-dialog-wrap-events",[ja((function(n){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Dw.focusIn(n)}))})),Ua((function(n){t.shortcuts.remove("ctrl+F9")}))])])}},y=hn((function(){return jG(n,(function(t){var n=S([t]);Ca(l,UG,{forwardContents:b(n)})}))})),w=function(n,e){return WW(t,{buttons:n,toolbar:e.items,allowToolbarGroups:!1},r,V.some(["form:"]))},x=function(t,n){return yG.buildInitGroups(t,n)},S=function(n){var e=t.ui.registry.getAll().buttons,r=y(),o=D(D({},e),r.formNavigators),u=EO(t)===jC.scrolling?jC.scrolling:jC.default,a=et($(n,(function(t){return"contexttoolbar"===t.type?w(o,t):x(t,i.providers)})));return Jj({type:u,uid:oc("context-toolbar"),initGroups:a,onEscape:V.none,cyclicKeying:!0,providers:i.providers})},C=function(n,r){var o="node"===n?i.anchors.node(r):i.anchors.cursor(),s=BG(t,n,u(),{lastElement:a.get,isReposition:function(){return Dt(c.get(),0)},getMode:function(){return Pg.getMode(e)}});return So(o,s)},k=function(t,n){if(O.cancel(),d()){var r=S(t),o=t[0].position,i=C(o,n);s.set(o),c.set(1);var u=l.element;er(u,"display"),m(n)||(as(u,XG),Pg.reset(e,l)),nS.showWithinBounds(l,b(r),{anchor:i,transition:{classes:[XG],mode:"placement"}},(function(){return V.some(f())})),n.fold(a.clear,a.set),g()&&Xe(u,"display","none")}},O=WS((function(){if(t.hasFocus()&&!t.removed)if(cs(l.element,XG))O.throttle();else{var n=y();NG(n,t).fold(h,(function(t){k(t.toolbars,V.some(t.elem))}))}}),17);t.on("init",(function(){t.on("remove",h),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",p),t.on("click keyup focus SetContent",O.throttle),t.on(lG,h),t.on(sG,(function(n){var e=y();zt(e.lookupTable,n.toolbarKey).each((function(e){k([e],Vt(n.target!==t,n.target)),nS.getContent(l).each(Dw.focusIn)}))})),t.on("focusout",(function(n){xS.setEditorTimeout(t,(function(){Tf(e.element).isNone()&&Tf(l.element).isNone()&&h()}),0)})),t.on("SwitchMode",(function(){t.mode.isReadOnly()&&h()})),t.on("AfterProgressState",(function(n){n.state?h():t.hasFocus()&&O.throttle()})),t.on("NodeChange",(function(t){Tf(l.element).fold(O.throttle,v)}))}))},YG=function(t){var n=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];q(n,(function(n){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onAction:kU(t,n.cmd),onSetup:xU(t,n.name)})})),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:kU(t,"JustifyNone")})},JG={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},QG=function(){var t="[0-9]+",n="[+-]?"+t,e="[eE]"+n,r="\\.",o=function(t){return"(?:"+t+")?"},i=["Infinity",t+r+o(t)+o(e),r+t+o(e),t+o(e)].join("|"),u="[+-]?(?:"+i+")";return new RegExp("^("+u+")(.*)$")}(),ZG=function(t,n){return U(n,(function(n){return U(JG[n],(function(n){return t===n}))}))},t$=function(t,n){var e=V.from(QG.exec(t));return e.bind((function(t){var e=Number(t[1]),r=t[2];return ZG(r,n)?V.some({value:e,unit:r}):V.none()}))},n$=function(t,n){return t$(t,n).map((function(t){var n=t.value,e=t.unit;return n+e}))},e$=function(t,n){var e=function(){var e=n.getOptions(t),r=n.getCurrent(t).map(n.hash),o=od();return $(e,(function(e){return{type:"togglemenuitem",text:n.display(e),onSetup:function(i){var u=function(t){t&&(o.on((function(t){return t.setActive(!1)})),o.set(i)),i.setActive(t)};u(Dt(r,n.hash(e)));var a=n.watcher(t,e,u);return function(){o.clear(),a()}},onAction:function(){return n.setCurrent(t,e)}}}))};t.ui.registry.addMenuButton(n.name,{tooltip:n.text,icon:n.icon,fetch:function(t){return t(e())},onSetup:n.onToolbarSetup}),t.ui.registry.addNestedMenuItem(n.name,{type:"nestedmenuitem",text:n.text,getSubmenuItems:e,onSetup:n.onMenuSetup})},r$={name:"lineheight",text:"Line height",icon:"line-height",getOptions:OO,hash:function(t){return n$(t,["fixed","relative","empty"]).getOr(t)},display:x,watcher:function(t,n,e){return t.formatter.formatChanged("lineheight",e,!1,{value:n}).unbind},getCurrent:function(t){return V.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,n){return t.execCommand("LineHeight",!1,n)}},o$=function(t){var n=V.from(zO(t));return n.map((function(n){return{name:"language",text:"Language",icon:"language",getOptions:w(n),hash:function(t){return l(t.customCode)?t.code:t.code+"/"+t.customCode},display:function(t){return t.title},watcher:function(t,n,e){return t.formatter.formatChanged("lang",e,!1,{value:n.code,customValue:n.customCode}).unbind},getCurrent:function(t){var n=nn.fromDom(t.selection.getNode());return wu(n,(function(t){return V.some(t).filter(fn).bind((function(t){var n=Ue(t,"lang");return n.map((function(n){var e=Ue(t,"data-mce-lang").getOrUndefined();return{code:n,customCode:e,title:""}}))}))}))},setCurrent:function(t,n){return t.execCommand("Lang",!1,n)},onToolbarSetup:function(n){var e=ed();return n.setActive(t.formatter.match("lang",{},void 0,!0)),e.set(t.formatter.formatChanged("lang",n.setActive,!0)),e.clear}}}))},i$=function(t){e$(t,r$),o$(t).each((function(n){return e$(t,n)}))},u$=function(t,n){VU(t,n),UU(t,n),uW(t,n),rW(t,n),QU(t,n)},a$=function(t){return SU(t,"NodeChange",(function(n){n.setDisabled(!t.queryCommandState("outdent"))}))},c$=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:a$(t),onAction:kU(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:kU(t,"indent")})},s$=function(t){c$(t)},l$=function(t,n){return function(){t.execCommand("mceToggleFormat",!1,n)}},f$=function(t){QE.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(n,e){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onSetup:xU(t,n.name),onAction:l$(t,n.name)})}));for(var n=1;n<=6;n++){var e="h"+n;t.ui.registry.addToggleButton(e,{text:e.toUpperCase(),tooltip:"Heading "+n,onSetup:xU(t,e),onAction:l$(t,e)})}},d$=function(t){QE.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(n){t.ui.registry.addButton(n.name,{tooltip:n.text,icon:n.icon,onAction:kU(t,n.action)})}))},m$=function(t){QE.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(n){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onAction:kU(t,n.action),onSetup:xU(t,n.name)})}))},g$=function(t){f$(t),d$(t),m$(t)},h$=function(t){QE.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(n){t.ui.registry.addMenuItem(n.name,{text:n.text,icon:n.icon,shortcut:n.shortcut,onAction:kU(t,n.action)})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:l$(t,"code")})},v$=function(t){g$(t),h$(t)},p$=function(t,n){return SU(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(e){e.setDisabled(t.mode.isReadOnly()||!t.undoManager[n]())}))},b$=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:p$(t,"hasUndo"),onAction:kU(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:p$(t,"hasRedo"),onAction:kU(t,"redo")})},y$=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:p$(t,"hasUndo"),onAction:kU(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:p$(t,"hasRedo"),onAction:kU(t,"redo")})},w$=function(t){b$(t),y$(t)},x$=function(t){return SU(t,"VisualAid",(function(n){n.setActive(t.hasVisual)}))},S$=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:x$(t),onAction:kU(t,"mceToggleVisualAid")})},C$=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:kU(t,"mceToggleVisualAid")})},k$=function(t){C$(t),S$(t)},O$=function(t,n){YG(t),v$(t),u$(t,n),w$(t),nM(t),k$(t),s$(t),i$(t)},z$=function(t,n){return{type:"makeshift",x:t,y:n}},T$=function(t,n,e){return z$(t.x+n,t.y+e)},M$=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},D$=function(t){if(M$(t)){var n=t.touches[0];return z$(n.pageX,n.pageY)}return z$(t.pageX,t.pageY)},_$=function(t){if(M$(t)){var n=t.touches[0];return z$(n.clientX,n.clientY)}return z$(t.clientX,t.clientY)},A$=function(t,n){var e=dO.DOM.getPos(t);return T$(n,e.x,e.y)},H$=function(t,n){return"contextmenu"===n.type||"longpress"===n.type?t.inline?D$(n):A$(t.getContentAreaContainer(),_$(n)):E$(t)},E$=function(t){return{type:"selection",root:nn.fromDom(t.selection.getNode())}},R$=function(t){return{type:"node",node:V.some(nn.fromDom(t.selection.getNode())),root:nn.fromDom(t.getBody())}},B$=function(t,n,e){switch(e){case"node":return R$(t);case"point":return H$(t,n);case"selection":return E$(t)}},V$=function(t,n,e,r,o,i){var u=e(),a=B$(t,n,i);GB(u,UC.CLOSE_ON_EXECUTE,r,!1).map((function(t){n.preventDefault(),nS.showMenuAt(o,{anchor:a},{menu:{markers:mk("normal")},data:t})}))},I$={onLtr:function(){return[$l,Nl,jl,Ul,Wl,Gl,mS,gS,dS,lS,fS,sS]},onRtl:function(){return[$l,jl,Nl,Wl,Ul,Gl,mS,gS,fS,sS,dS,lS]}},P$=12,L$={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},F$=function(t,n){var e=t.selection;if(e.isCollapsed()||n.touches.length<1)return!1;var r=n.touches[0],o=e.getRng(),i=eg(t.getWin(),km.domRange(o));return i.exists((function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY}))},N$=function(t){var n=t.selection.getRng(),e=function(){xS.setEditorTimeout(t,(function(){t.selection.setRng(n)}),10),i()};t.once("touchend",e);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var o=function(){return i()};t.once("longpresscancel",o);var i=function(){t.off("touchend",e),t.off("longpresscancel",o),t.off("mousedown",r)}},j$=function(t,n,e){var r=B$(t,n,e),o="point"===e?P$:0;return D({bubble:Hd(0,o,L$),layouts:I$,overrides:{maxWidthFunction:xj(),maxHeightFunction:Td()}},r)},U$=function(t,n,e,r,o,i,u){var a=j$(t,n,i);GB(e,UC.CLOSE_ON_EXECUTE,r,!0).map((function(e){n.preventDefault(),nS.showMenuWithinBounds(o,{anchor:a},{menu:{markers:mk("normal"),highlightImmediately:u},data:e,type:"horizontal"},(function(){return V.some(zG(t,r.shared,"node"===i?"node":"selection"))})),t.fire(lG)}))},W$=function(t,n,e,r,o,i){var u=ee(),a=u.os.isiOS(),c=u.os.isOSX(),s=u.os.isAndroid(),l=u.deviceType.isTouch(),f=function(){return!(s||a||c&&l)},d=function(){var u=e();U$(t,n,u,r,o,i,f())};if((c||a)&&"node"!==i){var m=function(){N$(t),d()};F$(t,n)?m():(t.once("selectionchange",m),t.once("touchend",(function(){return t.off("selectionchange",m)})))}else d()},G$=function(t){return"string"===typeof t?t.split(/[ ,]/):t},$$=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},q$=function(t,n,e){var r=t.ui.registry.getAll().contextMenus;return V.from(t.getParam(n)).map(G$).getOrThunk((function(){return Y(G$(e),(function(t){return Tt(r,t)}))}))},X$=function(t){return!1===t.getParam("contextmenu")},K$=function(t){return q$(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},Y$=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},J$=function(t){return i(t)?"|"===t:"separator"===t.type},Q$={type:"separator"},Z$=function(t){var n=function(t){return{text:t.text,icon:t.icon,disabled:t.disabled,shortcut:t.shortcut}};if(i(t))return t;switch(t.type){case"separator":return Q$;case"submenu":return D(D({type:"nestedmenuitem"},n(t)),{getSubmenuItems:function(){var n=t.getSubmenuItems();return i(n)?n:$(n,Z$)}});default:return D(D({type:"menuitem"},n(t)),{onAction:p(t.onAction)})}},tq=function(t,n){if(0===n.length)return t;var e=dt(t).filter((function(t){return!J$(t)})),r=e.fold((function(){return[]}),(function(t){return[Q$]}));return t.concat(r).concat(n).concat([Q$])},nq=function(t,n,e){var r=Q(n,(function(n,r){return zt(t,r.toLowerCase()).map((function(t){var r=t.update(e);if(i(r))return tq(n,r.split(" "));if(r.length>0){var o=$(r,Z$);return tq(n,o)}return n})).getOrThunk((function(){return n.concat([r])}))}),[]);return r.length>0&&J$(r[r.length-1])&&r.pop(),r},eq=function(t,n){return n.ctrlKey&&!$$(t)},rq=function(t,n){return"longpress"!==n.type&&(2!==n.button||n.target===t.getBody()&&""===n.pointerType)},oq=function(t,n){return rq(t,n)?t.selection.getStart(!0):n.target},iq=function(t,n){var e=Y$(t),r=rq(t,n)?"selection":"point";if(qt(e)){var o=oq(t,n),i=VM(nn.fromDom(o),e);return i?"node":r}return r},uq=function(t,n,e){var r=ee(),o=r.deviceType.isTouch,i=Ts(nS.sketch({dom:{tag:"div"},lazySink:n,onEscape:function(){return t.focus()},onShow:function(){return e.setContextMenuState(!0)},onHide:function(){return e.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:mf([Nw("dismissContextMenu",[Ha(ga(),(function(n,e){bh.close(n),t.focus()}))])])})),u=function(t){return nS.hide(i)},a=function(n){if($$(t)&&n.preventDefault(),!eq(t,n)&&!X$(t)){var r=iq(t,n),u=function(){var e=oq(t,n),r=t.ui.registry.getAll(),o=K$(t);return nq(r.contextMenus,o,e)},a=o()?W$:V$;a(t,n,u,e,i,r)}};t.on("init",(function(){var n="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");t.on(n,u),t.on("longpress contextmenu",a)}))},aq=uu.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),cq=function(t){return function(n){return n.translate(-t.left,-t.top)}},sq=function(t){return function(n){return n.translate(t.left,t.top)}},lq=function(t){return function(n,e){return Q(t,(function(t,n){return n(t)}),lr(n,e))}},fq=function(t,n,e){return t.fold(lq([sq(e),cq(n)]),lq([cq(n)]),lq([]))},dq=function(t,n,e){return t.fold(lq([sq(e)]),lq([]),lq([sq(n)]))},mq=function(t,n,e){return t.fold(lq([]),lq([cq(e)]),lq([sq(n),cq(e)]))},gq=function(t,n,e,r,o,i){var u=dq(t,o,i),a=dq(n,o,i);return Math.abs(u.left-a.left)<=e&&Math.abs(u.top-a.top)<=r},hq=function(t,n,e,r,o,i){var u=dq(t,o,i),a=dq(n,o,i),c=Math.abs(u.left-a.left),s=Math.abs(u.top-a.top);return lr(c,s)},vq=function(t,n,e){var r=t.fold((function(t,n){return{position:V.some("absolute"),left:V.some(t+"px"),top:V.some(n+"px")}}),(function(t,n){return{position:V.some("absolute"),left:V.some(t-e.left+"px"),top:V.some(n-e.top+"px")}}),(function(t,n){return{position:V.some("fixed"),left:V.some(t+"px"),top:V.some(n+"px")}}));return D({right:V.none(),bottom:V.none()},r)},pq=function(t,n,e){return t.fold((function(t,r){return yq(t+n,r+e)}),(function(t,r){return wq(t+n,r+e)}),(function(t,r){return xq(t+n,r+e)}))},bq=function(t,n,e,r){var o=function(t,o){return function(i,u){var a=t(n,e,r);return o(i.getOr(a.left),u.getOr(a.top))}};return t.fold(o(mq,yq),o(dq,wq),o(fq,xq))},yq=aq.offset,wq=aq.absolute,xq=aq.fixed,Sq=function(t,n){var e=je(t,n);return l(e)?NaN:parseInt(e,10)},Cq=function(t,n){var e=t.element,r=Sq(e,n.leftAttr),o=Sq(e,n.topAttr);return isNaN(r)||isNaN(o)?V.none():V.some(lr(r,o))},kq=function(t,n,e){var r=t.element;Fe(r,n.leftAttr,e.left+"px"),Fe(r,n.topAttr,e.top+"px")},Oq=function(t,n){var e=t.element;Ge(e,n.leftAttr),Ge(e,n.topAttr)},zq=function(t,n,e,r){return Cq(t,n).fold((function(){return e}),(function(t){return xq(t.left+r.left,t.top+r.top)}))},Tq=function(t,n,e,r,o,i){var u=zq(t,n,e,r),a=n.mustSnap?_q(t,n,u,o,i):Aq(t,n,u,o,i),c=fq(u,o,i);return kq(t,n,c),a.fold((function(){return{coord:xq(c.left,c.top),extra:V.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))},Mq=function(t,n){Oq(t,n)},Dq=function(t,n,e,r){return gt(t,(function(t){var o=t.sensor,i=gq(n,o,t.range.left,t.range.top,e,r);return i?V.some({output:bq(t.output,n,e,r),extra:t.extra}):V.none()}))},_q=function(t,n,e,r,o){var i=n.getSnapPoints(t),u=Dq(i,e,r,o);return u.orThunk((function(){var t=Q(i,(function(t,n){var i=n.sensor,u=hq(e,i,n.range.left,n.range.top,r,o);return t.deltas.fold((function(){return{deltas:V.some(u),snap:V.some(n)}}),(function(e){var r=(u.left+u.top)/2,o=(e.left+e.top)/2;return r<=o?{deltas:V.some(u),snap:V.some(n)}:t}))}),{deltas:V.none(),snap:V.none()});return t.snap.map((function(t){return{output:bq(t.output,e,r,o),extra:t.extra}}))}))},Aq=function(t,n,e,r,o){var i=n.getSnapPoints(t);return Dq(i,e,r,o)},Hq=function(t,n,e){return{coord:bq(t.output,t.output,n,e),extra:t.extra}},Eq=function(t,n,e,r){var o=n.getTarget(t.element);if(n.repositionTarget){var i=me(t.element),u=Ir(i),a=GL(o),c=Hq(r,u,a),s=vq(c.coord,u,a);Ye(o,s)}},Rq=Object.freeze({__proto__:null,snapTo:Eq}),Bq="data-initial-z-index",Vq=function(t){pe(t.element).filter(fn).each((function(t){Ue(t,Bq).fold((function(){return er(t,"z-index")}),(function(n){return Xe(t,"z-index",n)})),Ge(t,Bq)}))},Iq=function(t){pe(t.element).filter(fn).each((function(n){Ze(n,"z-index").each((function(t){Fe(n,Bq,t)})),Xe(n,"z-index",Je(t.element,"z-index"))}))},Pq=function(t,n){t.getSystem().addToGui(n),Iq(n)},Lq=function(t){Vq(t),t.getSystem().removeFromGui(t)},Fq=function(t,n,e){return t.getSystem().build(sD.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[n]},events:e}))},Nq=$i("snaps",[Di("getSnapPoints"),al("onSensor"),Di("leftAttr"),Di("topAttr"),Xi("lazyViewport",Zr),Xi("mustSnap",!1)]),jq=[Xi("useFixed",z),Di("blockerClass"),Xi("getTarget",x),Xi("onDrag",v),Xi("repositionTarget",!0),Xi("onDrop",v),tu("getBounds",Zr),Nq],Uq=function(t){return Rt(Ze(t,"left"),Ze(t,"top"),Ze(t,"position"),(function(t,n,e){var r="fixed"===e?xq:yq;return r(parseInt(t,10),parseInt(n,10))})).getOrThunk((function(){var n=mr(t);return wq(n.left,n.top)}))},Wq=function(t,n,e,r,o){var i=o.bounds,u=dq(n,e,r),a=Ml(u.left,i.x,i.x+i.width-o.width),c=Ml(u.top,i.y,i.y+i.height-o.height),s=wq(a,c);return n.fold((function(){var t=mq(s,e,r);return yq(t.left,t.top)}),w(s),(function(){var t=fq(s,e,r);return xq(t.left,t.top)}))},Gq=function(t,n,e,r,o,i,u){var a=n.fold((function(){var t=pq(e,i.left,i.top),n=fq(t,r,o);return xq(n.left,n.top)}),(function(n){var u=Tq(t,n,e,i,r,o);return u.extra.each((function(e){n.onSensor(t,e)})),u.coord}));return Wq(t,a,r,o,u)},$q=function(t,n,e,r){var o=n.getTarget(t.element);if(n.repositionTarget){var i=me(t.element),u=Ir(i),a=GL(o),c=Uq(o),s=Gq(t,n.snaps,c,u,a,r,e),l=vq(s,u,a);Ye(o,l)}n.onDrag(t,o,r)},qq=function(t,n){return{bounds:t.getBounds(),height:ar(n.element),width:br(n.element)}},Xq=function(t,n,e,r,o){var i=e.update(r,o),u=e.getStartData().getOrThunk((function(){return qq(n,t)}));i.each((function(e){$q(t,n,u,e)}))},Kq=function(t,n,e,r){n.each(Lq),e.snaps.each((function(n){Mq(t,n)}));var o=e.getTarget(t.element);r.reset(),e.onDrop(t,o)},Yq=function(t){return function(n,e){var r=function(t){e.setStartData(qq(n,t))};return Ma(A([Ha(la(),(function(t){e.getStartData().each((function(){return r(t)}))}))],t(n,e,r),!0))}},Jq=function(t){return Ma([Ha(Eu(),t.forceDrop),Ha(Vu(),t.drop),Ha(Ru(),(function(n,e){t.move(e.event)})),Ha(Bu(),t.delayDrop)])},Qq=function(t){return V.from(lr(t.x,t.y))},Zq=function(t,n){return lr(n.left-t.left,n.top-t.top)},tX=Object.freeze({__proto__:null,getData:Qq,getDelta:Zq}),nX=function(t,n,e){return[Ha(Eu(),(function(r,o){var i=o.event.raw;if(0===i.button){o.stop();var u=function(){return Kq(r,V.some(s),t,n)},a=IM(u,200),c={drop:u,delayDrop:a.schedule,forceDrop:u,move:function(e){a.cancel(),Xq(r,t,n,tX,e)}},s=Fq(r,t.blockerClass,Jq(c)),l=function(){e(r),Pq(r,s)};l()}}))]},eX=A(A([],jq,!0),[fl("dragger",{handlers:Yq(nX)})],!1),rX=function(t){return Ma([Ha(Du(),t.forceDrop),Ha(Au(),t.drop),Ha(Hu(),t.drop),Ha(_u(),(function(n,e){t.move(e.event)}))])},oX=function(t){var n=t[0];return V.some(lr(n.clientX,n.clientY))},iX=function(t){var n=t.raw,e=n.touches;return 1===e.length?oX(e):V.none()},uX=function(t,n){return lr(n.left-t.left,n.top-t.top)},aX=Object.freeze({__proto__:null,getData:iX,getDelta:uX}),cX=function(t,n,e){var r=od(),o=function(e){Kq(e,r.get(),t,n),r.clear()};return[Ha(Du(),(function(i,u){u.stop();var a=function(){return o(i)},c={drop:a,delayDrop:v,forceDrop:a,move:function(e){Xq(i,t,n,aX,e)}},s=Fq(i,t.blockerClass,rX(c));r.set(s);var l=function(){e(i),Pq(i,s)};l()})),Ha(_u(),(function(e,r){r.stop(),Xq(e,t,n,aX,r.event)})),Ha(Au(),(function(t,n){n.stop(),o(t)})),Ha(Hu(),o)]},sX=A(A([],jq,!0),[fl("dragger",{handlers:Yq(cX)})],!1),lX=function(t,n,e){return A(A([],nX(t,n,e),!0),cX(t,n,e),!0)},fX=A(A([],jq,!0),[fl("dragger",{handlers:Yq(lX)})],!1),dX=eX,mX=sX,gX=fX,hX=Object.freeze({__proto__:null,mouse:dX,touch:mX,mouseOrTouch:gX}),vX=function(){var t=V.none(),n=V.none(),e=function(){t=V.none(),n=V.none()},r=function(n,e){var r=t.map((function(t){return n.getDelta(t,e)}));return t=V.some(e),r},o=function(t,n){return t.getData(n).bind((function(n){return r(t,n)}))},i=function(t){n=V.some(t)},u=function(){return n},a=w({});return Oc({readState:a,reset:e,update:o,getStartData:u,setStartData:i})},pX=Object.freeze({__proto__:null,init:vX}),bX=pf({branchKey:"mode",branches:hX,name:"dragging",active:{events:function(t,n){var e=t.dragger;return e.handlers(t,n)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:V.from(t.extra)}}},state:pX,apis:Rq}),yX=40,wX=yX/2,xX=function(t,n,e,r,o,i){return t.fold((function(){return bX.snap({sensor:wq(e-wX,r-wX),range:lr(o,i),output:wq(V.some(e),V.some(r)),extra:{td:n}})}),(function(t){var o=e-wX,i=r-wX,u=yX,a=yX,c=t.element.dom.getBoundingClientRect();return bX.snap({sensor:wq(o,i),range:lr(u,a),output:wq(V.some(e-c.width/2),V.some(r-c.height/2)),extra:{td:n}})}))},SX=function(t,n,e){var r=function(t,n){return t.exists((function(t){return se(t,n)}))};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var i=o.td;r(n.get(),i)||(n.set(i),e(i))},mustSnap:!0}},CX=function(t){return kS(CS.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:mf([bX.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),N_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},kX=function(t,n){var e=ou([]),r=ou([]),o=ou(!1),i=od(),u=od(),a=function(t){var e=Qr(t);return xX(m.getOpt(n),t,e.x,e.y,e.width,e.height)},c=function(){return $(e.get(),(function(t){return a(t)}))},s=function(t){var e=Qr(t);return xX(g.getOpt(n),t,e.right,e.bottom,e.width,e.height)},l=function(){return $(r.get(),(function(t){return s(t)}))},f=SX(c,i,(function(n){u.get().each((function(e){t.fire("TableSelectorChange",{start:n,finish:e})}))})),d=SX(l,u,(function(n){i.get().each((function(e){t.fire("TableSelectorChange",{start:e,finish:n})}))})),m=CX(f),g=CX(d),h=Ts(m.asSpec()),v=Ts(g.asSpec()),p=function(n,e,r,o){var i=e.dom.getBoundingClientRect();er(n.element,"display");var u=ve(nn.fromDom(t.getBody())).dom.innerHeight,a=r(i),c=o(i,u);(a||c)&&Xe(n.element,"display","none")},b=function(t,n,e,r){var o=e(n);bX.snapTo(t,o);var i=function(t){return t[r]<0},u=function(t,n){return t[r]>n};p(t,n,i,u)},y=function(t){return b(h,t,a,"top")},w=function(){return i.get().each(y)},x=function(t){return b(v,t,s,"bottom")},S=function(){return u.get().each(x)};ee().deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){o.get()||(Wg(n,h),Wg(n,v),o.set(!0)),i.set(t.start),u.set(t.finish),t.otherCells.each((function(n){e.set(n.upOrLeftCells),r.set(n.downOrRightCells),y(t.start),x(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){w(),S()})),t.on("TableSelectionClear",(function(){o.get()&&(qg(h),qg(v),o.set(!1)),i.clear(),u.clear()})))},OX=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},zX=function(t,n,e){n.delimiter||(n.delimiter="");var r=function(r){var o=r||[],i=$(o,(function(n,r){return CS.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:n.name},action:function(e){t.focus(),t.selection.select(n.element),t.nodeChanged()},buttonBehaviours:mf([mz.button(e.isDisabled),cz()])})})),u={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+n.delimiter+" "}};return Q(i.slice(1),(function(t,n){var e=t;return e.push(u),e.push(n),e}),[i[0]])},o=function(n){var e=[],r=n.length;while(r-- >0){var o=n[r];if(1===o.nodeType&&!OX(o)){var i=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||e.push({name:i.name,element:o}),i.isPropagationStopped())break}}return e};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:mf([Dw.config({mode:"flow",selector:"div[role=button]"}),Ip.config({disabled:e.isDisabled}),cz(),yD.config({}),Lw.config({}),Nw("elementPathEvents",[ja((function(n,e){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Dw.focusIn(n)})),t.on("NodeChange",(function(t){var e=o(t.parents);e.length>0?Lw.set(n,r(e)):Lw.set(n,[])}))}))])]),components:[]}};(function(t){t[t["None"]=0]="None",t[t["Both"]=1]="Both",t[t["Vertical"]=2]="Vertical"})(_U||(_U={}));var TX=function(t,n,e,r,o){var i={};return i.height=ZW(r+n.top,wO(t),SO(t)),e===_U.Both&&(i.width=ZW(o+n.left,yO(t),xO(t))),i},MX=function(t,n,e){var r=nn.fromDom(t.getContainer()),o=TX(t,n,e,ur(r),pr(r));pt(o,(function(t,n){return Xe(r,n,QW(t))})),pT(t)},DX=function(t){var n=!t.hasPlugin("autoresize"),e=t.getParam("resize",n);return!1===e?_U.None:"both"===e?_U.Both:_U.Vertical},_X=function(t,n,e,r){var o=20,i=lr(e*o,r*o);return MX(t,i,n),V.some(!0)},AX=function(t,n){var e=DX(t);return e===_U.None?V.none():V.some(VS("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:n.translate("Resize")},behaviours:[bX.config({mode:"mouse",repositionTarget:!1,onDrag:function(n,r,o){return MX(t,o,e)},blockerClass:"tox-blocker"}),Dw.config({mode:"special",onLeft:function(){return _X(t,e,-1,0)},onRight:function(){return _X(t,e,1,0)},onUp:function(){return _X(t,e,0,-1)},onDown:function(){return _X(t,e,0,1)}}),yD.config({}),Yw.config({})]},n.icons))},HX=function(t,n){var e,r=function(t,e,r){return Lw.set(t,[Cs(n.translate(["{0} "+r,e[r]]))])};return CS.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:mf([mz.button(n.isDisabled),cz(),yD.config({}),Lw.config({}),tv.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Nw("wordcount-events",[Ga((function(t){var n=tv.getValue(t),e="words"===n.mode?"characters":"words";tv.setValue(t,{mode:e,count:n.count}),r(t,n.count,e)})),ja((function(n){t.on("wordCountUpdate",(function(t){var e=tv.getValue(n).mode;tv.setValue(n,{mode:e,count:t.wordCount}),r(n,t.wordCount,e)}))}))])]),eventOrder:(e={},e[na()]=["disabling","alloy.base.behaviour","wordcount-events"],e)})},EX=function(t,n){var e=function(){var t=OS.translate(["Powered by {0}","Tiny"]),n='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+t+'">'+t+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:n}}},r=function(){var r=[];return t.getParam("elementpath",!0,"boolean")&&r.push(zX(t,{},n)),t.hasPlugin("wordcount")&&r.push(HX(t,n)),t.getParam("branding",!0,"boolean")&&r.push(e()),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]},o=function(){var e=r(),o=AX(t,n);return e.concat(o.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:o()}},RX=function(t){var n,e=t.inline,r=e?cG:YW,o=GO(t)?PF:UL,i=V.none(),u=ee(),a=u.browser.isIE(),c=a?["tox-platform-ie"]:[],s=u.deviceType.isTouch(),l="tox-platform-touch",f=s?[l]:[],d=IO(t),m=UO(t),g=OS.isRtl()?{attributes:{dir:"rtl"}}:{},h={attributes:(n={},n[Id]=d?Lf.BottomToTop:Lf.TopToBottom,n)},p=function(){return i.bind(aU.getHeader)},b=function(){return o.isDocked(p)},y=function(){Xe(Q.element,"width",document.body.clientWidth+"px")},w=function(){var t=se(Ie(),m)&&"grid"===Je(m,"display"),n={dom:D({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(f)},g),behaviours:mf([Pg.config({useFixed:function(){return b()}})])},e={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ma([Ha(fa(),y)])};return So(n,t?e:{})},x=Ts(w()),S=function(){return ro.value(x)},C=kS({dom:{tag:"div",classes:["tox-anchorbar"]}}),k=function(){return i.bind((function(t){return C.getOpt(t)})).getOrDie("Could not find a anchor bar element")},O=function(){return i.bind((function(t){return aU.getToolbar(t)})).getOrDie("Could not find more toolbar element")},z=function(){return i.bind((function(t){return aU.getThrobber(t)})).getOrDie("Could not find throbber element")},T=kL(x,t,k),M=aU.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:T,onEscape:function(){t.focus()}}),_=EO(t),A=aU.parts.toolbar(D({dom:{tag:"div",classes:["tox-toolbar"]},getSink:S,providers:T.shared.providers,onEscape:function(){t.focus()},type:_,lazyToolbar:O,lazyHeader:function(){return p().getOrDie("Could not find header element")}},h)),H=aU.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:T.shared.providers,onEscape:function(){t.focus()},type:_}),E=aU.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),R=aU.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),B=aU.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:T}),I=t.getParam("statusbar",!0,"boolean"),P=I&&!e?V.some(EX(t,T.shared.providers)):V.none(),L={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[E,R]},F=AO(t),N=DO(t),j=MO(t),U=function(){return F?[H]:N?[A]:[]},W=aU.parts.header({dom:D({tag:"div",classes:["tox-editor-header"]},h),components:et([j?[M]:[],U(),jO(t)?[]:[C.asSpec()]]),sticky:GO(t),editor:t,sharedBackstage:T.shared}),G=et([d?[]:[W],e?[]:[L],d?[W]:[]]),$={dom:{tag:"div",classes:["tox-editor-container"]},components:G},q=et([[$],e?[]:P.toArray(),[B]]),X=WO(t),K=D(D({role:"application"},OS.isRtl()?{dir:"rtl"}:{}),X?{"aria-hidden":"true"}:{}),Y=Ts(aU.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(e?["tox-tinymce-inline"]:[]).concat(d?["tox-tinymce--toolbar-bottom"]:[]).concat(f).concat(c),styles:D({visibility:"hidden"},X?{opacity:"0",border:"0"}:{}),attributes:K},components:q,behaviours:mf([cz(),Ip.config({disableClass:"tox-tinymce--disabled"}),Dw.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));i=V.some(Y),t.shortcuts.add("alt+F9","focus menubar",(function(){aU.focusMenubar(Y)})),t.shortcuts.add("alt+F10","focus toolbar",(function(){aU.focusToolbar(Y)})),t.addCommand("ToggleToolbarDrawer",(function(){aU.toggleToolbarDrawer(Y)})),t.addQueryStateHandler("ToggleToolbarDrawer",(function(){return aU.isToolbarDrawerToggled(Y)}));var J=lD(Y),Q=lD(x);OL(t,J,Q);var Z=function(){var t={broadcastAll:Q.broadcast,broadcastOn:Q.broadcastOn,register:v};return{channels:t}},tt=function(){var n=QW(nG(t)),e=QW(rG(t));return t.inline||(nr("div","width",e)&&Xe(Y.element,"width",e),nr("div","height",n)?Xe(Y.element,"height",n):Xe(Y.element,"height","200px")),n},nt=function(){o.setup(t,T.shared,p),O$(t,T),uq(t,S,T),HN(t),ij(t,z,T.shared),bt(BO(t),(function(n,e){t.ui.registry.addGroupToolbarButton(e,n)}));var n=t.ui.registry.getAll(),e=n.buttons,i=n.menuItems,u=n.contextToolbars,a=n.sidebars,c=_O(t),s={menuItems:i,menus:XO(t),menubar:KO(t),toolbar:c.getOrThunk((function(){return YO(t)})),allowToolbarGroups:_===jC.floating,buttons:e,sidebar:a};KG(t,u,x,{backstage:T}),kX(t,x);var l=t.getElement(),f=tt(),d={mothership:J,uiMothership:Q,outerContainer:Y},m={targetNode:l,height:f};return r.render(t,d,s,T,m)};return{mothership:J,uiMothership:Q,backstage:T,renderUI:nt,getUi:Z}},BX=function(t,n){var e=V.from(je(t,"id")).fold((function(){var t=oc("dialog-describe");return Fe(n,"id",t),t}),x);Fe(t,"aria-describedby",e)},VX=function(t,n){var e=Ue(t,"id").fold((function(){var t=oc("dialog-label");return Fe(n,"id",t),t}),x);Fe(t,"aria-labelledby",e)},IX=w([Di("lazySink"),Fi("dragBlockClass"),tu("getBounds",Zr),Xi("useTabstopAt",T),Xi("eventOrder",{}),nv("modalBehaviours",[Dw]),cl("onExecute"),ll("onEscape")]),PX={sketch:x},LX=w([Bv({name:"draghandle",overrides:function(t,n){return{behaviours:mf([bX.config({mode:"mouse",getTarget:function(t){return Vs(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(n,null,2)).message),getBounds:t.getDragBounds})])}}}),Ev({schema:[Di("dom")],name:"title"}),Ev({factory:PX,schema:[Di("dom")],name:"close"}),Ev({factory:PX,schema:[Di("dom")],name:"body"}),Bv({factory:PX,schema:[Di("dom")],name:"footer"}),Rv({factory:{sketch:function(t,n){return D(D({},t),{dom:n.dom,components:n.components})}},schema:[Xi("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Xi("components",[])],name:"blocker"})]),FX=function(t,n,e,r){var o,i=od(),u=function(n){i.set(n);var e=t.lazySink(n).getOrDie(),o=r.blocker(),u=e.getSystem().build(D(D({},o),{components:o.components.concat([Ms(n)]),behaviours:mf([Yw.config({}),Nw("dialog-blocker-events",[Na(Pu(),(function(){Dw.focusIn(n)}))])])}));Wg(e,u),Dw.focusIn(n)},a=function(t){i.clear(),pe(t.element).each((function(n){t.getSystem().getByDom(n).each((function(t){qg(t)}))}))},c=function(n){return Kv(n,t,"body")},s=function(n){return Kv(n,t,"footer")},l=function(t,n){XN.block(t,n)},f=function(t){XN.unblock(t)},d=oc("modal-events"),m=D(D({},t.eventOrder),(o={},o[da()]=[d].concat(t.eventOrder["alloy.system.attached"]||[]),o));return{uid:t.uid,dom:t.dom,components:n,apis:{show:u,hide:a,getBody:c,getFooter:s,setIdle:f,setBusy:l},eventOrder:m,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:rv(t.modalBehaviours,[Lw.config({}),Dw.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),XN.config({getRoot:i.get}),Nw(d,[ja((function(n){VX(n.element,Kv(n,t,"title").element),BX(n.element,Kv(n,t,"body").element)}))])])}},NX=mp({name:"ModalDialog",configFields:IX(),partFields:LX(),factory:FX,apis:{show:function(t,n){t.show(n)},hide:function(t,n){t.hide(n)},getBody:function(t,n){return t.getBody(n)},getFooter:function(t,n){return t.getFooter(n)},setBusy:function(t,n,e){t.setBusy(n,e)},setIdle:function(t,n){t.setIdle(n)}}}),jX=ti([Hi("type"),Hi("name")].concat(Ek)),UX=li,WX=[zi("name","name",Oo((function(){return oc("button-name")})),si),Ui("icon"),Qi("align","end",["start","end"]),Zi("primary",!1),Zi("disabled",!1)],GX=A(A([],WX,!0),[Hi("text")],!1),$X=A([Ei("type",["submit","cancel","custom"])],GX,!0),qX=A([Ei("type",["menu"]),Ui("text"),Ui("tooltip"),Ui("icon"),Li("items",jX)],WX,!0),XX=ki("type",{submit:$X,cancel:$X,custom:$X,menu:qX}),KX=[Hi("type"),Hi("text"),Ei("level",["info","warn","error","success"]),Hi("icon"),Xi("url","")],YX=ti(KX),JX=function(t){return[Hi("type"),t]},QX=[Hi("type"),Hi("text"),Zi("disabled",!1),Zi("primary",!1),zi("name","name",Oo((function(){return oc("button-name")})),si),Ui("icon"),Zi("borderless",!1)],ZX=ti(QX),tK=[Hi("type"),Hi("name"),Hi("label"),Zi("disabled",!1)],nK=ti(tK),eK=li,rK=[Hi("type"),Hi("name")],oK=rK.concat([Ui("label")]),iK=oK.concat([Xi("columns","auto")]),uK=ti(iK),aK=ii([Hi("value"),Hi("text"),Hi("icon")]),cK=oK,sK=ti(cK),lK=si,fK=oK,dK=ti(fK),mK=si,gK=rK.concat([Ji("tag","textarea"),Hi("scriptId"),Hi("scriptUrl"),nu("settings",void 0)]),hK=rK.concat([Ji("tag","textarea"),Bi("init")]),vK=pi((function(t){return wi("customeditor.old",Zo(hK),t).orThunk((function(){return wi("customeditor.new",Zo(gK),t)}))})),pK=si,bK=oK,yK=ti(bK),wK=vi(),xK=function(t){return[Hi("type"),Ai("columns"),t]},SK=[Hi("type"),Hi("html"),Qi("presets","presentation",["presentation","document"])],CK=ti(SK),kK=oK.concat([Zi("sandboxed",!0)]),OK=ti(kK),zK=si,TK=oK.concat([_i("currentState",ti([Di("blob"),Hi("url")]))]),MK=ti(TK),DK=oK.concat([Ui("inputMode"),Ui("placeholder"),Zi("maximized",!1),Zi("disabled",!1)]),_K=ti(DK),AK=si,HK=function(t){return[Hi("type"),Hi("label"),t]},EK=[Hi("text"),Hi("value")],RK=[Hi("text"),Li("items",Oi("items",(function(){return BK})))],BK=ei([ti(EK),ti(RK)]),VK=oK.concat([Li("items",BK),Zi("disabled",!1)]),IK=ti(VK),PK=si,LK=oK.concat([Pi("items",[Hi("text"),Hi("value")]),Yi("size",1),Zi("disabled",!1)]),FK=ti(LK),NK=si,jK=oK.concat([Zi("constrain",!0),Zi("disabled",!1)]),UK=ti(jK),WK=ti([Hi("width"),Hi("height")]),GK=[Hi("type"),Li("header",si),Li("cells",ni(si))],$K=ti(GK),qK=oK.concat([Ui("placeholder"),Zi("maximized",!1),Zi("disabled",!1)]),XK=ti(qK),KK=si,YK=oK.concat([Qi("filetype","file",["image","media","file"]),Xi("disabled",!1)]),JK=ti(YK),QK=ti([Hi("value"),Xi("meta",{})]),ZK=function(t){return zi("items","items",ko(),ni(pi((function(n){return wi("Checking item of "+t,tY,n).fold((function(t){return ro.error(Ci(t))}),(function(t){return ro.value(t)}))}))))},tY=Jo((function(){return hi("type",{alertbanner:YX,bar:ti(JX(ZK("bar"))),button:ZX,checkbox:nK,colorinput:sK,colorpicker:dK,dropzone:yK,grid:ti(xK(ZK("grid"))),iframe:OK,input:_K,listbox:IK,selectbox:FK,sizeinput:UK,textarea:XK,urlinput:JK,customeditor:vK,htmlpanel:CK,imagetools:MK,collection:uK,label:ti(HK(ZK("label"))),table:$K,panel:eY})})),nY=[Hi("type"),Xi("classes",[]),Li("items",tY)],eY=ti(nY),rY=[zi("name","name",Oo((function(){return oc("tab-name")})),si),Hi("title"),Li("items",tY)],oY=[Hi("type"),Pi("tabs",rY)],iY=ti(oY),uY=GX,aY=XX,cY=ti([Hi("title"),_i("body",hi("type",{panel:eY,tabpanel:iY})),Ji("size","normal"),Li("buttons",aY),Xi("initialData",{}),tu("onAction",v),tu("onChange",v),tu("onSubmit",v),tu("onClose",v),tu("onCancel",v),Xi("onTabChange",v)]),sY=function(t){return wi("dialog",cY,t)},lY=ti(A([Ei("type",["cancel","custom"])],uY,!0)),fY=ti([Hi("title"),Hi("url"),ji("height"),ji("width"),Gi("buttons",lY),tu("onAction",v),tu("onCancel",v),tu("onClose",v),tu("onMessage",v)]),dY=function(t){return wi("dialog",fY,t)},mY=function(t){return u(t)?[t].concat(rt(Ot(t),mY)):a(t)?rt(t,mY):[]},gY=function(t){return i(t.type)&&i(t.name)},hY={checkbox:eK,colorinput:lK,colorpicker:mK,dropzone:wK,input:AK,iframe:zK,sizeinput:WK,selectbox:NK,listbox:PK,size:WK,textarea:KK,urlinput:QK,customeditor:pK,collection:aK,togglemenuitem:UX},vY=function(t){return V.from(hY[t.type])},pY=function(t){return Y(mY(t),gY)},bY=function(t){var n=pY(t),e=rt(n,(function(t){return vY(t).fold((function(){return[]}),(function(n){return[_i(t.name,n)]}))}));return ti(e)},yY=function(t){var n=xi(sY(t)),e=bY(t),r=t.initialData;return{internalDialog:n,dataValidator:e,initialData:r}},wY={open:function(t,n){var e=yY(n);return t(e.internalDialog,e.initialData,e.dataValidator)},openUrl:function(t,n){var e=xi(dY(n));return t(e)},redial:function(t){return yY(t)}},xY=function(t){var n=[],e={};return pt(t,(function(t,r){t.fold((function(){n.push(r)}),(function(t){e[r]=t}))})),n.length>0?ro.error(n):ro.value(e)},SY=function(t,n){var e=kS(EE.sketch((function(e){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:$(t.items,(function(t){return aP(e,t,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[e.asSpec()]}],behaviours:mf([Dw.config({mode:"acyclic",useTabstopAt:k(pR)}),WE.memento(e),uR.memento(e,{postprocess:function(t){return xY(t).fold((function(t){return console.error(t),{}}),x)}})])}},CY=function(t,n){return{uid:t.uid,dom:t.dom,components:t.components,events:px(t.action),behaviours:rv(t.tabButtonBehaviours,[Yw.config({}),Dw.config({mode:"execution",useSpace:!0,useEnter:!0}),tv.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},kY=dp({name:"TabButton",configFields:[Xi("uid",void 0),Di("value"),zi("dom","dom",Mo((function(){return{attributes:{role:"tab",id:oc("aria"),"aria-selected":"false"}}})),ui()),Fi("action"),Xi("domModification",{}),nv("tabButtonBehaviours",[Yw,Dw,tv]),Di("view")],factory:CY}),OY=w([Di("tabs"),Di("dom"),Xi("clickToDismiss",!1),nv("tabbarBehaviours",[rb,Dw]),il(["tabClass","selectedClass"])]),zY=Vv({factory:kY,name:"tabs",unit:"tab",overrides:function(t){var n=function(t,n){rb.dehighlight(t,n),Ca(t,ya(),{tabbar:t,button:n})},e=function(t,n){rb.highlight(t,n),Ca(t,ba(),{tabbar:t,button:n})};return{action:function(r){var o=r.getSystem().getByUid(t.uid).getOrDie(),i=rb.isHighlighted(o,r),u=function(){return i&&t.clickToDismiss?n:i?v:e}();u(o,r)},domModification:{classes:[t.markers.tabClass]}}}}),TY=w([zY]),MY=function(t,n,e,r){return{uid:t.uid,dom:t.dom,components:n,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:rv(t.tabbarBehaviours,[rb.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,n){Fe(n.element,"aria-selected","true")},onDehighlight:function(t,n){Fe(n.element,"aria-selected","false")}}),Dw.config({mode:"flow",getInitial:function(t){return rb.getHighlighted(t).map((function(t){return t.element}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},DY=mp({name:"Tabbar",configFields:OY(),partFields:TY(),factory:MY}),_Y=function(t,n){return{uid:t.uid,dom:t.dom,behaviours:rv(t.tabviewBehaviours,[Lw.config({})]),domModification:{attributes:{role:"tabpanel"}}}},AY=dp({name:"Tabview",configFields:[nv("tabviewBehaviours",[Lw])],factory:_Y}),HY=w([Xi("selectFirst",!0),al("onChangeTab"),al("onDismissTab"),Xi("tabs",[]),nv("tabSectionBehaviours",[])]),EY=Ev({factory:DY,schema:[Di("dom"),Ii("markers",[Di("tabClass"),Di("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),RY=Ev({factory:AY,name:"tabview"}),BY=w([EY,RY]),VY=function(t,n,e,r){var o=function(n){var e=tv.getValue(n);Xv(n,t,"tabview").each((function(r){var o=tt(t.tabs,(function(t){return t.value===e}));o.each((function(e){var o=e.view();Ue(n.element,"id").each((function(t){Fe(r.element,"aria-labelledby",t)})),Lw.set(r,o),t.onChangeTab(r,n,o)}))}))},i=function(n,e){Xv(n,t,"tabbar").each((function(t){e(t).each(ka)}))};return{uid:t.uid,dom:t.dom,components:n,behaviours:ev(t.tabSectionBehaviours),events:Ma(et([t.selectFirst?[ja((function(t,n){i(t,rb.getFirst)}))]:[],[Ha(ba(),(function(t,n){var e=n.event.button;o(e)})),Ha(ya(),(function(n,e){var r=e.event.button;t.onDismissTab(n,r)}))]])),apis:{getViewItems:function(n){return Xv(n,t,"tabview").map((function(t){return Lw.contents(t)})).getOr([])},showTab:function(t,n){var e=function(t){var e=rb.getCandidates(t),r=tt(e,(function(t){return tv.getValue(t)===n}));return r.filter((function(n){return!rb.isHighlighted(t,n)}))};i(t,e)}}}},IY=mp({name:"TabSection",configFields:HY(),partFields:BY(),factory:VY,apis:{getViewItems:function(t,n){return t.getViewItems(n)},showTab:function(t,n,e){t.showTab(n,e)}}}),PY=function(t,n,e){return $(t,(function(r,o){Lw.set(e,t[o].view());var i=n.dom.getBoundingClientRect();return Lw.set(e,[]),i.height}))},LY=function(t){return ft(st(t,(function(t,n){return t>n?-1:t<n?1:0})))},FY=function(t,n,e){var r,o=he(t).dom,i=Vs(t,".tox-dialog-wrap").getOr(t),u="fixed"===Je(i,"position");r=u?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var a=ur(n),c=n.dom.offsetLeft>=e.dom.offsetLeft+pr(e),s=c?Math.max(ur(e),a):a,l=parseInt(Je(t,"margin-top"),10)||0,f=parseInt(Je(t,"margin-bottom"),10)||0,d=ur(t)+l+f,m=d-s;return r-m},NY=function(t,n){ft(t).each((function(t){return IY.showTab(n,t.value)}))},jY=function(t,n){Xe(t,"height",n+"px"),ee().browser.isIE()?er(t,"flex-basis"):Xe(t,"flex-basis",n+"px")},UY=function(t,n,e){Vs(t,'[role="dialog"]').each((function(t){Ps(t,'[role="tablist"]').each((function(r){e.get().map((function(e){return Xe(n,"height","0"),Xe(n,"flex-basis","0"),Math.min(e,FY(t,n,r))})).each((function(t){jY(n,t)}))}))}))},WY=function(t){return Ps(t,'[role="tabpanel"]')},GY=function(t){var n=function(){var n=od(),e=[ja((function(e){var r=e.element;WY(r).each((function(o){Xe(o,"visibility","hidden"),e.getSystem().getByDom(o).toOptional().each((function(e){var r=PY(t,o,e),i=LY(r);i.fold(n.clear,n.set)})),UY(r,o,n),er(o,"visibility"),NY(t,e),xS.requestAnimationFrame((function(){UY(r,o,n)}))}))})),Ha(fa(),(function(t){var e=t.element;WY(e).each((function(t){UY(e,t,n)}))})),Ha(BD,(function(t,e){var r=t.element;WY(r).each((function(t){var e=zf(De(t));Xe(t,"visibility","hidden");var o=Ze(t,"height").map((function(t){return parseInt(t,10)}));er(t,"height"),er(t,"flex-basis");var i=t.dom.getBoundingClientRect().height,u=o.forall((function(t){return i>t}));u?(n.set(i),UY(r,t,n)):o.each((function(n){jY(t,n)})),er(t,"visibility"),e.each(Cf)}))}))],r=!1;return{extraEvents:e,selectFirst:r}}(),e=function(){var t=[],n=!0;return{extraEvents:t,selectFirst:n}}();return{smartTabHeight:n,naiveTabHeight:e}},$Y="send-data-to-section",qY="send-data-to-view",XY=function(t,n){var e=ou({}),r=function(t){var n=tv.getValue(t),r=xY(n).getOr({}),o=e.get(),i=So(o,r);e.set(i)},o=function(t){var n=e.get();tv.setValue(t,n)},i=ou(null),u=$(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:n.shared.providers.translate(t.title)},view:function(){return[EE.sketch((function(e){return{dom:{tag:"div",classes:["tox-form"]},components:$(t.items,(function(t){return aP(e,t,n)})),formBehaviours:mf([Dw.config({mode:"acyclic",useTabstopAt:k(pR)}),Nw("TabView.form.events",[ja(o),Ua(r)]),yf.config({channels:gu([{key:$Y,value:{onReceive:r}},{key:qY,value:{onReceive:o}}])})])}}))]}}})),a=GY(u).smartTabHeight;return IY.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,n,e){var r=tv.getValue(n);Ca(t,RD,{name:r,oldName:i.get()}),i.set(r)},tabs:u,components:[IY.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[DY.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:mf([yD.config({})])}),IY.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:a.selectFirst,tabSectionBehaviours:mf([Nw("tabpanel",a.extraEvents),Dw.config({mode:"acyclic"}),bp.config({find:function(t){return ft(IY.getViewItems(t))}}),tv.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn([$Y],{}),e.get()},setValue:function(t,n){e.set(n),t.getSystem().broadcastOn([qY],{})}}})])})},KY=oc("update-dialog"),YY=oc("update-title"),JY=oc("update-body"),QY=oc("update-footer"),ZY=oc("body-send-message"),tJ=function(t,n,e,r){var o=function(t){switch(t.body.type){case"tabpanel":return[XY(t.body,e)];default:return[SY(t.body,e)]}},i=function(t,n){return V.some({isTabPanel:function(){return"tabpanel"===n.body.type}})},u={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:D(D({},n.map((function(t){return{id:t}})).getOr({})),r?u:{})},components:[],behaviours:mf([WE.childAt(0),gW.config({channel:JY,updateState:i,renderComponents:o,initialData:t})])}},nJ=function(t,n,e,r){return tJ(t,V.some(n),e,r)},eJ=function(t,n){var e=tJ(t,V.none(),n,!1);return NX.parts.body(e)},rJ=function(t){var n={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[gR({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:mf([yD.config({}),Yw.config({})])})]}],behaviours:mf([Dw.config({mode:"acyclic",useTabstopAt:k(pR)})])};return NX.parts.body(n)},oJ=Sz.deviceType.isTouch(),iJ=function(t,n){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,n]}},uJ=function(t,n){return NX.parts.close(CS.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close")}},action:t,buttonBehaviours:mf([yD.config({})])}))},aJ=function(){return NX.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},cJ=function(t,n){return NX.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:JN("<p>"+n.translate(t)+"</p>")}]}]})},sJ=function(t){return NX.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},lJ=function(t,n){return[sD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),sD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:n})]},fJ=function(t){var n,e="tox-dialog",r=e+"-wrap",o=r+"__backdrop",i=e+"__disable-scroll";return NX.sketch({lazySink:t.lazySink,onEscape:function(n){return t.onEscape(n),V.some(!0)},useTabstopAt:function(t){return!pR(t)},dom:{tag:"div",classes:[e].concat(t.extraClasses),styles:D({position:"relative"},t.extraStyles)},components:A([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:JN('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:oJ?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:mf(A([Yw.config({}),Nw("dialog-events",t.dialogEvents.concat([Na(Pu(),(function(t,n){Dw.focusIn(t)}))])),Nw("scroll-lock",[ja((function(){is(Ie(),i)})),Ua((function(){as(Ie(),i)}))])],t.extraBehaviours,!0)),eventOrder:D((n={},n[na()]=["dialog-events"],n[da()]=["scroll-lock","dialog-events","alloy.base.behaviour"],n[ma()]=["alloy.base.behaviour","dialog-events","scroll-lock"],n),t.eventOrder)})},dJ=function(t){return CS.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[VS("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(t){Sa(t,DD)}})},mJ=function(t,n,e){var r=function(t){return[Cs(e.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:D({},n.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:mf([gW.config({channel:YY,renderComponents:r})])}},gJ=function(){return{dom:JN('<div class="tox-dialog__draghandle"></div>')}},hJ=function(t,n,e){return sD.sketch({dom:JN('<div class="tox-dialog__header"></div>'),components:[mJ(t,V.some(n),e),gJ(),dJ(e)],containerBehaviours:mf([bX.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return Ls(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},vJ=function(t,n){var e=NX.parts.title(mJ(t,V.none(),n)),r=NX.parts.draghandle(gJ()),o=NX.parts.close(dJ(n)),i=[e].concat(t.draggable?[r]:[]).concat([o]);return sD.sketch({dom:JN('<div class="tox-dialog__header"></div>'),components:i})},pJ=function(t,n){return vJ({title:n.shared.providers.translate(t),draggable:n.dialog.isDraggableModal()},n.shared.providers)},bJ=function(t,n,e){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":e.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:JN('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},yJ=function(t,n,e){return{onClose:function(){return e.closeWindow()},onBlock:function(e){NX.setBusy(t(),(function(t,r){return bJ(e.message,r,n)}))},onUnblock:function(){NX.setIdle(t())}}},wJ=function(t,n,e,r){var o,i=function(t,n){return V.some(n)};return Ts(fJ(D(D({},t),{lazySink:r.shared.getSink,extraBehaviours:A([gW.config({channel:KY,updateState:i,initialData:n}),uR.memory({})],t.extraBehaviours,!0),onEscape:function(t){Sa(t,DD)},dialogEvents:e,eventOrder:(o={},o[ta()]=[gW.name(),yf.name()],o[da()]=["scroll-lock",gW.name(),"messages","dialog-events","alloy.base.behaviour"],o[ma()]=["alloy.base.behaviour","dialog-events","messages",gW.name(),"scroll-lock"],o)})))},xJ=function(t){var n=function(t){var n=$(t.items,(function(t){var n=ou(!1);return D(D({},t),{storage:n})}));return D(D({},t),{items:n})};return $(t,(function(t){return"menu"===t.type?n(t):t}))},SJ=function(t){return Q(t,(function(t,n){if("menu"===n.type){var e=n;return Q(e.items,(function(t,n){return t[n.name]=n.storage,t}),t)}return t}),{})},CJ=function(t,n){return[Pa(Pu(),vR),t(MD,(function(t,e){n.onClose(),e.onClose()})),t(DD,(function(t,n,e,r){n.onCancel(t),Sa(r,MD)})),Ha(ED,(function(t,e){return n.onUnblock()})),Ha(HD,(function(t,e){return n.onBlock(e.event)}))]},kJ=function(t,n){var e=function(n,e){return Ha(n,(function(n,o){r(n,(function(r,i){e(t(),r,o.event,n)}))}))},r=function(t,n){gW.getState(t).get().each((function(e){n(e,t)}))};return A(A([],CJ(e,n),!0),[e(_D,(function(t,n,e){n.onAction(t,{name:e.name})}))],!1)},OJ=function(t,n,e){var r=function(n,e){return Ha(n,(function(n,r){o(n,(function(o,i){e(t(),o,r.event,n)}))}))},o=function(t,n){gW.getState(t).get().each((function(e){n(e.internalDialog,t)}))};return A(A([],CJ(r,n),!0),[r(AD,(function(t,n){return n.onSubmit(t)})),r(TD,(function(t,n,e){n.onChange(t,{name:e.name})})),r(_D,(function(t,n,r,o){var i=function(){return Dw.focusIn(o)},u=function(t){return We(t,"disabled")||Ue(t,"aria-disabled").exists((function(t){return"true"===t}))},a=De(o.element),c=zf(a);n.onAction(t,{name:r.name,value:r.value}),zf(a).fold(i,(function(t){u(t)||c.exists((function(n){return de(t,n)&&u(n)}))?i():e().toOptional().filter((function(n){return!de(n.element,t)})).each(i)}))})),r(RD,(function(t,n,e){n.onTabChange(t,{newTabName:e.name,oldTabName:e.oldName})})),Ua((function(n){var e=t();tv.setValue(n,e.getData())}))],!1)},zJ={initUrlDialog:kJ,initDialog:OJ},TJ=function(t,n){return rV(t,t.type,n)},MJ=function(t,n,e){return tt(n,(function(t){return t.name===e})).bind((function(n){return n.memento.getOpt(t)}))},DJ=function(t,n){var e=n.map((function(t){return t.footerButtons})).getOr([]),r=K(e,(function(t){return"start"===t.align})),o=function(t,n){return sD.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:$(n,(function(t){return t.memento.asSpec()}))})},i=o("start",r.pass),u=o("end",r.fail);return[i,u]},_J=function(t,n){var e=function(t,e){var r=$(e.buttons,(function(t){var e=kS(TJ(t,n));return{name:t.name,align:t.align,memento:e}})),o=function(t,n){return MJ(t,r,n)};return V.some({lookupByName:o,footerButtons:r})};return{dom:JN('<div class="tox-dialog__footer"></div>'),components:[],behaviours:mf([gW.config({channel:QY,initialData:t,updateState:e,renderComponents:DJ})])}},AJ=function(t,n){return _J(t,n)},HJ=function(t,n){return NX.parts.footer(_J(t,n))},EJ=function(t,n){var e=t.getRoot();if(e.getSystem().isConnected()){var r=bp.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return EE.getField(r,n).fold((function(){var e=t.getFooter(),o=gW.getState(e);return o.get().bind((function(t){return t.lookupByName(r,n)}))}),(function(t){return V.some(t)}))}return V.none()},RJ=function(t,n){var e=t.getRoot();return gW.getState(e).get().map((function(t){return xi(wi("data",t.dataValidator,n))})).getOr(n)},BJ=function(t,n,e){var r=function(n){var e=t.getRoot();e.getSystem().isConnected()&&n(e)},o=function(){var n=t.getRoot(),r=n.getSystem().isConnected()?t.getFormWrapper():n,o=tv.getValue(r),i=bt(e,(function(t){return t.get()}));return D(D({},o),i)},u=function(n){r((function(r){var o=h.getData(),i=D(D({},o),n),u=RJ(t,i),a=t.getFormWrapper();tv.setValue(a,u),pt(e,(function(t,n){Tt(i,n)&&t.set(i[n])}))}))},a=function(n){EJ(t,n).each(Ip.disable)},c=function(n){EJ(t,n).each(Ip.enable)},s=function(n){EJ(t,n).each(Yw.focus)},l=function(t){if(!i(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(n){Ca(n,HD,{message:t})}))},f=function(){r((function(t){Sa(t,ED)}))},d=function(n){r((function(e){var r=t.getBody(),o=gW.getState(r);o.get().exists((function(t){return t.isTabPanel()}))&&bp.getCurrent(r).each((function(t){IY.showTab(t,n)}))}))},m=function(t){r((function(e){var r=n(t);e.getSystem().broadcastOn([KY],r),e.getSystem().broadcastOn([YY],r.internalDialog),e.getSystem().broadcastOn([JY],r.internalDialog),e.getSystem().broadcastOn([QY],r.internalDialog),h.setData(r.initialData)}))},g=function(){r((function(t){Sa(t,MD)}))},h={getData:o,setData:u,disable:a,enable:c,focus:s,block:l,unblock:f,showTab:d,redial:m,close:g};return h},VJ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},IJ=function(t,n,e){var r=pJ(t.internalDialog.title,e),o=eJ({body:t.internalDialog.body},e),i=xJ(t.internalDialog.buttons),u=SJ(i),a=HJ({buttons:i},e),c=zJ.initDialog((function(){return m}),yJ((function(){return f}),e.shared.providers,n),e.shared.getSink),s=VJ(t.internalDialog.size),l={header:r,body:o,footer:V.some(a),extraClasses:s,extraBehaviours:[],extraStyles:{}},f=wJ(l,t,c,e),d=function(){var t=function(){var t=NX.getBody(f);return bp.getCurrent(t).getOr(t)};return{getRoot:w(f),getBody:function(){return NX.getBody(f)},getFooter:function(){return NX.getFooter(f)},getFormWrapper:t}}(),m=BJ(d,n.redial,u);return{dialog:f,instanceApi:m}},PJ=function(t,n,e,r){var o,i,u=oc("dialog-label"),a=oc("dialog-content"),c=function(t,n){return V.some(n)},s=kS(hJ({title:t.internalDialog.title,draggable:!0},u,e.shared.providers)),l=kS(nJ({body:t.internalDialog.body},a,e,r)),f=xJ(t.internalDialog.buttons),d=SJ(f),m=kS(AJ({buttons:f},e)),g=zJ.initDialog((function(){return v}),{onBlock:function(t){XN.block(h,(function(n,r){return bJ(t.message,r,e.shared.providers)}))},onUnblock:function(){XN.unblock(h)},onClose:function(){return n.closeWindow()}},e.shared.getSink),h=Ts({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=u,o["aria-describedby"]=a,o)},eventOrder:(i={},i[ta()]=[gW.name(),yf.name()],i[na()]=["execute-on-form"],i[da()]=["reflecting","execute-on-form"],i),behaviours:mf([Dw.config({mode:"cyclic",onEscape:function(t){return Sa(t,MD),V.some(!0)},useTabstopAt:function(t){return!pR(t)&&("button"!==cn(t)||"disabled"!==je(t,"disabled"))}}),gW.config({channel:KY,updateState:c,initialData:t}),Yw.config({}),Nw("execute-on-form",g.concat([Na(Pu(),(function(t,n){Dw.focusIn(t)}))])),XN.config({getRoot:function(){return V.some(h)}}),Lw.config({}),uR.memory({})]),components:[s.asSpec(),l.asSpec(),m.asSpec()]}),v=BJ({getRoot:w(h),getFooter:function(){return m.get(h)},getBody:function(){return l.get(h)},getFormWrapper:function(){var t=l.get(h);return bp.getCurrent(t).getOr(t)}},n.redial,d);return{dialog:h,instanceApi:v}},LJ=tinymce.util.Tools.resolve("tinymce.util.URI"),FJ=function(t){var n=function(n){t.getSystem().isConnected()&&n(t)},e=function(t){if(!i(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n((function(n){Ca(n,HD,{message:t})}))},r=function(){n((function(t){Sa(t,ED)}))},o=function(){n((function(t){Sa(t,MD)}))},u=function(t){n((function(n){n.getSystem().broadcastOn([ZY],t)}))};return{block:e,unblock:r,close:o,sendMessage:u}},NJ=["insertContent","setContent","execCommand","close","block","unblock"],jJ=function(t){return u(t)&&-1!==NJ.indexOf(t.mceAction)},UJ=function(t){return!jJ(t)&&u(t)&&Tt(t,"mceAction")},WJ=function(t,n,e){switch(e.mceAction){case"insertContent":t.insertContent(e.content);break;case"setContent":t.setContent(e.content);break;case"execCommand":var r=!!s(e.ui)&&e.ui;t.execCommand(e.cmd,r,e.value);break;case"close":n.close();break;case"block":n.block(e.message);break;case"unblock":n.unblock();break}},GJ=function(t,n,e,r){var o,i=pJ(t.title,r),u=rJ(t),a=t.buttons.bind((function(t){return 0===t.length?V.none():V.some(HJ({buttons:t},r))})),c=zJ.initUrlDialog((function(){return p}),yJ((function(){return v}),r.shared.providers,n)),s=D(D({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),l=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],f=new LJ(t.url,{base_uri:new LJ(window.location.href)}),d=f.protocol+"://"+f.host+(f.port?":"+f.port:""),m=ed(),g=[Nw("messages",[ja((function(){var n=ud(nn.fromDom(window),"message",(function(n){if(f.isSameOrigin(new LJ(n.raw.origin))){var r=n.raw.data;jJ(r)?WJ(e,p,r):UJ(r)&&t.onMessage(p,r)}}));m.set(n)})),Ua(m.clear)]),yf.config({channels:(o={},o[ZY]={onReceive:function(t,n){Ps(t.element,"iframe").each((function(t){var e=t.dom.contentWindow;e.postMessage(n,d)}))}},o)})],h={header:i,body:u,footer:a,extraClasses:l,extraBehaviours:g,extraStyles:s},v=wJ(h,t,c,r),p=FJ(v);return{dialog:v,instanceApi:p}},$J=function(t){var n=t.backstage.shared,e=function(e,r){var o=function(){NX.hide(c),r()},i=kS(rV({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:V.none()},"cancel",t.backstage)),u=aJ(),a=uJ(o,n.providers),c=Ts(fJ({lazySink:function(){return n.getSink()},header:iJ(u,a),body:cJ(e,n.providers),footer:V.some(sJ(lJ([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ha(DD,o)],eventOrder:{}}));NX.show(c);var s=i.get(c);Yw.focus(s)};return{open:e}},qJ=function(t){var n=t.backstage.shared,e=function(e,r){var o=function(t){NX.hide(s),r(t)},i=kS(rV({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:V.none()},"submit",t.backstage)),u=rV({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:V.none()},"cancel",t.backstage),a=aJ(),c=uJ((function(){return o(!1)}),n.providers),s=Ts(fJ({lazySink:function(){return n.getSink()},header:iJ(a,c),body:cJ(e,n.providers),footer:V.some(sJ(lJ([],[u,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ha(DD,(function(){return o(!1)})),Ha(AD,(function(){return o(!0)}))],eventOrder:{}}));NX.show(s);var l=i.get(s);Yw.focus(l)};return{open:e}},XJ=function(t,n){return xi(wi("data",n,t))},KJ=function(t){return VM(t,".tox-alert-dialog")||VM(t,".tox-confirm-dialog")},YJ=function(t,n,e){return n&&e?[]:[SF.config({contextual:{lazyContext:function(){return V.some(Jr(nn.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},JJ=function(t){var n=t.backstage,e=t.editor,r=GO(e),o=$J(t),i=qJ(t),u=function(t,e,r){return void 0!==e&&"toolbar"===e.inline?l(t,n.shared.anchors.inlineDialog(),r,e.ariaAttrs):void 0!==e&&"cursor"===e.inline?l(t,n.shared.anchors.cursor(),r,e.ariaAttrs):s(t,r)},a=function(t,n){return c(t,n)},c=function(t,r){var o=function(t){var o=GJ(t,{closeWindow:function(){NX.hide(o.dialog),r(o.instanceApi)}},e,n);return NX.show(o.dialog),o.instanceApi};return wY.openUrl(o,t)},s=function(t,e){var r=function(t,r,o){var i=r,u={dataValidator:o,initialData:i,internalDialog:t},a=IJ(u,{redial:wY.redial,closeWindow:function(){NX.hide(a.dialog),e(a.instanceApi)}},n);return NX.show(a.dialog),a.instanceApi.setData(i),a.instanceApi};return wY.open(r,t)},l=function(t,o,i,u){var a=function(t,a,c){var s=XJ(a,c),l=od(),f=n.shared.header.isPositionedAtTop(),d={dataValidator:c,initialData:s,internalDialog:t},m=function(){return l.on((function(t){nS.reposition(t),SF.refresh(t)}))},g=PJ(d,{redial:wY.redial,closeWindow:function(){l.on(nS.hide),e.off("ResizeEditor",m),l.clear(),i(g.instanceApi)}},n,u),h=Ts(nS.sketch(D(D({lazySink:n.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},f?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:mf(A([Nw("window-manager-inline-events",[Ha(ga(),(function(t,n){Sa(g.dialog,DD)}))])],YJ(e,r,f),!0)),isExtraPart:function(t,n){return KJ(n)}})));return l.set(h),nS.showWithin(h,Ms(g.dialog),{anchor:o},V.some(Ie())),r&&f||(SF.refresh(h),e.on("ResizeEditor",m)),g.instanceApi.setData(s),Dw.focusIn(g.dialog),g.instanceApi};return wY.open(a,t)},f=function(t,n){i.open(t,(function(t){n(t)}))},d=function(t,n){o.open(t,(function(){n()}))},m=function(t){t.close()};return{open:u,openUrl:a,alert:d,close:m,confirm:f}};function QJ(){M.add("silver",(function(t){var n=RX(t),e=n.uiMothership,r=n.backstage,o=n.renderUI,i=n.getUi;BM.register(t,r.shared);var u=JJ({editor:t,backstage:r});return{renderUI:o,getWindowManagerImpl:w(u),getNotificationManagerImpl:function(){return NS(t,{backstage:r},e)},ui:i()}}))}QJ()})()}).call(this,e("c8ba"))},"07d1":function(t,n,e){e("94ce")},"0d68":function(t,n,e){e("030f")},1:function(t,n,e){t.exports=e("f872")},1123:function(t,n,e){"use strict";e.d(n,"a",(function(){return g}));e("b0c0"),e("4de4"),e("d3b7"),e("498a"),e("159b"),e("ddb0"),e("99af"),e("a15b"),e("d81d");var r=e("67c4"),o=e("2ef0"),i=e.n(o),u=e("11c1"),a=e.n(u),c="Image description";function s(t,n,e,o){var i={onUploadProgress:function(t){o(Math.round(t.loaded/t.total*100))}},u=new FormData;u.append("image",t.blob(),t.filename()),u.append("name",t.name()),r["a"].post("/image/",u,i).then((function(t){n(t.data.location)}),(function(t){return e(t,{remove:!0})}))}function l(t){for(var n=t.getDoc().getElementsByTagName("IMG"),e=0;e<n.length;e++){var r=n[e];if(!r.alt)return r}return null}function f(t){var n=t;t.ui.registry.addToggleButton("checkAlly",{text:"Check Accessibility",classes:"a11y-check",onSetup:function(e){function r(){var n=!!l(t);n?(e.setActive(n),e.setDisabled(!1)):(e.setActive(!1),e.setDisabled(!0))}var o=n.on("Dirty",r),i=n.on("change",r);return function(){n.off("Dirty",o),n.off("change",i)}},onAction:function(){var e=l(t);e&&n.execCommand("mceSelectNode",!1,e)}})}function d(t){function n(t){return"img"===t.nodeName.toLowerCase()}t.ui.registry.addContextForm("image-alt",{launch:{type:"contextformtogglebutton",icon:"accessibility-check"},label:"description",predicate:n,position:"node",initValue:function(n){return t.selection.getNode().alt||c},commands:[{type:"contextformtogglebutton",tooltip:"Save",icon:"save",primary:!0,onAction:function(n){var e=n.getValue();e!==c&&(t.selection.getNode().alt=e,t.setDirty(!1),t.setDirty(!0)),n.hide()}},{type:"contextformtogglebutton",icon:"image",tooltip:"More image options",active:!0,onAction:function(n){n.hide(),t.execCommand("mceImage")}}]})}function m(t){function n(t){return t.classList.contains("footnote")}function e(n){var e=t.dom.get("footnote-".concat(n,"-ref")),r=t.dom.get("footnote-".concat(n));return{refNode:e,bodyNode:r}}function r(){for(var n=t.dom.$(".footnote").filter((function(t,n){return!n.classList.contains("footnote-footer")})),e=[],r=[],o=0;o<n.length;o++){var u=n[o],a=l(u);if(u.classList.contains("footnote-ref")){var c=u.innerText;e.push({id:a,candidate:u,mark:c})}else if(u.classList.contains("footnote-body")){var s=u.getElementsByClassName("footnote-label"),f=void 0;s&&0!=s.length?(f=s[0].innerText,r.push({id:a,candidate:u,mark:f})):""!==u.innerText.trim()&&(f="",r.push({id:a,candidate:u,mark:f}))}}var d=i.a.chain(e).groupBy("id").mapValues((function(t){return t[0]})).value(),m=i.a.chain(r).groupBy("id").mapValues((function(t){return t[0]})).value(),g=i.a.differenceBy(e,r,"id"),h=i.a.differenceBy(r,e,"id");g.forEach((function(n){var e=n.id,r=n.candidate;t.dom.remove(r),i.a.unset(d,e)})),h.forEach((function(n){var e=n.id,r=n.candidate;t.dom.remove(r),i.a.unset(m,e)})),i.a.values(d).forEach((function(n){var e=n.id,r=n.mark,o=(n.candidate,m[e].mark);if(r!==o){var i=m[e].candidate,u=i.getElementsByClassName("footnote-label");u&&0!=u.length?u[0].innerText=r:i.firstChild&&(u=t.dom.createFragment('<span class="footnote-label" data-extra-export-offset="2">'.concat(r,"</span>")),i.firstChild.prepend(u))}}));for(var v=t.dom.$(".footnote-label"),p=[],b=0;b<v.length;b++)p.push(v[b]);p.forEach((function(n){var e=n;while(e){if(e.classList.contains("footnote-footer"))return;e=e.parentElement}t.dom.remove(n)})),v=t.dom.$(".footnote-label"),p=[];for(var y=0;y<v.length;y++)p.push(v[y]);if(p.forEach((function(n){var e=n.parentElement.innerText;if(e.trim()==n.innerText){var r=document.createTextNode(" ");n.parentElement.appendChild(r),t.selection.setCursorLocation(n.parentElement,e.length)}})),t.selection.getStart()==t.selection.getEnd()&&t.selection.getStart().classList.contains("footnote-label")){var w=t.selection.getStart();t.selection.setCursorLocation(w.parentElement,w.innerText.length)}var x=t.dom.$(".footnote-footer");1===x.length&&(x=x[0],x!==x.parentElement.lastElementChild&&x.parentElement.appendChild(x))}function o(){var n=t.dom.$(".footnote-footer");if(1==n.length)return n[0];if(n.length>1)return console.error("Multiple footers present."),null;var e=t.dom.add(t.getBody(),"div",{class:"footnote footnote-footer"},"");return e}function u(n){n.id=a()();var e='<span class="footnote footnote-ref" data-custom-style="Footnote Reference" id="footnote-'.concat(n.id,'-ref">').concat(n.mark,"</span>"),r=t.dom.createFragment('<div class="footnote footnote-body" id="footnote-'.concat(n.id,'"><p><span class="footnote-label" data-extra-export-offset="2" data-custom-style="Footnote Text" contenteditable="false">').concat(n.mark,"</span>").concat(n.footnote,"</p></div>")),i=o();i.appendChild(r),t.execCommand("mceInsertContent",!1,e)}function c(n){var r=e(n.id),o=r.refNode,i=r.bodyNode;o.innerText=n.mark;var u=t.dom.createFragment('<p><span class="footnote-label" data-extra-export-offset="2" data-custom-style="Footnote Text" contenteditable="false">'.concat(n.mark,"</span>").concat(n.footnote,"</p>"));while(i.firstChild)i.firstChild.remove();i.appendChild(u)}function s(t){var n=e(t),r=n.refNode,o=n.bodyNode,i=r.innerText,u=o.firstChild.firstChild.innerText,a=o.innerText.substr(u.length).trim();return{mark:i,footnote:a,id:t}}function l(t){var n=t.id||t.parentElement.id;return n?n.substr(9,36):null}function f(){var r=t.selection.getNode(),o=n(r),i=t.dom.$(".footnote-ref").length+1,a={mark:""+i,footnote:""};if(o){var f=l(r);a=s(f)}t.windowManager.open({title:"Footnote",size:"normal",body:{type:"panel",items:[{label:"Mark",type:"input",name:"mark"},{label:"Footnote",type:"textarea",name:"footnote",multiline:!0,minWidth:520,minHeight:100}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0},{type:"custom",name:"delete",text:"Delete"}],initialData:a,onSubmit:function(t){var n=t.getData();o?(n.id=a.id,c(n)):u(n),t.close()},onCancel:function(t){t.close()},onAction:function(t,n){if(n&&"delete"==n.name){var r=e(a.id),o=r.refNode,i=r.bodyNode;o.remove(),i.remove()}t.close()}})}var d={open:f};t.ui.registry.addToggleButton("footnote",{text:"Footnote",tooltip:"Footnote",onAction:function(){return t.execCommand("openFootnote")}}),t.ui.registry.addMenuItem("footnote",{text:"Footnote",onAction:function(){return t.execCommand("openFootnote")}}),t.addCommand("openFootnote",(function(){d.open(t)})),t.on("NodeChange",(function(t){r()}))}function g(t,n,e){var r='img[alt=""] {outline: 4px solid red;}.footnote-ref {font-size: 16px;vertical-align: super;}.footnote-body {margin-left: 2rem;}.footnote-label {float:left;margin-left:-1rem;} .footnote-label::after{content: ".";} .footnote-footer {border-top: 1px solid black;clear:both;}.image-center-large{width:80%;object-fit:contain;margin:0auto;display:block;}.image-center-medium{width:50%;object-fit:contain;margin:0 auto;display:block;}.image-left-medium{width:50%;object-fit:contain;margin:0 2rem;float:left;display:block;}.image-right-medium{width:50%;object-fit:contain;margin:0 2rem;float:right;display:block;}',o=["link","lists","image","table","paste"],i="undo redo removeformat | styleselect | h1 h2 | bold italic underline | numlist bullist indent outdent | table blockquote link image removeformat";n&&(i+=" media footnote | checkAlly",o.push("media")),e&&(o.push("code"),i+=" | code");var u=[["div",["class","title","style","tabindex","id","class","data-custom-style"]],["span",["class","title","style","tabindex","id","class","data-custom-style"],["img",["class","alt","title","id","data-custom-style"]]]].map((function(t){return"".concat(t[0],"[").concat(t[1].join("|"),"]")})).join(","),a=[{title:"Large centered",value:"image-center-large"},{title:"Center aligned",value:"image-center-medium"},{title:"Left aligned",value:"image-left-medium"},{title:"Right aligned",value:"image-right-medium"}],c={height:"25vh",plugins:o,skin_url:"/static/tinymce_skin",content_style:r,menubar:!1,branding:!1,toolbar:i,image_uploadtab:n,images_upload_handler:s,images_upload_credentials:!0,image_dimensions:!1,image_class_list:a,automatic_uploads:!0,contextmenu_never_use_native:!1,contextmenu:!1,paste_auto_cleanup_on_paste:!0,paste_remove_styles:!0,paste_remove_styles_if_webkit:!0,paste_strip_class_attributes:"all",media_dimensions:!1,extended_valid_elements:u,setup:function(t){n&&(m(t),f(t),d(t))}};return t&&(c.selector=t),c}},"11c1":function(t,n,e){var r=e("c437"),o=e("c64e"),i=o;i.v1=r,i.v4=o,t.exports=i},2366:function(t,n){for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);function o(t,n){var r=n||0,o=e;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}t.exports=o},2401:function(t,n){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){var n=typeof t;return null===t?"null":"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},e=function(t){return function(e){return n(e)===t}},r=function(t){return function(n){return typeof n===t}},o=e("string"),i=e("object"),u=e("array"),a=r("boolean"),c=r("function"),s=r("number"),l=function(){},f=function(t){return function(){return t}},d=function(t){return t},m=function(t,n){return t===n},g=function(t){return function(n){return!t(n)}},h=f(!1),v=f(!0),p=function(){return b},b=function(){var t=function(t){return t()},n=d,e={fold:function(t,n){return t()},isSome:h,isNone:v,getOr:n,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:n,orThunk:t,map:p,each:l,bind:p,exists:h,forall:v,filter:function(){return p()},toArray:function(){return[]},toString:f("none()")};return e}(),y=function(t){var n=f(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:v,isNone:h,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return y(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:b},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},w=function(t){return null===t||void 0===t?b:y(t)},x={some:y,none:p,from:w},S=Array.prototype.slice,C=Array.prototype.push,k=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},O=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];n(o,e)}},z=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},T=function(t,n){if(0===t.length)return[];for(var e=n(t[0]),r=[],o=[],i=0,u=t.length;i<u;i++){var a=t[i],c=n(a);c!==e&&(r.push(o),o=[]),e=c,o.push(a)}return 0!==o.length&&r.push(o),r},M=function(t,n,e){return O(t,(function(t,r){e=n(e,t,r)})),e},D=function(t,n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r))return x.some(i);if(e(i,r))break}return x.none()},_=function(t,n){return D(t,n,h)},A=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!u(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);C.apply(n,t[e])}return n},H=function(t,n){return A(k(t,n))},E=function(t){var n=S.call(t,0);return n.reverse(),n},R=function(t,n){return n>=0&&n<t.length?x.some(t[n]):x.none()},B=function(t){return R(t,0)},V=function(t){return R(t,t.length-1)},I=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return x.none()},P=function(){return P=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e],n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},P.apply(this,arguments)};function L(t,n,e){if(e||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))}var F=function(t){var n,e=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e||(e=!0,n=t.apply(null,r)),n}},N=function(t,n,e,r){var o=t.isiOS()&&!0===/ipad/i.test(e),i=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),s=i||u&&!c,l=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(e),d=!s&&!c&&!l;return{isiPad:f(o),isiPhone:f(i),isTablet:f(c),isPhone:f(s),isTouch:f(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:f(l),isDesktop:f(d)}},j=function(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(r.test(n))return r}},U=function(t,n){var e=j(t,n);if(!e)return{major:0,minor:0};var r=function(t){return Number(n.replace(e,"$"+t))};return $(r(1),r(2))},W=function(t,n){var e=String(n).toLowerCase();return 0===t.length?G():U(t,e)},G=function(){return $(0,0)},$=function(t,n){return{major:t,minor:n}},q={nu:$,detect:W,unknown:G},X=function(t,n){return I(n.brands,(function(n){var e=n.brand.toLowerCase();return _(t,(function(t){var n;return e===(null===(n=t.brand)||void 0===n?void 0:n.toLowerCase())})).map((function(t){return{current:t.name,version:q.nu(parseInt(n.version,10),0)}}))}))},K=function(t,n){var e=String(n).toLowerCase();return _(t,(function(t){return t.search(e)}))},Y=function(t,n){return K(t,n).map((function(t){var e=q.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},J=function(t,n){return K(t,n).map((function(t){var e=q.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},Q=function(t,n){return-1!==t.indexOf(n)},Z=function(t){return function(n){return n.replace(t,"")}},tt=Z(/^\s+|\s+$/g),nt=function(t){return t.length>0},et=function(t){return!nt(t)},rt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ot=function(t){return function(n){return Q(n,t)}},it=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Q(t,"edge/")&&Q(t,"chrome")&&Q(t,"safari")&&Q(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rt],search:function(t){return Q(t,"chrome")&&!Q(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Q(t,"msie")||Q(t,"trident")}},{name:"Opera",versionRegexes:[rt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ot("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ot("firefox")},{name:"Safari",versionRegexes:[rt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Q(t,"safari")||Q(t,"mobile/"))&&Q(t,"applewebkit")}}],ut=[{name:"Windows",search:ot("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Q(t,"iphone")||Q(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ot("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ot("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ot("linux"),versionRegexes:[]},{name:"Solaris",search:ot("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ot("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ot("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],at={browsers:f(it),oses:f(ut)},ct="Edge",st="Chrome",lt="IE",ft="Opera",dt="Firefox",mt="Safari",gt=function(){return ht({current:void 0,version:q.unknown()})},ht=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isEdge:r(ct),isChrome:r(st),isIE:r(lt),isOpera:r(ft),isFirefox:r(dt),isSafari:r(mt)}},vt={unknown:gt,nu:ht,edge:f(ct),chrome:f(st),ie:f(lt),opera:f(ft),firefox:f(dt),safari:f(mt)},pt="Windows",bt="iOS",yt="Android",wt="Linux",xt="OSX",St="Solaris",Ct="FreeBSD",kt="ChromeOS",Ot=function(){return zt({current:void 0,version:q.unknown()})},zt=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isWindows:r(pt),isiOS:r(bt),isAndroid:r(yt),isOSX:r(xt),isLinux:r(wt),isSolaris:r(St),isFreeBSD:r(Ct),isChromeOS:r(kt)}},Tt={unknown:Ot,nu:zt,windows:f(pt),ios:f(bt),android:f(yt),linux:f(wt),osx:f(xt),solaris:f(St),freebsd:f(Ct),chromeos:f(kt)},Mt=function(t,n,e){var r=at.browsers(),o=at.oses(),i=n.bind((function(t){return X(r,t)})).orThunk((function(){return Y(r,t)})).fold(vt.unknown,vt.nu),u=J(o,t).fold(Tt.unknown,Tt.nu),a=N(u,i,t,e);return{browser:i,os:u,deviceType:a}},Dt={detect:Mt},_t=function(t){return window.matchMedia(t).matches},At=F((function(){return Dt.detect(navigator.userAgent,x.from(navigator.userAgentData),_t)})),Ht=function(){return At()},Et=function(t,n,e){return 0!==(t.compareDocumentPosition(n)&e)},Rt=function(t,n){return Et(t,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},Bt=1,Vt=function(t,n){var e=n||document,r=e.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Lt(r.childNodes[0])},It=function(t,n){var e=n||document,r=e.createElement(t);return Lt(r)},Pt=function(t,n){var e=n||document,r=e.createTextNode(t);return Lt(r)},Lt=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},Ft=function(t,n,e){return x.from(t.dom.elementFromPoint(n,e)).map(Lt)},Nt={fromHtml:Vt,fromTag:It,fromText:Pt,fromDom:Lt,fromPoint:Ft},jt=function(t,n){var e=t.dom;if(e.nodeType!==Bt)return!1;var r=e;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Ut=function(t,n){return t.dom===n.dom},Wt=function(t,n){var e=t.dom,r=n.dom;return e!==r&&e.contains(r)},Gt=function(t,n){return Rt(t.dom,n.dom)},$t=function(t,n){return Ht().browser.isIE()?Gt(t,n):Wt(t,n)},qt=jt,Xt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Kt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Yt=tinymce.util.Tools.resolve("tinymce.util.VK"),Jt=Object.keys,Qt=function(t,n){for(var e=Jt(t),r=0,o=e.length;r<o;r++){var i=e[r],u=t[i];n(u,i)}},Zt=function(t){return function(n,e){t[e]=n}},tn=function(t,n,e,r){var o={};return Qt(t,(function(t,o){(n(t,o)?e:r)(t,o)})),o},nn=function(t,n){var e={};return tn(t,n,Zt(e),l),e};"undefined"!==typeof window?window:Function("return this;")();var en=function(t){var n=t.dom.nodeName;return n.toLowerCase()},rn=function(t){return t.dom.nodeType},on=function(t){return function(n){return rn(n)===t}},un=on(Bt),an=function(t){return function(n){return un(n)&&en(n)===t}},cn=function(t,n,e){if(!(o(e)||a(e)||s(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")},sn=function(t,n){var e=t.dom;Qt(n,(function(t,n){cn(e,n,t)}))},ln=function(t){return M(t.dom.attributes,(function(t,n){return t[n.name]=n.value,t}),{})},fn=function(t){return x.from(t.dom.parentNode).map(Nt.fromDom)},dn=function(t){return k(t.dom.childNodes,Nt.fromDom)},mn=function(t,n){var e=t.dom.childNodes;return x.from(e[n]).map(Nt.fromDom)},gn=function(t){return mn(t,0)},hn=function(t){return mn(t,t.dom.childNodes.length-1)},vn=function(t,n){var e=fn(t);e.each((function(e){e.dom.insertBefore(n.dom,t.dom)}))},pn=function(t,n){t.dom.appendChild(n.dom)},bn=function(t,n){O(n,(function(n){vn(t,n)}))},yn=function(t,n){O(n,(function(n){pn(t,n)}))},wn=function(t){var n=t.dom;null!==n.parentNode&&n.parentNode.removeChild(n)},xn=function(t,n){return Nt.fromDom(t.dom.cloneNode(n))},Sn=function(t){return xn(t,!0)},Cn=function(t,n){var e=Nt.fromTag(n),r=ln(t);return sn(e,r),e},kn=function(t,n){var e=Cn(t,n);vn(t,e);var r=dn(t);return yn(e,r),wn(t),e},On=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),zn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Tn=function(t){return function(n){return n&&n.nodeName.toLowerCase()===t}},Mn=function(t){return function(n){return n&&t.test(n.nodeName)}},Dn=function(t){return t&&3===t.nodeType},_n=Mn(/^(OL|UL|DL)$/),An=Mn(/^(OL|UL)$/),Hn=Tn("ol"),En=Mn(/^(LI|DT|DD)$/),Rn=Mn(/^(DT|DD)$/),Bn=Mn(/^(TH|TD)$/),Vn=Tn("br"),In=function(t){return t.parentNode.firstChild===t},Pn=function(t,n){return n&&!!t.schema.getTextBlockElements()[n.nodeName]},Ln=function(t,n){return t&&t.nodeName in n},Fn=function(t,n){return!!Vn(n)&&(t.isBlock(n.nextSibling)&&!Vn(n.previousSibling))},Nn=function(t,n,e){var r=t.isEmpty(n);return!(e&&t.select("span[data-mce-type=bookmark]",n).length>0)&&r},jn=function(t,n){return t.isChildOf(n,t.getRoot())},Un=function(t){return t.getParam("lists_indent_on_tab",!0)},Wn=function(t){var n=t.getParam("forced_root_block","p");return!1===n?"":!0===n?"p":n},Gn=function(t){return t.getParam("forced_root_block_attrs",{})},$n=function(t,n){var e,r,o,i=t.dom,u=t.schema.getBlockElements(),a=i.createFragment(),c=Wn(t);if(c&&(r=i.create(c),r.tagName===c.toUpperCase()&&i.setAttribs(r,Gn(t)),Ln(n.firstChild,u)||a.appendChild(r)),n)while(e=n.firstChild){var s=e.nodeName;o||"SPAN"===s&&"bookmark"===e.getAttribute("data-mce-type")||(o=!0),Ln(e,u)?(a.appendChild(e),r=null):c?(r||(r=i.create(c),a.appendChild(r)),r.appendChild(e)):a.appendChild(e)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):a.appendChild(i.create("br")),a},qn=On.DOM,Xn=function(t,n,e){var r=function(t){zn.each(o,(function(n){t.parentNode.insertBefore(n,e.parentNode)})),qn.remove(t)},o=qn.select('span[data-mce-type="bookmark"]',n),i=$n(t,e),u=qn.createRng();u.setStartAfter(e),u.setEndAfter(n);for(var a=u.extractContents(),c=a.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&t.dom.isEmpty(c)){qn.remove(c);break}t.dom.isEmpty(a)||qn.insertAfter(a,n),qn.insertAfter(i,n),Nn(t.dom,e.parentNode)&&r(e.parentNode),qn.remove(e),Nn(t.dom,n)&&qn.remove(n)},Kn=an("dd"),Yn=an("dt"),Jn=function(t,n){Kn(n)?kn(n,"dt"):Yn(n)&&fn(n).each((function(e){return Xn(t,e.dom,n.dom)}))},Qn=function(t){Yn(t)&&kn(t,"dd")},Zn=function(t,n,e){O(e,"Indent"===n?Qn:function(n){return Jn(t,n)})},te=function(t,n){if(Dn(t))return{container:t,offset:n};var e=Xt.getNode(t,n);return Dn(e)?{container:e,offset:n>=t.childNodes.length?e.data.length:0}:e.previousSibling&&Dn(e.previousSibling)?{container:e.previousSibling,offset:e.previousSibling.data.length}:e.nextSibling&&Dn(e.nextSibling)?{container:e.nextSibling,offset:0}:{container:t,offset:n}},ne=function(t){var n=t.cloneRange(),e=te(t.startContainer,t.startOffset);n.setStart(e.container,e.offset);var r=te(t.endContainer,t.endOffset);return n.setEnd(r.container,r.offset),n},ee=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),re=function(t,n){var e=n||t.selection.getStart(!0);return t.dom.getParent(e,"OL,UL,DL",le(t,e))},oe=function(t,n){return t&&1===n.length&&n[0]===t},ie=function(t){return z(t.querySelectorAll("ol,ul,dl"),_n)},ue=function(t){var n=re(t),e=t.selection.getSelectedBlocks();return oe(n,e)?ie(n):z(e,(function(t){return _n(t)&&n!==t}))},ae=function(t,n){var e=zn.map(n,(function(n){var e=t.dom.getParent(n,"li,dd,dt",le(t,n));return e||n}));return ee.unique(e)},ce=function(t){var n=t.selection.getSelectedBlocks();return z(ae(t,n),En)},se=function(t){return z(ce(t),Rn)},le=function(t,n){var e=t.dom.getParents(n,"TD,TH");return e.length>0?e[0]:t.getBody()},fe=function(t,n){var e=t.dom.getParents(n,"ol,ul",le(t,n));return V(e)},de=function(t){var n=fe(t,t.selection.getStart()),e=z(t.selection.getSelectedBlocks(),An);return n.toArray().concat(e)},me=function(t){var n=de(t);return ge(t,n)},ge=function(t,n){var e=k(n,(function(n){return fe(t,n).getOr(n)}));return ee.unique(e)},he=function(t,n,e){return void 0===e&&(e=m),t.exists((function(t){return e(t,n)}))},ve=function(t,n,e){return t.isSome()&&n.isSome()?x.some(e(t.getOrDie(),n.getOrDie())):x.none()},pe=function(t,n){var e=n||document,r=e.createDocumentFragment();return O(t,(function(t){r.appendChild(t.dom)})),Nt.fromDom(r)},be=function(t,n,e){return t.fire("ListMutation",{action:n,element:e})},ye=function(t){return void 0!==t.style&&c(t.style.getPropertyValue)},we=function(t,n,e){if(!o(e))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",e,":: Element ",t),new Error("CSS value must be a string: "+e);ye(t)&&t.style.setProperty(n,e)},xe=function(t,n,e){var r=t.dom;we(r,n,e)},Se=function(t,n){pn(t.item,n.list)},Ce=function(t){for(var n=1;n<t.length;n++)Se(t[n-1],t[n])},ke=function(t,n){ve(V(t),B(n),Se)},Oe=function(t,n){var e={list:Nt.fromTag(n,t),item:Nt.fromTag("li",t)};return pn(e.list,e.item),e},ze=function(t,n,e){for(var r=[],o=0;o<e;o++)r.push(Oe(t,n.listType));return r},Te=function(t,n){for(var e=0;e<t.length-1;e++)xe(t[e].item,"list-style-type","none");V(t).each((function(t){sn(t.list,n.listAttributes),sn(t.item,n.itemAttributes),yn(t.item,n.content)}))},Me=function(t,n){en(t.list)!==n.listType&&(t.list=kn(t.list,n.listType)),sn(t.list,n.listAttributes)},De=function(t,n,e){var r=Nt.fromTag("li",t);return sn(r,n),yn(r,e),r},_e=function(t,n){pn(t.list,n),t.item=n},Ae=function(t,n,e){var r=n.slice(0,e.depth);return V(r).each((function(n){var r=De(t,e.itemAttributes,e.content);_e(n,r),Me(n,e)})),r},He=function(t,n,e){var r=ze(t,e,e.depth-n.length);return Ce(r),Te(r,e),ke(n,r),n.concat(r)},Ee=function(t,n){var e=M(n,(function(n,e){return e.depth>n.length?He(t,n,e):Ae(t,n,e)}),[]);return B(e).map((function(t){return t.list}))},Re=function(t){return qt(t,"OL,UL")},Be=function(t){return gn(t).exists(Re)},Ve=function(t){return hn(t).exists(Re)},Ie=function(t){return t.depth>0},Pe=function(t){return t.isSelected},Le=function(t){var n=dn(t),e=Ve(t)?n.slice(0,-1):n;return k(e,Sn)},Fe=function(t,n,e){return fn(t).filter(un).map((function(r){return{depth:n,dirty:!1,isSelected:e,content:Le(t),itemAttributes:ln(t),listAttributes:ln(r),listType:en(r)}}))},Ne=function(t,n){switch(t){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}n.dirty=!0},je=function(t,n){t.listType=n.listType,t.listAttributes=P({},n.listAttributes)},Ue=function(t){t.listAttributes=nn(t.listAttributes,(function(t,n){return"start"!==n}))},We=function(t,n){var e=t[n].depth,r=function(t){return t.depth===e&&!t.dirty},o=function(t){return t.depth<e};return D(E(t.slice(0,n)),r,o).orThunk((function(){return D(t.slice(n+1),r,o)}))},Ge=function(t){return O(t,(function(n,e){We(t,e).fold((function(){n.dirty&&Ue(n)}),(function(t){return je(n,t)}))})),t},$e=function(t){var n=t,e=function(){return n},r=function(t){n=t};return{get:e,set:r}},qe=function(t,n,e,r){return gn(r).filter(Re).fold((function(){n.each((function(t){Ut(t.start,r)&&e.set(!0)}));var o=Fe(r,t,e.get());n.each((function(t){Ut(t.end,r)&&e.set(!1)}));var i=hn(r).filter(Re).map((function(r){return Xe(t,n,e,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return Xe(t,n,e,r)}))},Xe=function(t,n,e,r){return H(dn(r),(function(r){var o=Re(r)?Xe:qe,i=t+1;return o(i,n,e,r)}))},Ke=function(t,n){var e=$e(!1),r=0;return k(t,(function(t){return{sourceList:t,entries:Xe(r,n,e,t)}}))},Ye=function(t,n){var e=Ge(n);return k(e,(function(n){var e=pe(n.content);return Nt.fromDom($n(t,e.dom))}))},Je=function(t,n){var e=Ge(n);return Ee(t.contentDocument,e).toArray()},Qe=function(t,n){return H(T(n,Ie),(function(n){var e=B(n).exists(Ie);return e?Je(t,n):Ye(t,n)}))},Ze=function(t,n){O(z(t,Pe),(function(t){return Ne(n,t)}))},tr=function(t){var n=k(ce(t),Nt.fromDom);return ve(_(n,g(Be)),_(E(n),g(Be)),(function(t,n){return{start:t,end:n}}))},nr=function(t,n,e){var r=Ke(n,tr(t));O(r,(function(n){Ze(n.entries,e);var r=Qe(t,n.entries);O(r,(function(n){be(t,"Indent"===e?"IndentList":"OutdentList",n.dom)})),bn(n.sourceList,r),wn(n.sourceList)}))},er=function(t,n){var e=k(me(t),Nt.fromDom),r=k(se(t),Nt.fromDom),o=!1;if(e.length||r.length){var i=t.selection.getBookmark();nr(t,e,n),Zn(t,n,r),t.selection.moveToBookmark(i),t.selection.setRng(ne(t.selection.getRng())),t.nodeChanged(),o=!0}return o},rr=function(t){return er(t,"Indent")},or=function(t){return er(t,"Outdent")},ir=function(t){return er(t,"Flatten")},ur=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),ar=On.DOM,cr=function(t){var n={},e=function(e){var r=t[e?"startContainer":"endContainer"],o=t[e?"startOffset":"endOffset"];if(1===r.nodeType){var i=ar.create("span",{"data-mce-type":"bookmark"});r.hasChildNodes()?(o=Math.min(o,r.childNodes.length-1),e?r.insertBefore(i,r.childNodes[o]):ar.insertAfter(i,r.childNodes[o])):r.appendChild(i),r=i,o=0}n[e?"startContainer":"endContainer"]=r,n[e?"startOffset":"endOffset"]=o};return e(!0),t.collapsed||e(),n},sr=function(t){var n=function(n){var e,r=function(t){var n=t.parentNode.firstChild,e=0;while(n){if(n===t)return e;1===n.nodeType&&"bookmark"===n.getAttribute("data-mce-type")||e++,n=n.nextSibling}return-1},o=e=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];o&&(1===o.nodeType&&(i=r(o),o=o.parentNode,ar.remove(e),!o.hasChildNodes()&&ar.isBlock(o)&&o.appendChild(ar.create("br"))),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i)};n(!0),n();var e=ar.createRng();return e.setStart(t.startContainer,t.startOffset),t.endContainer&&e.setEnd(t.endContainer,t.endOffset),ne(e)},lr=function(t){switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},fr=function(t){return/\btox\-/.test(t.className)},dr=function(t,n,e){var r=function(t){var r=D(t.parents,_n,Bn).filter((function(t){return t.nodeName===n&&!fr(t)})).isSome();e(r)},o=t.dom.getParents(t.selection.getNode());return r({parents:o}),t.on("NodeChange",r),function(){return t.off("NodeChange",r)}},mr=function(t,n,e){var r=e["list-style-type"]?e["list-style-type"]:null;t.setStyle(n,"list-style-type",r)},gr=function(t,n){zn.each(n,(function(n,e){t.setAttribute(e,n)}))},hr=function(t,n,e){gr(n,e["list-attributes"]),zn.each(t.select("li",n),(function(t){gr(t,e["list-item-attributes"])}))},vr=function(t,n,e){mr(t,n,e),hr(t,n,e)},pr=function(t,n,e){zn.each(e,(function(e){var r;return t.setStyle(n,(r={},r[e]="",r))}))},br=function(t,n,e,r){var o=n[e?"startContainer":"endContainer"],i=n[e?"startOffset":"endOffset"];1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!e&&Vn(o.nextSibling)&&(o=o.nextSibling);while(o.parentNode!==r){if(Pn(t,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},yr=function(t,n,e){for(var r,o=[],i=t.dom,u=br(t,n,!0,e),a=br(t,n,!1,e),c=[],s=u;s;s=s.nextSibling)if(c.push(s),s===a)break;return zn.each(c,(function(n){if(Pn(t,n))return o.push(n),void(r=null);if(i.isBlock(n)||Vn(n))return Vn(n)&&i.remove(n),void(r=null);var u=n.nextSibling;ur.isBookmarkNode(n)&&(_n(u)||Pn(t,u)||!u&&n.parentNode===e)?r=null:(r||(r=i.create("p"),n.parentNode.insertBefore(r,n),o.push(r)),r.appendChild(n))})),o},wr=function(t,n,e){var r=t.getStyle(n,"list-style-type"),o=e?e["list-style-type"]:"";return o=null===o?"":o,r===o},xr=function(t,n,e){var r=t.selection.getRng(),o="LI",i=le(t,t.selection.getStart(!0)),u=t.dom;if("false"!==u.getContentEditable(t.selection.getNode())){n=n.toUpperCase(),"DL"===n&&(o="DT");var a=cr(r),c=yr(t,r,i);zn.each(c,(function(r){var i,a=r.previousSibling,c=r.parentNode;En(c)||(a&&_n(a)&&a.nodeName===n&&wr(u,a,e)?(i=a,r=u.rename(r,o),a.appendChild(r)):(i=u.create(n),r.parentNode.insertBefore(i,r),i.appendChild(r),r=u.rename(r,o)),pr(u,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),vr(u,i,e),zr(t.dom,i))})),t.selection.setRng(sr(a))}},Sr=function(t,n){return t&&n&&_n(t)&&t.nodeName===n.nodeName},Cr=function(t,n,e){var r=t.getStyle(n,"list-style-type",!0),o=t.getStyle(e,"list-style-type",!0);return r===o},kr=function(t,n){return t.className===n.className},Or=function(t,n,e){return Sr(n,e)&&Cr(t,n,e)&&kr(n,e)},zr=function(t,n){var e,r;if(e=n.nextSibling,Or(t,n,e)){while(r=e.firstChild)n.appendChild(r);t.remove(e)}if(e=n.previousSibling,Or(t,n,e)){while(r=e.lastChild)n.insertBefore(r,n.firstChild);t.remove(e)}},Tr=function(t,n,e,r){if(n.nodeName!==e){var o=t.dom.rename(n,e);vr(t.dom,o,r),be(t,lr(e),o)}else vr(t.dom,n,r),be(t,lr(e),n)},Mr=function(t,n,e,r,o){var i=_n(n);if(i&&n.nodeName===r&&!Dr(o))ir(t);else{xr(t,r,o);var u=cr(t.selection.getRng()),a=i?L([n],e,!0):e;zn.each(a,(function(n){Tr(t,n,r,o)})),t.selection.setRng(sr(u))}},Dr=function(t){return"list-style-type"in t},_r=function(t,n,e,r){if(n!==t.getBody())if(n)if(n.nodeName!==e||Dr(r)||fr(n)){var o=cr(t.selection.getRng());vr(t.dom,n,r);var i=t.dom.rename(n,e);zr(t.dom,i),t.selection.setRng(sr(o)),xr(t,e,r),be(t,lr(e),i)}else ir(t);else xr(t,e,r),be(t,lr(e),n)},Ar=function(t,n,e){var r=re(t),o=ue(t),u=i(e)?e:{};o.length>0?Mr(t,r,o,n,u):_r(t,r,n,u)},Hr=On.DOM,Er=function(t,n){var e=n.parentNode;if("LI"===e.nodeName&&e.firstChild===n){var r=e.previousSibling;r&&"LI"===r.nodeName?(r.appendChild(n),Nn(t,e)&&Hr.remove(e)):Hr.setStyle(e,"listStyleType","none")}if(_n(e)){r=e.previousSibling;r&&"LI"===r.nodeName&&r.appendChild(n)}},Rr=function(t,n){var e=zn.grep(t.select("ol,ul",n));zn.each(e,(function(n){Er(t,n)}))},Br=function(t,n,e,r){var o=n.startContainer,i=n.startOffset;if(Dn(o)&&(e?i<o.data.length:i>0))return o;var u=t.schema.getNonEmptyElements();1===o.nodeType&&(o=Xt.getNode(o,i));var a=new Kt(o,r);e&&Fn(t.dom,o)&&a.next();while(o=a[e?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(u[o.nodeName])return o;if(Dn(o)&&o.data.length>0)return o}},Vr=function(t,n){var e=n.childNodes;return 1===e.length&&!_n(e[0])&&t.isBlock(e[0])},Ir=function(t,n){Vr(t,n)&&t.remove(n.firstChild,!0)},Pr=function(t,n,e){var r,o=Vr(t,e)?e.firstChild:e;if(Ir(t,n),!Nn(t,n,!0))while(r=n.firstChild)o.appendChild(r)},Lr=function(t,n,e){var r,o=n.parentNode;if(jn(t,n)&&jn(t,e)){_n(e.lastChild)&&(r=e.lastChild),o===e.lastChild&&Vn(o.previousSibling)&&t.remove(o.previousSibling);var i=e.lastChild;i&&Vn(i)&&n.hasChildNodes()&&t.remove(i),Nn(t,e,!0)&&t.$(e).empty(),Pr(t,n,e),r&&e.appendChild(r);var u=$t(Nt.fromDom(e),Nt.fromDom(n)),a=u?t.getParents(n,_n,e):[];t.remove(n),O(a,(function(n){Nn(t,n)&&n!==t.getRoot()&&t.remove(n)}))}},Fr=function(t,n,e){t.dom.$(e).empty(),Lr(t.dom,n,e),t.selection.setCursorLocation(e,0)},Nr=function(t,n,e,r){var o=t.dom;if(o.isEmpty(r))Fr(t,e,r);else{var i=cr(n);Lr(o,e,r),t.selection.setRng(sr(i))}},jr=function(t,n,e,r){var o=cr(n);Lr(t.dom,e,r);var i=sr(o);t.selection.setRng(i)},Ur=function(t,n){var e=t.dom,r=t.selection,o=r.getStart(),i=le(t,o),u=e.getParent(r.getStart(),"LI",i);if(u){var a=u.parentNode;if(a===t.getBody()&&Nn(e,a))return!0;var c=ne(r.getRng()),s=e.getParent(Br(t,c,n,i),"LI",i);if(s&&s!==u)return t.undoManager.transact((function(){n?Nr(t,c,s,u):In(u)?or(t):jr(t,c,u,s)})),!0;if(!s&&!n&&0===c.startOffset&&0===c.endOffset)return t.undoManager.transact((function(){ir(t)})),!0}return!1},Wr=function(t,n,e){var r=t.getParent(n.parentNode,t.isBlock,e);t.remove(n),r&&t.isEmpty(r)&&t.remove(r)},Gr=function(t,n){var e=t.dom,r=t.selection.getStart(),o=le(t,r),i=e.getParent(r,e.isBlock,o);if(i&&e.isEmpty(i)){var u=ne(t.selection.getRng()),a=e.getParent(Br(t,u,n,o),"LI",o);if(a)return t.undoManager.transact((function(){Wr(e,i,o),zr(e,a.parentNode),t.selection.select(a,!0),t.selection.collapse(n)})),!0}return!1},$r=function(t,n){return Ur(t,n)||Gr(t,n)},qr=function(t){var n=t.selection.getStart(),e=le(t,n),r=t.dom.getParent(n,"LI,DT,DD",e);return!!(r||ce(t).length>0)&&(t.undoManager.transact((function(){t.execCommand("Delete"),Rr(t.dom,t.getBody())})),!0)},Xr=function(t,n){return t.selection.isCollapsed()?$r(t,n):qr(t)},Kr=function(t){t.on("keydown",(function(n){n.keyCode===Yt.BACKSPACE?Xr(t,!1)&&n.preventDefault():n.keyCode===Yt.DELETE&&Xr(t,!0)&&n.preventDefault()}))},Yr=function(t){return{backspaceDelete:function(n){Xr(t,n)}}},Jr=function(t,n){var e=re(t);t.undoManager.transact((function(){i(n.styles)&&t.dom.setStyles(e,n.styles),i(n.attrs)&&Qt(n.attrs,(function(n,r){return t.dom.setAttrib(e,r,n)}))}))},Qr=function(t){var n=E(tt(t).split("")),e=k(n,(function(t,n){var e=t.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,n)*e}));return M(e,(function(t,n){return t+n}),0)},Zr=function(t){if(t--,t<0)return"";var n=t%26,e=Math.floor(t/26),r=Zr(e),o=String.fromCharCode("A".charCodeAt(0)+n);return r+o},to=function(t){return/^[A-Z]+$/.test(t)},no=function(t){return/^[a-z]+$/.test(t)},eo=function(t){return/^[0-9]+$/.test(t)},ro=function(t){return eo(t)?2:to(t)?0:no(t)?1:et(t)?3:4},oo=function(t){switch(ro(t)){case 2:return x.some({listStyleType:x.none(),start:t});case 0:return x.some({listStyleType:x.some("upper-alpha"),start:Qr(t).toString()});case 1:return x.some({listStyleType:x.some("lower-alpha"),start:Qr(t).toString()});case 3:return x.some({listStyleType:x.none(),start:""});case 4:return x.none()}},io=function(t){var n=parseInt(t.start,10);return he(t.listStyleType,"upper-alpha")?Zr(n):he(t.listStyleType,"lower-alpha")?Zr(n).toLowerCase():t.start},uo=function(t){var n=re(t);Hn(n)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:io({start:t.dom.getAttrib(n,"start","1"),listStyleType:x.some(t.dom.getStyle(n,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var e=n.getData();oo(e.start).each((function(n){t.execCommand("mceListUpdate",!1,{attrs:{start:"1"===n.start?"":n.start},styles:{"list-style-type":n.listStyleType.getOr("")}})})),n.close()}})},ao=function(t,n){return function(){var e=re(t);return e&&e.nodeName===n}},co=function(t){t.addCommand("mceListProps",(function(){uo(t)}))},so=function(t){t.on("BeforeExecCommand",(function(n){var e=n.command.toLowerCase();"indent"===e?rr(t):"outdent"===e&&or(t)})),t.addCommand("InsertUnorderedList",(function(n,e){Ar(t,"UL",e)})),t.addCommand("InsertOrderedList",(function(n,e){Ar(t,"OL",e)})),t.addCommand("InsertDefinitionList",(function(n,e){Ar(t,"DL",e)})),t.addCommand("RemoveList",(function(){ir(t)})),co(t),t.addCommand("mceListUpdate",(function(n,e){i(e)&&Jr(t,e)})),t.addQueryStateHandler("InsertUnorderedList",ao(t,"UL")),t.addQueryStateHandler("InsertOrderedList",ao(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",ao(t,"DL"))},lo=function(t){t.on("keydown",(function(n){n.keyCode!==Yt.TAB||Yt.metaKeyPressed(n)||t.undoManager.transact((function(){(n.shiftKey?or(t):rr(t))&&n.preventDefault()}))}))},fo=function(t){Un(t)&&lo(t),Kr(t)},mo=function(t){var n=function(n){return function(){return t.execCommand(n)}};t.hasPlugin("advlist")||(t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:n("InsertOrderedList"),onSetup:function(n){return dr(t,"OL",n.setActive)}}),t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:n("InsertUnorderedList"),onSetup:function(n){return dr(t,"UL",n.setActive)}}))},go=function(t){var n={text:"List properties...",icon:"ordered-list",onAction:function(){return t.execCommand("mceListProps")},onSetup:function(n){return dr(t,"OL",(function(t){return n.setDisabled(!t)}))}};t.ui.registry.addMenuItem("listprops",n),t.ui.registry.addContextMenu("lists",{update:function(n){var e=re(t,n);return Hn(e)?["listprops"]:[]}})};function ho(){t.add("lists",(function(t){return!1===t.hasPlugin("rtc",!0)?(fo(t),so(t)):co(t),mo(t),go(t),Yr(t)}))}ho()})()},3699:function(t,n){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return n=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e],n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},n.apply(this,arguments)},e=function(t){var n=typeof t;return null===t?"null":"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},r=function(t){return function(n){return e(n)===t}},o=r("string"),i=r("object"),u=r("array"),a=function(t){return null===t||void 0===t},c=function(t){return!a(t)},s=function(){},l=function(t){return function(){return t}},f=function(t){return t},d=l(!1),m=l(!0),g=function(){return h},h=function(){var t=function(t){return t()},n=f,e={fold:function(t,n){return t()},isSome:d,isNone:m,getOr:n,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:n,orThunk:t,map:g,each:s,bind:g,exists:d,forall:m,filter:function(){return g()},toArray:function(){return[]},toString:l("none()")};return e}(),v=function(t){var n=l(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:m,isNone:d,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return v(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:h},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},p=function(t){return null===t||void 0===t?h:v(t)},b={some:v,none:g,from:p},y=Array.prototype.push,w=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];n(o,e)}},x=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!u(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);y.apply(n,t[e])}return n},S=function(t){var n=t,e=function(){return n},r=function(t){n=t};return{get:e,set:r}},C=Object.keys,k=Object.hasOwnProperty,O=function(t,n){for(var e=C(t),r=0,o=e.length;r<o;r++){var i=e[r],u=t[i];n(u,i)}},z=function(t,n){return T(t,n)?b.from(t[n]):b.none()},T=function(t,n){return k.call(t,n)},M=function(t){return t.getParam("media_scripts")},D=function(t){return t.getParam("audio_template_callback")},_=function(t){return t.getParam("video_template_callback")},A=function(t){return t.getParam("media_live_embeds",!0)},H=function(t){return t.getParam("media_filter_html",!0)},E=function(t){return t.getParam("media_url_resolver")},R=function(t){return t.getParam("media_alt_source",!0)},B=function(t){return t.getParam("media_poster",!0)},V=function(t){return t.getParam("media_dimensions",!0)},I=tinymce.util.Tools.resolve("tinymce.util.Tools"),P=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),L=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),F=function(t,n){if(t)for(var e=0;e<t.length;e++)if(-1!==n.indexOf(t[e].filter))return t[e]},N=P.DOM,j=function(t){return t.replace(/px$/,"")},U=function(t){var n=t.map.style,e=n?N.parseStyle(n):{};return{type:"ephox-embed-iri",source:t.map["data-ephox-embed-iri"],altsource:"",poster:"",width:z(e,"max-width").map(j).getOr(""),height:z(e,"max-height").map(j).getOr("")}},W=function(t,n){var e=S(!1),r={};return L({validate:!1,allow_conditional_comments:!0,start:function(n,o){if(e.get());else if(T(o.map,"data-ephox-embed-iri"))e.set(!0),r=U(o);else{if(r.source||"param"!==n||(r.source=o.map.movie),"iframe"!==n&&"object"!==n&&"embed"!==n&&"video"!==n&&"audio"!==n||(r.type||(r.type=n),r=I.extend(o.map,r)),"script"===n){var i=F(t,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===n&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==n||r.poster||(r.poster=o.map.src)}}}).parse(n),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},G=function(t){var n={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},e=t.toLowerCase().split(".").pop(),r=n[e];return r||""},$=tinymce.util.Tools.resolve("tinymce.html.Schema"),q=tinymce.util.Tools.resolve("tinymce.html.Writer"),X=P.DOM,K=function(t){return/^[0-9.]+$/.test(t)?t+"px":t},Y=function(t,n){O(n,(function(n,e){var r=""+n;if(t.map[e]){var o=t.length;while(o--){var i=t[o];i.name===e&&(r?(t.map[e]=r,i.value=r):(delete t.map[e],t.splice(o,1)))}}else r&&(t.push({name:e,value:r}),t.map[e]=r)}))},J=function(t,n){var e=n.map.style,r=e?X.parseStyle(e):{};r["max-width"]=K(t.width),r["max-height"]=K(t.height),Y(n,{style:X.serializeStyle(r)})},Q=["source","altsource"],Z=function(t,n,e){var r,o=q(),i=S(!1),u=0;return L({validate:!1,allow_conditional_comments:!0,comment:function(t){o.comment(t)},cdata:function(t){o.cdata(t)},text:function(t,n){o.text(t,n)},start:function(t,a,c){if(i.get());else if(T(a.map,"data-ephox-embed-iri"))i.set(!0),J(n,a);else{switch(t){case"video":case"object":case"embed":case"img":case"iframe":void 0!==n.height&&void 0!==n.width&&Y(a,{width:n.width,height:n.height});break}if(e)switch(t){case"video":Y(a,{poster:n.poster,src:""}),n.altsource&&Y(a,{src:""});break;case"iframe":Y(a,{src:n.source});break;case"source":if(u<2&&(Y(a,{src:n[Q[u]],type:n[Q[u]+"mime"]}),!n[Q[u]]))return;u++;break;case"img":if(!n.poster)return;r=!0;break}}o.start(t,a,c)},end:function(t){if(!i.get()){if("video"===t&&e)for(var a=0;a<2;a++)if(n[Q[a]]){var c=[];c.map={},u<=a&&(Y(c,{src:n[Q[a]],type:n[Q[a]+"mime"]}),o.start("source",c,!0))}if(n.poster&&"object"===t&&e&&!r){var s=[];s.map={},Y(s,{src:n.poster,width:n.width,height:n.height}),o.start("img",s,!0)}}o.end(t)}},$({})).parse(t),o.getContent()},tt=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],nt=function(t){var n=t.match(/^(https?:\/\/|www\.)(.+)$/i);return n&&n.length>1?"www."===n[1]?"https://":n[1]:"https://"},et=function(t,n){for(var e=nt(n),r=t.regex.exec(n),o=e+t.url,i=function(t){o=o.replace("$"+t,(function(){return r[t]?r[t]:""}))},u=0;u<r.length;u++)i(u);return o.replace(/\?$/,"")},rt=function(t){var n=tt.filter((function(n){return n.regex.test(t)}));return n.length>0?I.extend({},n[0],{url:et(n[0],t)}):null},ot=function(t){var n=t.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+t.source+'" width="'+t.width+'" height="'+t.height+'"'+n+"></iframe>"},it=function(t){var n='<object data="'+t.source+'" width="'+t.width+'" height="'+t.height+'" type="application/x-shockwave-flash">';return t.poster&&(n+='<img src="'+t.poster+'" width="'+t.width+'" height="'+t.height+'" />'),n+="</object>",n},ut=function(t,n){return n?n(t):'<audio controls="controls" src="'+t.source+'">'+(t.altsource?'\n<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</audio>"},at=function(t,n){return n?n(t):'<video width="'+t.width+'" height="'+t.height+'"'+(t.poster?' poster="'+t.poster+'"':"")+' controls="controls">\n<source src="'+t.source+'"'+(t.sourcemime?' type="'+t.sourcemime+'"':"")+" />\n"+(t.altsource?'<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</video>"},ct=function(t){return'<script src="'+t.source+'"><\/script>'},st=function(t,n){var e=I.extend({},n);if(!e.source&&(I.extend(e,W(M(t),e.embed)),!e.source))return"";e.altsource||(e.altsource=""),e.poster||(e.poster=""),e.source=t.convertURL(e.source,"source"),e.altsource=t.convertURL(e.altsource,"source"),e.sourcemime=G(e.source),e.altsourcemime=G(e.altsource),e.poster=t.convertURL(e.poster,"poster");var r=rt(e.source);if(r&&(e.source=r.url,e.type=r.type,e.allowfullscreen=r.allowFullscreen,e.width=e.width||String(r.w),e.height=e.height||String(r.h)),e.embed)return Z(e.embed,e,!0);var o=F(M(t),e.source);o&&(e.type="script",e.width=String(o.width),e.height=String(o.height));var i=D(t),u=_(t);return e.width=e.width||"300",e.height=e.height||"150",I.each(e,(function(n,r){e[r]=t.dom.encode(""+n)})),"iframe"===e.type?ot(e):"application/x-shockwave-flash"===e.sourcemime?it(e):-1!==e.sourcemime.indexOf("audio")?ut(e,i):"script"===e.type?ct(e):at(e,u)},lt=function(t){return t.hasAttribute("data-mce-object")||t.hasAttribute("data-ephox-embed-iri")},ft=function(t){t.on("click keyup touchend",(function(){var n=t.selection.getNode();n&&t.dom.hasClass(n,"mce-preview-object")&&t.dom.getAttrib(n,"data-mce-selected")&&n.setAttribute("data-mce-selected","2")})),t.on("ObjectSelected",(function(t){var n=t.target.getAttribute("data-mce-object");"script"===n&&t.preventDefault()})),t.on("ObjectResized",(function(t){var n=t.target;if(n.getAttribute("data-mce-object")){var e=n.getAttribute("data-mce-html");e&&(e=unescape(e),n.setAttribute("data-mce-html",escape(Z(e,{width:String(t.width),height:String(t.height)}))))}}))},dt=tinymce.util.Tools.resolve("tinymce.util.Promise"),mt={},gt=function(t,n,e){return new dt((function(r,o){var i=function(e){return e.html&&(mt[t.source]=e),r({url:t.source,html:e.html?e.html:n(t)})};mt[t.source]?i(mt[t.source]):e({url:t.source},i,o)}))},ht=function(t,n){return dt.resolve({html:n(t),url:t.source})},vt=function(t){return function(n){return st(t,n)}},pt=function(t,n){var e=E(t);return e?gt(n,vt(t),e):ht(n,vt(t))},bt=function(t){return T(mt,t)},yt=function(t,n){return z(n,t).bind((function(t){return z(t,"meta")}))},wt=function(t,n,e){return function(r){var o,u=function(){return z(t,r)},a=function(){return z(n,r)},c=function(t){return z(t,"value").bind((function(t){return t.length>0?b.some(t):b.none()}))},s=function(){return u().bind((function(t){return i(t)?c(t).orThunk(a):a().orThunk((function(){return b.from(t)}))}))},l=function(){return a().orThunk((function(){return u().bind((function(t){return i(t)?c(t):b.from(t)}))}))};return o={},o[r]=(r===e?s():l()).getOr(""),o}},xt=function(t,n){var e={};return z(t,"dimensions").each((function(t){w(["width","height"],(function(r){z(n,r).orThunk((function(){return z(t,r)})).each((function(t){return e[r]=t}))}))})),e},St=function(t,e){var r=e?yt(e,t).getOr({}):{},o=wt(t,r,e);return n(n(n(n(n({},o("source")),o("altsource")),o("poster")),o("embed")),xt(t,r))},Ct=function(t){var e=n(n({},t),{source:{value:z(t,"source").getOr("")},altsource:{value:z(t,"altsource").getOr("")},poster:{value:z(t,"poster").getOr("")}});return w(["width","height"],(function(n){z(t,n).each((function(t){var r=e.dimensions||{};r[n]=t,e.dimensions=r}))})),e},kt=function(t){return function(n){var e=n&&n.msg?"Media embed handler error: "+n.msg:"Media embed handler threw unknown error.";t.notificationManager.open({type:"error",text:e})}},Ot=function(t,n){return W(M(t),n)},zt=function(t){var e=t.selection.getNode(),r=lt(e)?t.serializer.serialize(e,{selection:!0}):"";return n({embed:r},W(M(t),r))},Tt=function(t,e){return function(r){if(o(r.url)&&r.url.trim().length>0){var i=r.html,u=Ot(e,i),a=n(n({},u),{source:r.url,embed:i});t.setData(Ct(a))}}},Mt=function(t,n){for(var e=t.dom.select("*[data-mce-object]"),r=0;r<n.length;r++)for(var o=e.length-1;o>=0;o--)n[r]===e[o]&&e.splice(o,1);t.selection.select(e[0])},Dt=function(t,n){var e=t.dom.select("*[data-mce-object]");t.insertContent(n),Mt(t,e),t.nodeChanged()},_t=function(t,n,e){n.embed=Z(n.embed,n),n.embed&&(t.source===n.source||bt(n.source))?Dt(e,n.embed):pt(e,n).then((function(t){Dt(e,t.html)})).catch(kt(e))},At=function(t){var e=zt(t),r=S(e),o=Ct(e),i=function(n,e){var r=St(e.getData(),"source");n.source!==r.source&&(Tt(p,t)({url:r.source,html:""}),pt(t,r).then(Tt(p,t)).catch(kt(t)))},u=function(n){var e=St(n.getData()),r=Ot(t,e.embed);n.setData(Ct(r))},a=function(e,r){var o=St(e.getData(),r),i=st(t,o);e.setData(Ct(n(n({},o),{embed:i})))},c=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],s=V(t)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],l={title:"General",name:"general",items:x([c,s])},f={type:"textarea",name:"embed",label:"Paste your embed code below:"},d={title:"Embed",items:[f]},m=[];R(t)&&m.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),B(t)&&m.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var g={title:"Advanced",name:"advanced",items:m},h=[l,d];m.length>0&&h.push(g);var v={type:"tabpanel",tabs:h},p=t.windowManager.open({title:"Insert/Edit Media",size:"normal",body:v,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var e=St(n.getData());_t(r.get(),e,t),n.close()},onChange:function(t,n){switch(n.name){case"source":i(r.get(),t);break;case"embed":u(t);break;case"dimensions":case"altsource":case"poster":a(t,n.name);break}r.set(St(t.getData()))},initialData:o})},Ht=function(t){var n=function(){At(t)};return{showDialog:n}},Et=function(t){var n=function(){At(t)};t.addCommand("mceMedia",n)},Rt=tinymce.util.Tools.resolve("tinymce.html.Node"),Bt=tinymce.util.Tools.resolve("tinymce.Env"),Vt=tinymce.util.Tools.resolve("tinymce.html.DomParser"),It=function(t,n){if(!1===H(t))return n;var e,r=q();return L({validate:!1,allow_conditional_comments:!1,comment:function(t){e||r.comment(t)},cdata:function(t){e||r.cdata(t)},text:function(t,n){e||r.text(t,n)},start:function(n,o,i){if(e=!0,"script"!==n&&"noscript"!==n&&"svg"!==n){for(var u=o.length-1;u>=0;u--){var a=o[u].name;0===a.indexOf("on")&&(delete o.map[a],o.splice(u,1)),"style"===a&&(o[u].value=t.dom.serializeStyle(t.dom.parseStyle(o[u].value),n))}r.start(n,o,i),e=!1}},end:function(t){e||r.end(t)}},$({})).parse(n),r.getContent()},Pt=function(t){var n=t.name;return"iframe"===n||"video"===n||"audio"===n},Lt=function(t,n,e,r){void 0===r&&(r=null);var o=t.attr(e);return c(o)?o:T(n,e)?null:r},Ft=function(t,n,e){var r="img"===n.name||"video"===t.name,o=r?"300":null,i="audio"===t.name?"30":"150",u=r?i:null;n.attr({width:Lt(t,e,"width",o),height:Lt(t,e,"height",u)})},Nt=function(t,n,e,r){var o=Vt({forced_root_block:!1,validate:!1},t.schema).parse(r,{context:n});while(o.firstChild)e.append(o.firstChild)},jt=function(t,n){var e=n.name,r=new Rt("img",1);return r.shortEnded=!0,Wt(t,n,r),Ft(n,r,{}),r.attr({style:n.attr("style"),src:Bt.transparentSrc,"data-mce-object":e,class:"mce-object mce-object-"+e}),r},Ut=function(t,n){var e=n.name,r=new Rt("span",1);r.attr({contentEditable:"false",style:n.attr("style"),"data-mce-object":e,class:"mce-preview-object mce-object-"+e}),Wt(t,n,r);var o=t.dom.parseStyle(n.attr("style")),i=new Rt(e,1);if(Ft(n,i,o),i.attr({src:n.attr("src"),style:n.attr("style"),class:n.attr("class")}),"iframe"===e)i.attr({allowfullscreen:n.attr("allowfullscreen"),frameborder:"0"});else{var u=["controls","crossorigin","currentTime","loop","muted","poster","preload"];w(u,(function(t){i.attr(t,n.attr(t))}));var a=r.attr("data-mce-html");c(a)&&Nt(t,e,i,unescape(a))}var s=new Rt("span",1);return s.attr("class","mce-shim"),r.append(i),r.append(s),r},Wt=function(t,n,e){var r=n.attributes,o=r.length;while(o--){var i=r[o].name,u=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(u=t.convertURL(u,i)),e.attr("data-mce-p-"+i,u))}var a=n.firstChild&&n.firstChild.value;a&&(e.attr("data-mce-html",escape(It(t,a))),e.firstChild=null)},Gt=function(t){var n=t.attr("class");return n&&/\btiny-pageembed\b/.test(n)},$t=function(t){while(t=t.parent)if(t.attr("data-ephox-embed-iri")||Gt(t))return!0;return!1},qt=function(t){return function(n){var e,r,o=n.length;while(o--)e=n[o],e.parent&&(e.parent.attr("data-mce-object")||("script"!==e.name||(r=F(M(t),e.attr("src")),r))&&(r&&(r.width&&e.attr("width",r.width.toString()),r.height&&e.attr("height",r.height.toString())),Pt(e)&&A(t)&&Bt.ceFalse?$t(e)||e.replace(Ut(t,e)):$t(e)||e.replace(jt(t,e))))}},Xt=function(t){t.on("preInit",(function(){var n=t.schema.getSpecialElements();I.each("video audio iframe object".split(" "),(function(t){n[t]=new RegExp("</"+t+"[^>]*>","gi")}));var e=t.schema.getBoolAttrs();I.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(t){e[t]={}})),t.parser.addNodeFilter("iframe,video,audio,object,embed,script",qt(t)),t.serializer.addAttributeFilter("data-mce-object",(function(n,e){var r,o,i,u,a,c,s,l,f=n.length;while(f--)if(r=n[f],r.parent){s=r.attr(e),o=new Rt(s,1),"audio"!==s&&"script"!==s&&(l=r.attr("class"),l&&-1!==l.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),u=r.attributes,i=u.length;while(i--){var d=u[i].name;0===d.indexOf("data-mce-p-")&&o.attr(d.substr(11),u[i].value)}"script"===s&&o.attr("type","text/javascript"),a=r.attr("data-mce-html"),a&&(c=new Rt("#text",3),c.raw=!0,c.value=It(t,unescape(a)),o.append(c)),r.replace(o)}}))})),t.on("SetContent",(function(){t.$("span.mce-preview-object").each((function(n,e){var r=t.$(e);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},Kt=function(t){t.on("ResolveName",(function(t){var n;1===t.target.nodeType&&(n=t.target.getAttribute("data-mce-object"))&&(t.name=n)}))},Yt=function(t){var n=function(){return t.execCommand("mceMedia")};t.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:n,onSetup:function(n){var e=t.selection;return n.setActive(lt(e.getNode())),e.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",n.setActive).unbind}}),t.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:n})};function Jt(){t.add("media",(function(t){return Et(t),Yt(t),Kt(t),Xt(t),ft(t),Ht(t)}))}Jt()})()},"3aea":function(t,n,e){e("3699")},4237:function(t,n,e){e("be7f")},"43fc":function(t,n){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),e=function(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")},r=function(t){return t.getParam("noneditable_editable_class","mceEditable")},o=function(t){var n=t.getParam("noneditable_regexp",[]);return n&&n.constructor===RegExp?[n]:n},i=function(t){return function(n){return-1!==(" "+n.attr("class")+" ").indexOf(t)}},u=function(t,n,e){return function(r){var o=arguments,i=o[o.length-2],u=i>0?n.charAt(i-1):"";if('"'===u)return r;if(">"===u){var a=n.lastIndexOf("<",i);if(-1!==a){var c=n.substring(a,i);if(-1!==c.indexOf('contenteditable="false"'))return r}}return'<span class="'+e+'" data-mce-content="'+t.dom.encode(o[0])+'">'+t.dom.encode("string"===typeof o[1]?o[1]:o[0])+"</span>"}},a=function(t,n,r){var o=n.length,i=r.content;if("raw"!==r.format){while(o--)i=i.replace(n[o],u(t,i,e(t)));r.content=i}},c=function(t){var u="contenteditable",c=" "+n.trim(r(t))+" ",s=" "+n.trim(e(t))+" ",l=i(c),f=i(s),d=o(t);t.on("PreInit",(function(){d.length>0&&t.on("BeforeSetContent",(function(n){a(t,d,n)})),t.parser.addAttributeFilter("class",(function(t){var n,e=t.length;while(e--)n=t[e],l(n)?n.attr(u,"true"):f(n)&&n.attr(u,"false")})),t.serializer.addAttributeFilter(u,(function(t){var n,e=t.length;while(e--)n=t[e],(l(n)||f(n))&&(d.length>0&&n.attr("data-mce-content")?(n.name="#text",n.type=3,n.raw=!0,n.value=n.attr("data-mce-content")):n.attr(u,null))}))}))};function s(){t.add("noneditable",(function(t){c(t)}))}s()})()},"4ea8":function(t,n,e){e("cdd9")},"64d8":function(t,n,e){e("ef1f")},"7c4f":function(t,n){(function(){"use strict";var t=function(t){var n=t,e=function(){return n},r=function(t){n=t};return{get:e,set:r}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){return!!t.hasPlugin("powerpaste",!0)&&("undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},r=function(t){return{clipboard:t}},o=function(t){var n=typeof t;return null===t?"null":"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},i=function(t){return function(n){return o(n)===t}},u=function(t){return function(n){return typeof n===t}},a=i("array"),c=function(t){return null===t||void 0===t},s=function(t){return!c(t)},l=u("function"),f=function(){},d=function(t){return function(){return t}},m=function(t){return t},g=d(!1),h=d(!0),v=function(){return p},p=function(){var t=function(t){return t()},n=m,e={fold:function(t,n){return t()},isSome:g,isNone:h,getOr:n,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:n,orThunk:t,map:v,each:f,bind:v,exists:g,forall:h,filter:function(){return v()},toArray:function(){return[]},toString:d("none()")};return e}(),b=function(t){var n=d(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:h,isNone:g,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return b(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:p},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},y=function(t){return null===t||void 0===t?p:b(t)},w={some:b,none:v,from:y},x=Array.prototype.slice,S=Array.prototype.push,C=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];if(n(o,e))return!0}return!1},k=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},O=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];n(o,e)}},z=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},T=function(t,n,e){return O(t,(function(t,r){e=n(e,t,r)})),e},M=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!a(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);S.apply(n,t[e])}return n},D=function(t,n){return M(k(t,n))},_=l(Array.from)?Array.from:function(t){return x.call(t)},A=function(){return A=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e],n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},A.apply(this,arguments)},H=function(n){var e=t(w.none()),r=function(){return e.get().each(n)},o=function(){r(),e.set(w.none())},i=function(){return e.get().isSome()},u=function(){return e.get()},a=function(t){r(),e.set(w.some(t))};return{clear:o,isSet:i,get:u,set:a}},E=function(){var t=H(f),n=function(n){return t.get().each(n)};return A(A({},t),{on:n})},R=function(t,n,e){return""===n||t.length>=n.length&&t.substr(e,e+n.length)===n},B=function(t,n){return R(t,n,0)},V=function(t,n){return R(t,n,t.length-n.length)},I=function(t,n){return n<=0?"":new Array(n+1).join(t)},P=tinymce.util.Tools.resolve("tinymce.Env"),L=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=tinymce.util.Tools.resolve("tinymce.util.Promise"),N=tinymce.util.Tools.resolve("tinymce.util.VK"),j=function(t,n,e,r){return t.fire("PastePreProcess",{content:n,internal:e,wordContent:r})},U=function(t,n,e,r){return t.fire("PastePostProcess",{node:n,internal:e,wordContent:r})},W=function(t,n){return t.fire("PastePlainTextToggle",{state:n})},G=function(t,n){return t.fire("paste",{ieFake:n})},$=tinymce.util.Tools.resolve("tinymce.util.Tools"),q=function(t){return t.getParam("paste_block_drop",!1)},X=function(t){return t.getParam("paste_data_images",!1)},K=function(t){return t.getParam("paste_filter_drop",!0)},Y=function(t){return t.getParam("paste_preprocess")},J=function(t){return t.getParam("paste_postprocess")},Q=function(t){return t.getParam("paste_webkit_styles")},Z=function(t){return t.getParam("paste_remove_styles_if_webkit",!0)},tt=function(t){return t.getParam("paste_merge_formats",!0)},nt=function(t){return t.getParam("smart_paste",!0)},et=function(t){return t.getParam("paste_as_text",!1)},rt=function(t){return t.getParam("paste_retain_style_properties")},ot=function(t){var n="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return t.getParam("paste_word_valid_elements",n)},it=function(t){return t.getParam("paste_convert_word_fake_lists",!0)},ut=function(t){return t.getParam("paste_enable_default_filters",!0)},at=function(t){return t.getParam("validate")},ct=function(t){return t.getParam("allow_html_data_urls",!1,"boolean")},st=function(t){return t.getParam("paste_data_images",!1,"boolean")},lt=function(t){return t.getParam("images_dataimg_filter")},ft=function(t){return t.getParam("images_reuse_filename")},dt=function(t){return t.getParam("forced_root_block")},mt=function(t){return t.getParam("forced_root_block_attrs")},gt=function(t){return t.getParam("paste_tab_spaces",4,"number")},ht=function(t){var n="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return $.explode(t.getParam("images_file_types",n,"string"))},vt="x-tinymce/html",pt="\x3c!-- "+vt+" --\x3e",bt=function(t){return pt+t},yt=function(t){return t.replace(pt,"")},wt=function(t){return-1!==t.indexOf(pt)},xt=d(vt),St=Object.hasOwnProperty,Ct=function(t,n){return St.call(t,n)},kt=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ot=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)},zt=function(t){return t.replace(/\r?\n/g,"<br>")},Tt=function(t,n){var e=[],r="<"+t;if("object"===typeof n){for(var o in n)Ct(n,o)&&e.push(o+'="'+kt.encodeAllRaw(n[o])+'"');e.length&&(r+=" "+e.join(" "))}return r+">"},Mt=function(t,n,e){var r=t.split(/\n\n/),o=Tt(n,e),i="</"+n+">",u=$.map(r,(function(t){return t.split(/\n/).join("<br />")})),a=function(t){return o+t+i};return 1===u.length?u[0]:$.map(u,a).join("")},Dt=function(t,n,e){return n?Mt(t,!0===n?"p":n,e):zt(t)},_t=tinymce.util.Tools.resolve("tinymce.html.DomParser"),At=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Ht="",Et=tinymce.util.Tools.resolve("tinymce.html.Node"),Rt=tinymce.util.Tools.resolve("tinymce.html.Schema"),Bt=function(t){return t.constructor===RegExp},Vt=function(t,n){return $.each(n,(function(n){t=Bt(n)?t.replace(n,""):t.replace(n[0],n[1])})),t},It=function(t){var n=Rt(),e=_t({},n),r="",o=n.getShortEndedElements(),i=$.makeMap("script noscript style textarea video audio iframe object"," "),u=n.getBlockElements(),a=function(t){var n=t.name,e=t;if("br"!==n){if("wbr"!==n)if(o[n]&&(r+=" "),i[n])r+=" ";else{if(3===t.type&&(r+=t.value),!t.shortEnded&&(t=t.firstChild))do{a(t)}while(t=t.next);u[n]&&e.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"};return t=Vt(t,[/<!\[[^\]]+\]>/g]),a(e.parse(t)),r},Pt=function(t){var n=function(t,n,e){return n||e?Ht:" "};return t=Vt(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,n],/<br class="Apple-interchange-newline">/g,/<br>$/i]),t},Lt=function(t){var n=0;return function(){return t+n++}},Ft=function(t){var n=t.toLowerCase(),e={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return $.hasOwn(e,n)?"image/"+e[n]:"image/"+n},Nt=function(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)},jt=function(t){var n=!1,e=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return t=t.replace(/^[\u00a0 ]+/,""),$.each(e,(function(e){if(e.test(t))return n=!0,!1})),n},Ut=function(t){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(t)},Wt=function(t){var n,e,r=1,o=function(t){var n="";if(3===t.type)return t.value;if(t=t.firstChild)do{n+=o(t)}while(t=t.next);return n},i=function(t,n){if(3===t.type&&n.test(t.value))return t.value=t.value.replace(n,""),!1;if(t=t.firstChild)do{if(!i(t,n))return!1}while(t=t.next);return!0},u=function(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)do{u(t)}while(t=t.next)},a=function(t,o,a){var c=t._listLevel||r;c!==r&&(c<r?n&&(n=n.parent.parent):(e=n,n=null)),n&&n.name===o?n.append(t):(e=e||n,n=new Et(o,1),a>1&&n.attr("start",""+a),t.wrap(n)),t.name="li",c>r&&e&&e.lastChild.append(n),r=c,u(t),i(t,/^\u00a0+/),i(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(t,/^\u00a0+/)},c=[],s=t.firstChild;while("undefined"!==typeof s&&null!==s)if(c.push(s),s=s.walk(),null!==s)while("undefined"!==typeof s&&s.parent!==t)s=s.walk();for(var l=0;l<c.length;l++)if(t=c[l],"p"===t.name&&t.firstChild){var f=o(t);if(Ut(f)){a(t,"ul");continue}if(jt(f)){var d=/([0-9]+)\./.exec(f),m=1;d&&(m=parseInt(d[1],10)),a(t,"ol",m);continue}if(t._listLevel){a(t,"ul",1);continue}n=null}else e=n,n=null},Gt=function(t,n,e,r){var o={},i=t.dom.parseStyle(r);$.each(i,(function(i,u){switch(u){case"mso-list":var a=/\w+ \w+([0-9]+)/i.exec(r);a&&(e._listLevel=parseInt(a[1],10)),/Ignore/i.test(i)&&e.firstChild&&(e._listIgnore=!0,e.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==i&&(o[u]=i));case"mso-element":if(/^(comment|comment-list)$/i.test(i))return void e.remove();break}0!==u.indexOf("mso-comment")?0!==u.indexOf("mso-")&&("all"===rt(t)||n&&n[u])&&(o[u]=i):e.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],e.wrap(new Et("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],e.wrap(new Et("i",1)));var u=t.dom.serializeStyle(o,e.name);return u||null},$t=function(t,n){var e,r=rt(t);r&&(e=$.makeMap(r.split(/[, ]/))),n=Vt(n,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Ht],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,n){return n.length>0?n.replace(/./," ").slice(Math.floor(n.length/2)).split("").join(Ht):""}]]);var o=ot(t),i=Rt({valid_elements:o,valid_children:"-li[p]"});$.each(i.elements,(function(t){t.attributes.class||(t.attributes.class={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))}));var u=_t({},i);u.addAttributeFilter("style",(function(n){var r,o=n.length;while(o--)r=n[o],r.attr("style",Gt(t,e,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),u.addAttributeFilter("class",(function(t){var n,e,r=t.length;while(r--)n=t[r],e=n.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(e)&&n.remove(),n.attr("class",null)})),u.addNodeFilter("del",(function(t){var n=t.length;while(n--)t[n].remove()})),u.addNodeFilter("a",(function(t){var n,e,r,o=t.length;while(o--)if(n=t[o],e=n.attr("href"),r=n.attr("name"),e&&-1!==e.indexOf("#_msocom_"))n.remove();else if(e&&0===e.indexOf("file://")&&(e=e.split("#")[1],e&&(e="#"+e)),e||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){n.unwrap();continue}n.attr({href:e,name:r})}else n.unwrap()}));var a=u.parse(n);return it(t)&&Wt(a),n=At({validate:at(t)},i).serialize(a),n},qt=function(t,n){return ut(t)?$t(t,n):n},Xt=function(t,n){var e=_t({},t.schema);e.addNodeFilter("meta",(function(t){$.each(t,(function(t){t.remove()}))}));var r=e.parse(n,{forced_root_block:!1,isRootContent:!0});return At({validate:at(t)},t.schema).serialize(r)},Kt=function(t,n){return{content:t,cancelled:n}},Yt=function(t,n,e,r){var o=t.dom.create("div",{style:"display:none"},n),i=U(t,o,e,r);return Kt(i.node.innerHTML,i.isDefaultPrevented())},Jt=function(t,n,e,r){var o=j(t,n,e,r),i=Xt(t,o.content);return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?Yt(t,i,e,r):Kt(i,o.isDefaultPrevented())},Qt=function(t,n,e){var r=Nt(n),o=r?qt(t,n):n;return Jt(t,o,e,r)},Zt=function(t,n){return t.insertContent(n,{merge:tt(t),paste:!0}),!0},tn=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},nn=function(t,n){return tn(n)&&C(ht(t),(function(t){return V(n.toLowerCase(),"."+t.toLowerCase())}))},en=function(t,n,e){return t.undoManager.extra((function(){e(t,n)}),(function(){t.insertContent('<img src="'+n+'">')})),!0},rn=function(t,n,e){return t.undoManager.extra((function(){e(t,n)}),(function(){t.execCommand("mceInsertLink",!1,n)})),!0},on=function(t,n,e){return!(!1!==t.selection.isCollapsed()||!tn(n))&&rn(t,n,e)},un=function(t,n,e){return!!nn(t,n)&&en(t,n,e)},an=function(t,n){$.each([on,un,Zt],(function(e){return!0!==e(t,n,Zt)}))},cn=function(t,n,e){e||!1===nt(t)?Zt(t,n):an(t,n)},sn=function(t){return-1!==" \f\t\v".indexOf(t)},ln=function(t){return"\n"===t||"\r"===t},fn=function(t,n){return n<t.length&&n>=0&&ln(t[n])},dn=function(t,n){var e=I(" ",gt(t)),r=n.replace(/\t/g,e),o=T(r,(function(t,n){return sn(n)||n===Ht?t.pcIsSpace||""===t.str||t.str.length===r.length-1||fn(r,t.str.length+1)?{pcIsSpace:!1,str:t.str+Ht}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:ln(n),str:t.str+n}}),{pcIsSpace:!1,str:""});return o.str},mn=function(t,n,e,r){var o=Qt(t,n,e);!1===o.cancelled&&cn(t,o.content,r)},gn=function(t,n,e){var r=e||wt(n);mn(t,yt(n),r,!1)},hn=function(t,n){var e=t.dom.encode(n).replace(/\r\n/g,"\n"),r=dn(t,e),o=Dt(r,dt(t),mt(t));mn(t,o,!1,!0)},vn=function(t){var n={},e="data:text/mce-internal,";if(t){if(t.getData){var r=t.getData("Text");r&&r.length>0&&-1===r.indexOf(e)&&(n["text/plain"]=r)}if(t.types)for(var o=0;o<t.types.length;o++){var i=t.types[o];try{n[i]=t.getData(i)}catch(u){n[i]=""}}}return n},pn=function(t,n){return vn(n.clipboardData||t.getDoc().dataTransfer)},bn=function(t,n){return n in t&&t[n].length>0},yn=function(t){return bn(t,"text/html")||bn(t,"text/plain")},wn=function(t){var n=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t);return n?{type:n[1],data:decodeURIComponent(n[2])}:{type:null,data:null}},xn=function(t,n){var e=lt(t);return!e||e(n)},Sn=function(t,n){var e=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return s(e)?t.dom.encode(e[1]):null},Cn=Lt("mceclip"),kn=function(t,n){var e=wn(n.uri),r=e.data,o=e.type,i=Cn(),u=n.blob,a=new Image;if(a.src=n.uri,xn(t,a)){var c=t.editorUpload.blobCache,l=void 0,f=c.getByData(r,o);if(f)l=f;else{var d=ft(t)&&s(u.name),m=d?Sn(t,u.name):i,g=d?u.name:void 0;l=c.create(i,u,r,m,g),c.add(l)}gn(t,'<img src="'+l.blobUri()+'">',!1)}else gn(t,'<img src="'+n.uri+'">',!1)},On=function(t){return"paste"===t.type},zn=function(t){return s(t.getAsFile)},Tn=function(t){return F.all(k(t,(function(t){return new F((function(n){var e=zn(t)?t.getAsFile():t,r=new window.FileReader;r.onload=function(){n({blob:e,uri:r.result})},r.readAsDataURL(e)}))})))},Mn=function(t){var n=ht(t);return function(t){return B(t.type,"image/")&&C(n,(function(n){return Ft(n)===t.type}))}},Dn=function(t,n){var e=n.items?D(_(n.items),(function(t){return"file"===t.kind?[t.getAsFile()]:[]})):[],r=n.files?_(n.files):[];return z(e.length>0?e:r,Mn(t))},_n=function(t,n,e){var r=On(n)?n.clipboardData:n.dataTransfer;if(st(t)&&r){var o=Dn(t,r);if(o.length>0)return n.preventDefault(),Tn(o).then((function(n){e&&t.selection.setRng(e),O(n,(function(n){kn(t,n)}))})),!0}return!1},An=function(t){var n=t.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length},Hn=function(t){return N.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},En=function(t,n,e){var r,o=E(),i=E();t.on("keyup",i.clear),t.on("keydown",(function(e){var u=function(t){Hn(t)&&!t.isDefaultPrevented()&&n.remove()};if(Hn(e)&&!e.isDefaultPrevented()){if(r=e.shiftKey&&86===e.keyCode,r&&P.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),o.set(e),i.set(!0),P.ie&&r)return e.preventDefault(),void G(t,!0);n.remove(),n.create(),t.once("keyup",u),t.once("paste",(function(){t.off("keyup",u)}))}}));var u=function(t,e,r,o,i){var u;bn(e,"text/html")?u=e["text/html"]:(u=n.getHtml(),i=i||wt(u),n.isDefaultContent(u)&&(o=!0)),u=Pt(u),n.remove();var a=!1===i&&Ot(u),c=tn(u);(!u.length||a&&!c)&&(o=!0),(o||c)&&(u=bn(e,"text/plain")&&a?e["text/plain"]:It(u)),n.isDefaultContent(u)?r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?hn(t,u):gn(t,u,i)},a=function(){return n.getLastRng()||t.selection.getRng()};t.on("paste",(function(c){var s=o.isSet()||i.isSet();s&&o.clear();var l=pn(t,c),f="text"===e.get()||r,d=bn(l,xt());r=!1,c.isDefaultPrevented()||An(c)?n.remove():yn(l)||!_n(t,c,a())?(s||c.preventDefault(),!P.ie||s&&!c.ieFake||bn(l,"text/html")||(n.create(),t.dom.bind(n.getEl(),"paste",(function(t){t.stopPropagation()})),t.getDoc().execCommand("Paste",!1,null),l["text/html"]=n.getHtml()),bn(l,"text/html")?(c.preventDefault(),d||(d=wt(l["text/html"])),u(t,l,s,f,d)):L.setEditorTimeout(t,(function(){u(t,l,s,f,d)}),0)):n.remove()}))},Rn=function(t,n,e){var r;En(t,n,e),t.parser.addNodeFilter("img",(function(n,e,o){var i=function(t){return t.data&&!0===t.data.paste},u=function(t){t.attr("data-mce-object")||r===P.transparentSrc||t.remove()},a=function(t){return 0===t.indexOf("webkit-fake-url")},c=function(t){return 0===t.indexOf("data:")};if(!st(t)&&i(o)){var s=n.length;while(s--)r=n[s].attr("src"),r&&(a(r)||!ct(t)&&c(r))&&u(n[s])}}))},Bn=function(t){return P.ie&&t.inline?document.body:t.getBody()},Vn=function(t){return Bn(t)!==t.getBody()},In=function(t,n,e){Vn(t)&&t.dom.bind(n,"paste keyup",(function(n){Wn(t,e)||t.fire("paste")}))},Pn=function(t,n,e){var r=t.dom,o=t.getBody();n.set(t.selection.getRng());var i=t.dom.add(Bn(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},e);(P.ie||P.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),In(t,i,e),i.focus(),t.selection.select(i,!0)},Ln=function(t,n){if(Fn(t)){var e=void 0,r=n.get();while(e=t.dom.get("mcepastebin"))t.dom.remove(e),t.dom.unbind(e);r&&t.selection.setRng(r)}n.set(null)},Fn=function(t){return t.dom.get("mcepastebin")},Nn=function(t){var n=function(n,e){n.appendChild(e),t.dom.remove(e,!0)},e=$.grep(Bn(t).childNodes,(function(t){return"mcepastebin"===t.id})),r=e.shift();$.each(e,(function(t){n(r,t)}));for(var o=t.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var u=t.dom.create("div");r.insertBefore(u,o[i]),n(u,o[i])}return r?r.innerHTML:""},jn=function(t,n){return n===t},Un=function(t){return t&&"mcepastebin"===t.id},Wn=function(t,n){var e=Fn(t);return Un(e)&&jn(n,e.innerHTML)},Gn=function(n){var e=t(null),r="%MCEPASTEBIN%";return{create:function(){return Pn(n,e,r)},remove:function(){return Ln(n,e)},getEl:function(){return Fn(n)},getHtml:function(){return Nn(n)},getLastRng:e.get,isDefault:function(){return Wn(n,r)},isDefaultContent:function(t){return jn(r,t)}}},$n=function(t,n){var e=Gn(t);return t.on("PreInit",(function(){return Rn(t,e,n)})),{pasteFormat:n,pasteHtml:function(n,e){return gn(t,n,e)},pasteText:function(n){return hn(t,n)},pasteImageData:function(n,e){return _n(t,n,e)},getDataTransferItems:vn,hasHtmlOrText:yn,hasContentType:bn}},qn=function(t,n){"text"===n.pasteFormat.get()?(n.pasteFormat.set("html"),W(t,!1)):(n.pasteFormat.set("text"),W(t,!0)),t.focus()},Xn=function(t,n){t.addCommand("mceTogglePlainTextPaste",(function(){qn(t,n)})),t.addCommand("mceInsertClipboardContent",(function(t,e){e.content&&n.pasteHtml(e.content,e.internal),e.text&&n.pasteText(e.text)}))},Kn=function(t){return!1===P.iOS&&"function"===typeof(null===t||void 0===t?void 0:t.setData)},Yn=function(t,n,e){if(!Kn(t))return!1;try{return t.clearData(),t.setData("text/html",n),t.setData("text/plain",e),t.setData(xt(),n),!0}catch(r){return!1}},Jn=function(t,n,e,r){Yn(t.clipboardData,n.html,n.text)?(t.preventDefault(),r()):e(n.html,r)},Qn=function(t){return function(n,e){var r=bt(n),o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=t.dom.create("div",{contenteditable:"true"},r);t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),t.dom.add(t.getBody(),o);var u=t.selection.getRng();i.focus();var a=t.dom.createRng();a.selectNodeContents(i),t.selection.setRng(a),L.setTimeout((function(){t.selection.setRng(u),o.parentNode.removeChild(o),e()}),0)}},Zn=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},te=function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())},ne=function(t){return!t.selection.isCollapsed()||te(t)},ee=function(t){return function(n){ne(t)&&Jn(n,Zn(t),Qn(t),(function(){if(P.browser.isChrome()||P.browser.isFirefox()){var n=t.selection.getRng();L.setEditorTimeout(t,(function(){t.selection.setRng(n),t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}},re=function(t){return function(n){ne(t)&&Jn(n,Zn(t),Qn(t),f)}},oe=function(t){t.on("cut",ee(t)),t.on("copy",re(t))},ie=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ue=function(t,n){return ie.getCaretRangeFromPoint(n.clientX,n.clientY,t.getDoc())},ae=function(t){var n=t["text/plain"];return!!n&&0===n.indexOf("file://")},ce=function(t,n){t.focus(),t.selection.setRng(n)},se=function(t,n,e){q(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),X(t)||t.on("drop",(function(t){var n=t.dataTransfer;n&&n.files&&n.files.length>0&&t.preventDefault()})),t.on("drop",(function(r){var o=ue(t,r);if(!r.isDefaultPrevented()&&!e.get()){var i=n.getDataTransferItems(r.dataTransfer),u=n.hasContentType(i,xt());if((n.hasHtmlOrText(i)&&!ae(i)||!n.pasteImageData(r,o))&&o&&K(t)){var a=i["mce-internal"]||i["text/html"]||i["text/plain"];a&&(r.preventDefault(),L.setEditorTimeout(t,(function(){t.undoManager.transact((function(){i["mce-internal"]&&t.execCommand("Delete"),ce(t,o),a=Pt(a),i["text/html"]?n.pasteHtml(a,u):n.pasteText(a)}))})))}}})),t.on("dragstart",(function(t){e.set(!0)})),t.on("dragover dragend",(function(n){X(t)&&!1===e.get()&&(n.preventDefault(),ce(t,ue(t,n))),"dragend"===n.type&&e.set(!1)}))},le=function(t){var n=t.plugins.paste,e=Y(t);e&&t.on("PastePreProcess",(function(t){e.call(n,n,t)}));var r=J(t);r&&t.on("PastePostProcess",(function(t){r.call(n,n,t)}))},fe=function(t,n){t.on("PastePreProcess",(function(e){e.content=n(t,e.content,e.internal,e.wordContent)}))},de=function(t,n){t.on("PastePostProcess",(function(e){n(t,e.node)}))},me=function(t,n){if(!Nt(n))return n;var e=[];$.each(t.schema.getBlockElements(),(function(t,n){e.push(n)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+e.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return n=Vt(n,[[r,"$1"]]),n=Vt(n,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),n},ge=function(t,n,e,r){if(r||e)return n;var o,i=Q(t);if(!1===Z(t)||"all"===i)return n;if(i&&(o=i.split(/[, ]/)),o){var u=t.dom,a=t.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,n,e,r){var i=u.parseStyle(u.decode(e)),c={};if("none"===o)return n+r;for(var s=0;s<o.length;s++){var l=i[o[s]],f=u.getStyle(a,o[s],!0);/color/.test(o[s])&&(l=u.toHex(l),f=u.toHex(f)),f!==l&&(c[o[s]]=l)}var d=u.serializeStyle(c,"span");return d?n+' style="'+d+'"'+r:n+r}))}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,n,e,r){return n+' style="'+e+'"'+r})),n},he=function(t,n){t.$("a",n).find("font,u").each((function(n,e){t.dom.remove(e,!0)}))},ve=function(t){P.webkit&&fe(t,ge),P.ie&&(fe(t,me),de(t,he))},pe=function(t,n){return function(e){e.setActive("text"===n.pasteFormat.get());var r=function(t){return e.setActive(t.state)};return t.on("PastePlainTextToggle",r),function(){return t.off("PastePlainTextToggle",r)}}},be=function(t,n){var e=function(){return t.execCommand("mceTogglePlainTextPaste")};t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:e,onSetup:pe(t,n)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:e,onSetup:pe(t,n)})};function ye(){n.add("paste",(function(n){if(!1===e(n)){var o=t(!1),i=t(et(n)?"text":"html"),u=$n(n,i);return ve(n),be(n,u),Xn(n,u),le(n),oe(n),se(n,u,o),r(u)}}))}ye()})()},"84ec":function(t,n,e){e("2401")},"94ce":function(t,n){(function(){"use strict";var t=function(t){var n=typeof t;return null===t?"null":"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},n=function(n){return function(e){return t(e)===n}},e=function(t){return function(n){return typeof n===t}},r=function(t){return function(n){return t===n}},o=n("string"),i=n("object"),u=n("array"),a=r(null),c=e("boolean"),s=r(void 0),l=function(t){return null===t||void 0===t},f=function(t){return!l(t)},d=e("function"),m=e("number"),g=function(){},h=function(t,n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(n.apply(null,e))}},v=function(t,n){return function(e){return t(n(e))}},p=function(t){return function(){return t}},b=function(t){return t},y=function(t,n){return t===n};function w(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.concat(e);return t.apply(null,o)}}var x=function(t){return function(n){return!t(n)}},S=function(t){return function(){throw new Error(t)}},C=p(!1),k=p(!0),O=function(){return z},z=function(){var t=function(t){return t()},n=b,e={fold:function(t,n){return t()},isSome:C,isNone:k,getOr:n,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:p(null),getOrUndefined:p(void 0),or:n,orThunk:t,map:O,each:g,bind:O,exists:C,forall:k,filter:function(){return O()},toArray:function(){return[]},toString:p("none()")};return e}(),T=function(t){var n=p(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:k,isNone:C,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return T(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:z},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},M=function(t){return null===t||void 0===t?z:T(t)},D={some:T,none:O,from:M},_=Array.prototype.slice,A=Array.prototype.indexOf,H=Array.prototype.push,E=function(t,n){return A.call(t,n)},R=function(t,n){return E(t,n)>-1},B=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];if(n(o,e))return!0}return!1},V=function(t,n){for(var e=[],r=0;r<t;r++)e.push(n(r));return e},I=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},P=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];n(o,e)}},L=function(t,n){for(var e=t.length-1;e>=0;e--){var r=t[e];n(r,e)}},F=function(t,n){for(var e=[],r=[],o=0,i=t.length;o<i;o++){var u=t[o],a=n(u,o)?e:r;a.push(u)}return{pass:e,fail:r}},N=function(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var i=t[r];n(i,r)&&e.push(i)}return e},j=function(t,n,e){return L(t,(function(t,r){e=n(e,t,r)})),e},U=function(t,n,e){return P(t,(function(t,r){e=n(e,t,r)})),e},W=function(t,n,e){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r))return D.some(i);if(e(i,r))break}return D.none()},G=function(t,n){return W(t,n,C)},$=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];if(n(o,e))return D.some(e)}return D.none()},q=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!u(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);H.apply(n,t[e])}return n},X=function(t,n){return q(I(t,n))},K=function(t,n){for(var e=0,r=t.length;e<r;++e){var o=t[e];if(!0!==n(o,e))return!1}return!0},Y=function(t){var n=_.call(t,0);return n.reverse(),n},J=function(t,n){for(var e={},r=0,o=t.length;r<o;r++){var i=t[r];e[String(i)]=n(i,r)}return e},Q=function(t){return[t]},Z=function(t,n){var e=_.call(t,0);return e.sort(n),e},tt=function(t,n){return n>=0&&n<t.length?D.some(t[n]):D.none()},nt=function(t){return tt(t,0)},et=function(t){return tt(t,t.length-1)},rt=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return D.none()},ot=function(){return ot=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e],n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},ot.apply(this,arguments)};function it(t,n,e){if(e||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))}var ut=function(t){var n,e=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e||(e=!0,n=t.apply(null,r)),n}},at=function(t,n,e,r){var o=t.isiOS()&&!0===/ipad/i.test(e),i=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),s=i||u&&!c,l=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(e),f=!s&&!c&&!l;return{isiPad:p(o),isiPhone:p(i),isTablet:p(c),isPhone:p(s),isTouch:p(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:p(l),isDesktop:p(f)}},ct=function(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(r.test(n))return r}},st=function(t,n){var e=ct(t,n);if(!e)return{major:0,minor:0};var r=function(t){return Number(n.replace(e,"$"+t))};return dt(r(1),r(2))},lt=function(t,n){var e=String(n).toLowerCase();return 0===t.length?ft():st(t,e)},ft=function(){return dt(0,0)},dt=function(t,n){return{major:t,minor:n}},mt={nu:dt,detect:lt,unknown:ft},gt=function(t,n){return rt(n.brands,(function(n){var e=n.brand.toLowerCase();return G(t,(function(t){var n;return e===(null===(n=t.brand)||void 0===n?void 0:n.toLowerCase())})).map((function(t){return{current:t.name,version:mt.nu(parseInt(n.version,10),0)}}))}))},ht=function(t,n){var e=String(n).toLowerCase();return G(t,(function(t){return t.search(e)}))},vt=function(t,n){return ht(t,n).map((function(t){var e=mt.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},pt=function(t,n){return ht(t,n).map((function(t){var e=mt.detect(t.versionRegexes,n);return{current:t.name,version:e}}))},bt=function(t,n){return t.substring(n)},yt=function(t,n,e){return""===n||t.length>=n.length&&t.substr(e,e+n.length)===n},wt=function(t,n){return St(t,n)?bt(t,n.length):t},xt=function(t,n){return-1!==t.indexOf(n)},St=function(t,n){return yt(t,n,0)},Ct=function(t,n){return yt(t,n,t.length-n.length)},kt=function(t){return function(n){return n.replace(t,"")}},Ot=kt(/^\s+|\s+$/g),zt=function(t){return t.length>0},Tt=function(t){return!zt(t)},Mt=function(t){var n=parseFloat(t);return isNaN(n)?D.none():D.some(n)},Dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_t=function(t){return function(n){return xt(n,t)}},At=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return xt(t,"edge/")&&xt(t,"chrome")&&xt(t,"safari")&&xt(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Dt],search:function(t){return xt(t,"chrome")&&!xt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return xt(t,"msie")||xt(t,"trident")}},{name:"Opera",versionRegexes:[Dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_t("firefox")},{name:"Safari",versionRegexes:[Dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(xt(t,"safari")||xt(t,"mobile/"))&&xt(t,"applewebkit")}}],Ht=[{name:"Windows",search:_t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return xt(t,"iphone")||xt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_t("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_t("linux"),versionRegexes:[]},{name:"Solaris",search:_t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_t("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_t("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Et={browsers:p(At),oses:p(Ht)},Rt="Edge",Bt="Chrome",Vt="IE",It="Opera",Pt="Firefox",Lt="Safari",Ft=function(){return Nt({current:void 0,version:mt.unknown()})},Nt=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isEdge:r(Rt),isChrome:r(Bt),isIE:r(Vt),isOpera:r(It),isFirefox:r(Pt),isSafari:r(Lt)}},jt={unknown:Ft,nu:Nt,edge:p(Rt),chrome:p(Bt),ie:p(Vt),opera:p(It),firefox:p(Pt),safari:p(Lt)},Ut="Windows",Wt="iOS",Gt="Android",$t="Linux",qt="OSX",Xt="Solaris",Kt="FreeBSD",Yt="ChromeOS",Jt=function(){return Qt({current:void 0,version:mt.unknown()})},Qt=function(t){var n=t.current,e=t.version,r=function(t){return function(){return n===t}};return{current:n,version:e,isWindows:r(Ut),isiOS:r(Wt),isAndroid:r(Gt),isOSX:r(qt),isLinux:r($t),isSolaris:r(Xt),isFreeBSD:r(Kt),isChromeOS:r(Yt)}},Zt={unknown:Jt,nu:Qt,windows:p(Ut),ios:p(Wt),android:p(Gt),linux:p($t),osx:p(qt),solaris:p(Xt),freebsd:p(Kt),chromeos:p(Yt)},tn=function(t,n,e){var r=Et.browsers(),o=Et.oses(),i=n.bind((function(t){return gt(r,t)})).orThunk((function(){return vt(r,t)})).fold(jt.unknown,jt.nu),u=pt(o,t).fold(Zt.unknown,Zt.nu),a=at(u,i,t,e);return{browser:i,os:u,deviceType:a}},nn={detect:tn},en=function(t){return window.matchMedia(t).matches},rn=ut((function(){return nn.detect(navigator.userAgent,D.from(navigator.userAgentData),en)})),on=function(){return rn()},un=function(t,n,e){return 0!==(t.compareDocumentPosition(n)&e)},an=function(t,n){return un(t,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},cn=8,sn=9,ln=11,fn=1,dn=3,mn=function(t,n){var e=n||document,r=e.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return vn(r.childNodes[0])},gn=function(t,n){var e=n||document,r=e.createElement(t);return vn(r)},hn=function(t,n){var e=n||document,r=e.createTextNode(t);return vn(r)},vn=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},pn=function(t,n,e){return D.from(t.dom.elementFromPoint(n,e)).map(vn)},bn={fromHtml:mn,fromTag:gn,fromText:hn,fromDom:vn,fromPoint:pn},yn=function(t,n){var e=t.dom;if(e.nodeType!==fn)return!1;var r=e;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},wn=function(t){return t.nodeType!==fn&&t.nodeType!==sn&&t.nodeType!==ln||0===t.childElementCount},xn=function(t,n){var e=void 0===n?document:n.dom;return wn(e)?[]:I(e.querySelectorAll(t),bn.fromDom)},Sn=function(t,n){var e=void 0===n?document:n.dom;return wn(e)?D.none():D.from(e.querySelector(t)).map(bn.fromDom)},Cn=function(t,n){return t.dom===n.dom},kn=function(t,n){var e=t.dom,r=n.dom;return e!==r&&e.contains(r)},On=function(t,n){return an(t.dom,n.dom)},zn=function(t,n){return on().browser.isIE()?On(t,n):kn(t,n)},Tn=yn,Mn=Object.keys,Dn=Object.hasOwnProperty,_n=function(t,n){for(var e=Mn(t),r=0,o=e.length;r<o;r++){var i=e[r],u=t[i];n(u,i)}},An=function(t,n){return Hn(t,(function(t,e){return{k:e,v:n(t,e)}}))},Hn=function(t,n){var e={};return _n(t,(function(t,r){var o=n(t,r);e[o.k]=o.v})),e},En=function(t){return function(n,e){t[e]=n}},Rn=function(t,n,e,r){var o={};return _n(t,(function(t,o){(n(t,o)?e:r)(t,o)})),o},Bn=function(t,n){var e={};return Rn(t,n,En(e),g),e},Vn=function(t,n){var e=[];return _n(t,(function(t,r){e.push(n(t,r))})),e},In=function(t){return Vn(t,b)},Pn=function(t){return Mn(t).length},Ln=function(t,n){return Fn(t,n)?D.from(t[n]):D.none()},Fn=function(t,n){return Dn.call(t,n)},Nn=function(t,n){return Fn(t,n)&&void 0!==t[n]&&null!==t[n]},jn=function(t){for(var n in t)if(Dn.call(t,n))return!1;return!0},Un=["tfoot","thead","tbody","colgroup"],Wn=function(t){return R(Un,t)},Gn=function(t,n){return{rows:t,columns:n}},$n=function(t,n){return{row:t,column:n}},qn=function(t,n,e){return{element:t,rowspan:n,colspan:e}},Xn=function(t,n,e,r){return{element:t,rowspan:n,colspan:e,isNew:r}},Kn=function(t,n,e,r,o,i){return{element:t,rowspan:n,colspan:e,row:r,column:o,isLocked:i}},Yn=function(t,n,e){return{element:t,cells:n,section:e}},Jn=function(t,n,e,r){return{element:t,cells:n,section:e,isNew:r}},Qn=function(t,n,e){return{element:t,isNew:n,isLocked:e}},Zn=function(t,n,e,r){return{element:t,cells:n,section:e,isNew:r}},te=function(t,n,e,r){return{startRow:t,startCol:n,finishRow:e,finishCol:r}},ne=function(t,n,e){return{element:t,colspan:n,column:e}},ee=function(t,n){return{element:t,columns:n}};"undefined"!==typeof window?window:Function("return this;")();var re=function(t){var n=t.dom.nodeName;return n.toLowerCase()},oe=function(t){return t.dom.nodeType},ie=function(t){return function(n){return oe(n)===t}},ue=function(t){return oe(t)===cn||"#comment"===re(t)},ae=ie(fn),ce=ie(dn),se=ie(sn),le=ie(ln),fe=function(t){return function(n){return ae(n)&&re(n)===t}},de=function(t){return bn.fromDom(t.dom.ownerDocument)},me=function(t){return se(t)?t:de(t)},ge=function(t){return bn.fromDom(me(t).dom.defaultView)},he=function(t){return D.from(t.dom.parentNode).map(bn.fromDom)},ve=function(t){return D.from(t.dom.parentElement).map(bn.fromDom)},pe=function(t,n){var e=d(n)?n:C,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,u=bn.fromDom(i);if(o.push(u),!0===e(u))break;r=i}return o},be=function(t){return D.from(t.dom.previousSibling).map(bn.fromDom)},ye=function(t){return D.from(t.dom.nextSibling).map(bn.fromDom)},we=function(t){return I(t.dom.childNodes,bn.fromDom)},xe=function(t,n){var e=t.dom.childNodes;return D.from(e[n]).map(bn.fromDom)},Se=function(t){return xe(t,0)},Ce=function(t){return le(t)&&f(t.dom.host)},ke=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),Oe=p(ke),ze=ke?function(t){return bn.fromDom(t.dom.getRootNode())}:me,Te=function(t){var n=ze(t);return Ce(n)?D.some(n):D.none()},Me=function(t){return bn.fromDom(t.dom.host)},De=function(t){if(Oe()&&f(t.target)){var n=bn.fromDom(t.target);if(ae(n)&&_e(n)&&t.composed&&t.composedPath){var e=t.composedPath();if(e)return nt(e)}}return D.from(t.target)},_e=function(t){return f(t.dom.shadowRoot)},Ae=function(t){var n=ce(t)?t.dom.parentNode:t.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var e=n.ownerDocument;return Te(bn.fromDom(n)).fold((function(){return e.body.contains(n)}),v(Ae,Me))},He=function(){return Ee(bn.fromDom(document))},Ee=function(t){var n=t.dom.body;if(null===n||void 0===n)throw new Error("Body is not available yet");return bn.fromDom(n)},Re=function(t,n,e){return N(pe(t,e),n)},Be=function(t,n){return N(we(t),n)},Ve=function(t,n){var e=[];return P(we(t),(function(t){n(t)&&(e=e.concat([t])),e=e.concat(Ve(t,n))})),e},Ie=function(t,n,e){return Re(t,(function(t){return yn(t,n)}),e)},Pe=function(t,n){return Be(t,(function(t){return yn(t,n)}))},Le=function(t,n){return xn(n,t)};function Fe(t,n,e,r,o){return t(e,r)?D.some(e):d(o)&&o(e)?D.none():n(e,r,o)}var Ne=function(t,n,e){var r=t.dom,o=d(e)?e:C;while(r.parentNode){r=r.parentNode;var i=bn.fromDom(r);if(n(i))return D.some(i);if(o(i))break}return D.none()},je=function(t,n,e){var r=function(t,n){return n(t)};return Fe(r,Ne,t,n,e)},Ue=function(t,n){var e=function(t){return n(bn.fromDom(t))},r=G(t.dom.childNodes,e);return r.map(bn.fromDom)},We=function(t,n){var e=function(t){for(var r=0;r<t.childNodes.length;r++){var o=bn.fromDom(t.childNodes[r]);if(n(o))return D.some(o);var i=e(t.childNodes[r]);if(i.isSome())return i}return D.none()};return e(t.dom)},Ge=function(t,n,e){return Ne(t,(function(t){return yn(t,n)}),e)},$e=function(t,n){return Ue(t,(function(t){return yn(t,n)}))},qe=function(t,n){return Sn(n,t)},Xe=function(t,n,e){var r=function(t,n){return yn(t,n)};return Fe(r,Ge,t,n,e)},Ke=function(t,n,e){if(!(o(e)||c(e)||m(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")},Ye=function(t,n,e){Ke(t.dom,n,e)},Je=function(t,n){var e=t.dom;_n(n,(function(t,n){Ke(e,n,t)}))},Qe=function(t,n){_n(n,(function(n,e){n.fold((function(){nr(t,e)}),(function(n){Ke(t.dom,e,n)}))}))},Ze=function(t,n){var e=t.dom.getAttribute(n);return null===e?void 0:e},tr=function(t,n){return D.from(Ze(t,n))},nr=function(t,n){t.dom.removeAttribute(n)},er=function(t){return U(t.dom.attributes,(function(t,n){return t[n.name]=n.value,t}),{})},rr=function(t,n,e){return void 0===e&&(e=y),t.exists((function(t){return e(t,n)}))},or=function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n},ir=function(t,n,e){return t.isSome()&&n.isSome()?D.some(e(t.getOrDie(),n.getOrDie())):D.none()},ur=function(t,n){return void 0!==t&&null!==t?n(t):D.none()},ar=function(t){return t.bind(b)},cr=function(t,n){return t?D.some(n):D.none()},sr=function(t){return void 0!==t.style&&d(t.style.getPropertyValue)},lr=function(t,n,e){if(!o(e))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",e,":: Element ",t),new Error("CSS value must be a string: "+e);sr(t)&&t.style.setProperty(n,e)},fr=function(t,n){sr(t)&&t.style.removeProperty(n)},dr=function(t,n,e){var r=t.dom;lr(r,n,e)},mr=function(t,n){var e=t.dom;_n(n,(function(t,n){lr(e,n,t)}))},gr=function(t,n){var e=t.dom,r=window.getComputedStyle(e),o=r.getPropertyValue(n);return""!==o||Ae(t)?o:hr(e,n)},hr=function(t,n){return sr(t)?t.style.getPropertyValue(n):""},vr=function(t,n){var e=t.dom,r=hr(e,n);return D.from(r).filter((function(t){return t.length>0}))},pr=function(t,n){var e=t.dom;fr(e,n),rr(tr(t,"style").map(Ot),"")&&nr(t,"style")},br=function(t,n){var e=t.dom,r=n.dom;sr(e)&&sr(r)&&(r.style.cssText=e.style.cssText)},yr=function(t,n,e){return void 0===e&&(e=0),tr(t,n).map((function(t){return parseInt(t,10)})).getOr(e)},wr=function(t,n){return yr(t,n,1)},xr=function(t){return fe("col")(t)?yr(t,"span",1)>1:wr(t,"colspan")>1},Sr=function(t){return wr(t,"rowspan")>1},Cr=function(t,n){return parseInt(gr(t,n),10)},kr=p(10),Or=p(10),zr=function(t,n){return Tr(t,n,k)},Tr=function(t,n,e){return X(we(t),(function(t){return yn(t,n)?e(t)?[t]:[]:Tr(t,n,e)}))},Mr=function(t,n,e){if(void 0===e&&(e=C),e(n))return D.none();if(R(t,re(n)))return D.some(n);var r=function(t){return yn(t,"table")||e(t)};return Ge(n,t.join(","),r)},Dr=function(t,n){return Mr(["td","th"],t,n)},_r=function(t){return zr(t,"th,td")},Ar=function(t){return yn(t,"colgroup")?Pe(t,"col"):X(Rr(t),(function(t){return Pe(t,"col")}))},Hr=function(t,n){return Xe(t,"table",n)},Er=function(t){return zr(t,"tr")},Rr=function(t){return Hr(t).fold(p([]),(function(t){return Pe(t,"colgroup")}))},Br=function(t,n){return I(t,(function(t){if("colgroup"===re(t)){var e=I(Ar(t),(function(t){var n=yr(t,"span",1);return qn(t,1,n)}));return Yn(t,e,"colgroup")}e=I(_r(t),(function(t){var n=yr(t,"rowspan",1),e=yr(t,"colspan",1);return qn(t,n,e)}));return Yn(t,e,n(t))}))},Vr=function(t){return he(t).map((function(t){var n=re(t);return Wn(n)?n:"tbody"})).getOr("tbody")},Ir=function(t){var n=Er(t),e=Rr(t),r=it(it([],e,!0),n,!0);return Br(r,Vr)},Pr=function(t,n){return Br(t,(function(){return n}))},Lr=function(t,n,e){var r=t.cells,o=r.slice(0,n),i=r.slice(n),u=o.concat(e).concat(i);return jr(t,u)},Fr=function(t,n,e){return Lr(t,n,[e])},Nr=function(t,n,e){var r=t.cells;r[n]=e},jr=function(t,n){return Zn(t.element,n,t.section,t.isNew)},Ur=function(t,n){var e=t.cells,r=I(e,n);return Zn(t.element,r,t.section,t.isNew)},Wr=function(t,n){return t.cells[n]},Gr=function(t,n){return Wr(t,n).element},$r=function(t){return t.cells.length},qr=function(t){var n=F(t,(function(t){return"colgroup"===t.section}));return{rows:n.fail,cols:n.pass}},Xr=function(t,n,e){var r=I(t.cells,e);return Zn(n(t.element),r,t.section,!0)},Kr="data-snooker-locked-cols",Yr=function(t){return tr(t,Kr).bind((function(t){return D.from(t.match(/\d+/g))})).map((function(t){return J(t,k)}))},Jr=function(t){var n=U(qr(t).rows,(function(t,n){return P(n.cells,(function(n,e){n.isLocked&&(t[e]=!0)})),t}),{}),e=Vn(n,(function(t,n){return parseInt(n,10)}));return Z(e)},Qr=function(t,n){return t+","+n},Zr=function(t,n,e){return D.from(t.access[Qr(n,e)])},to=function(t,n,e){var r=no(t,(function(t){return e(n,t.element)}));return r.length>0?D.some(r[0]):D.none()},no=function(t,n){var e=X(t.all,(function(t){return t.cells}));return N(e,n)},eo=function(t){var n={},e=0;return P(t.cells,(function(t){var r=t.colspan;V(r,(function(o){var i=e+o;n[i]=ne(t.element,r,i)})),e+=r})),n},ro=function(t){var n={},e=[],r=nt(t).map((function(t){return t.element})).bind(Hr),o=r.bind(Yr).getOr({}),i=0,u=0,a=0,c=F(t,(function(t){return"colgroup"===t.section})),s=c.pass,l=c.fail;P(l,(function(t){var r=[];P(t.cells,(function(t){var e=0;while(void 0!==n[Qr(a,e)])e++;for(var i=Nn(o,e.toString()),c=Kn(t.element,t.rowspan,t.colspan,a,e,i),s=0;s<t.colspan;s++)for(var l=0;l<t.rowspan;l++){var f=a+l,d=e+s,m=Qr(f,d);n[m]=c,u=Math.max(u,d+1)}r.push(c)})),i++,e.push(Yn(t.element,r,t.section)),a++}));var f=et(s).map((function(t){var n=eo(t),e=ee(t.element,In(n));return{colgroups:[e],columns:n}})).getOrThunk((function(){return{colgroups:[],columns:{}}})),d=f.columns,m=f.colgroups,g=Gn(i,u);return{grid:g,access:n,all:e,columns:d,colgroups:m}},oo=function(t){var n=Ir(t);return ro(n)},io=function(t){return X(t.all,(function(t){return t.cells}))},uo=function(t){return In(t.columns)},ao=function(t){return Mn(t.columns).length>0},co=function(t,n){return D.from(t.columns[n])},so={fromTable:oo,generate:ro,getAt:Zr,findItem:to,filterItems:no,justCells:io,justColumns:uo,hasColumns:ao,getColumnAt:co},lo=function(t,n){var e=n.column,r=n.column+n.colspan-1,o=n.row,i=n.row+n.rowspan-1;return e<=t.finishCol&&r>=t.startCol&&o<=t.finishRow&&i>=t.startRow},fo=function(t,n){return n.column>=t.startCol&&n.column+n.colspan-1<=t.finishCol&&n.row>=t.startRow&&n.row+n.rowspan-1<=t.finishRow},mo=function(t,n){for(var e=!0,r=w(fo,n),o=n.startRow;o<=n.finishRow;o++)for(var i=n.startCol;i<=n.finishCol;i++)e=e&&so.getAt(t,o,i).exists(r);return e?D.some(n):D.none()},go=function(t,n){return te(Math.min(t.row,n.row),Math.min(t.column,n.column),Math.max(t.row+t.rowspan-1,n.row+n.rowspan-1),Math.max(t.column+t.colspan-1,n.column+n.colspan-1))},ho=function(t,n,e){var r=so.findItem(t,n,Cn),o=so.findItem(t,e,Cn);return r.bind((function(t){return o.map((function(n){return go(t,n)}))}))},vo=function(t,n,e){return ho(t,n,e).bind((function(n){return mo(t,n)}))},po=function(t,n,e,r){return so.findItem(t,n,Cn).bind((function(n){var o=e>0?n.row+n.rowspan-1:n.row,i=r>0?n.column+n.colspan-1:n.column,u=so.getAt(t,o+e,i+r);return u.map((function(t){return t.element}))}))},bo=function(t,n,e){return ho(t,n,e).map((function(n){var e=so.filterItems(t,w(lo,n));return I(e,(function(t){return t.element}))}))},yo=function(t,n){var e=function(t,n){return zn(n,t)};return so.findItem(t,n,e).map((function(t){return t.element}))},wo=function(t,n,e){return Hr(t).bind((function(r){var o=ko(r);return po(o,t,n,e)}))},xo=function(t,n,e){var r=ko(t);return bo(r,n,e)},So=function(t,n,e,r,o){var i=ko(t),u=Cn(t,e)?D.some(n):yo(i,n),a=Cn(t,o)?D.some(r):yo(i,r);return u.bind((function(t){return a.bind((function(n){return bo(i,t,n)}))}))},Co=function(t,n,e){var r=ko(t);return vo(r,n,e)},ko=so.fromTable,Oo=function(t,n){var e=he(t);e.each((function(e){e.dom.insertBefore(n.dom,t.dom)}))},zo=function(t,n){var e=ye(t);e.fold((function(){var e=he(t);e.each((function(t){Mo(t,n)}))}),(function(t){Oo(t,n)}))},To=function(t,n){var e=Se(t);e.fold((function(){Mo(t,n)}),(function(e){t.dom.insertBefore(n.dom,e.dom)}))},Mo=function(t,n){t.dom.appendChild(n.dom)},Do=function(t,n,e){xe(t,e).fold((function(){Mo(t,n)}),(function(t){Oo(t,n)}))},_o=function(t,n){Oo(t,n),Mo(n,t)},Ao=function(t,n){P(n,(function(n){Oo(t,n)}))},Ho=function(t,n){P(n,(function(e,r){var o=0===r?t:n[r-1];zo(o,e)}))},Eo=function(t,n){P(n,(function(n){Mo(t,n)}))},Ro=function(t){t.dom.textContent="",P(we(t),(function(t){Bo(t)}))},Bo=function(t){var n=t.dom;null!==n.parentNode&&n.parentNode.removeChild(n)},Vo=function(t){var n=we(t);n.length>0&&Ao(t,n),Bo(t)},Io=function(t,n){var e=function(e){if(!t(e))throw new Error("Can only get "+n+" value of a "+n+" node");return r(e).getOr("")},r=function(n){return t(n)?D.from(n.dom.nodeValue):D.none()},o=function(e,r){if(!t(e))throw new Error("Can only set raw "+n+" value of a "+n+" node");e.dom.nodeValue=r};return{get:e,getOption:r,set:o}},Po=Io(ce,"text"),Lo=function(t){return Po.get(t)},Fo=function(t){return Po.getOption(t)},No=function(t,n){return Po.set(t,n)},jo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Uo(){var t=function(t){return bn.fromDom(t.dom.cloneNode(!1))},n=function(t){return me(t).dom},e=function(t){return!!ae(t)&&("body"===re(t)||R(jo,re(t)))},r=function(t){return!!ae(t)&&R(["br","img","hr","input"],re(t))},o=function(t){return ae(t)&&"false"===Ze(t,"contenteditable")},i=function(t,n){return t.dom.compareDocumentPosition(n.dom)},u=function(t,n){var e=er(t);Je(n,e)},a=function(t){var n=re(t);return R(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],n)},c=function(t){return ae(t)?tr(t,"lang"):D.none()};return{up:p({selector:Ge,closest:Xe,predicate:Ne,all:pe}),down:p({selector:Le,predicate:Ve}),styles:p({get:gr,getRaw:vr,set:dr,remove:pr}),attrs:p({get:Ze,set:Ye,remove:nr,copyTo:u}),insert:p({before:Oo,after:zo,afterAll:Ho,append:Mo,appendAll:Eo,prepend:To,wrap:_o}),remove:p({unwrap:Vo,remove:Bo}),create:p({nu:bn.fromTag,clone:t,text:bn.fromText}),query:p({comparePosition:i,prevSibling:be,nextSibling:ye}),property:p({children:we,name:re,parent:he,document:n,isText:ce,isComment:ue,isElement:ae,isSpecial:a,getLanguage:c,getText:Lo,setText:No,isBoundary:e,isEmptyTag:r,isNonEditable:o}),eq:Cn,is:Tn}}var Wo=function(t,n,e,r){var o=e[0],i=e.slice(1);return r(t,n,o,i)},Go=function(t,n,e){return e.length>0?Wo(t,n,e,$o):D.none()},$o=function(t,n,e,r){var o=n(t,e);return j(r,(function(e,r){var o=n(t,r);return qo(t,e,o)}),o)},qo=function(t,n,e){return n.bind((function(n){return e.filter(w(t.eq,n))}))},Xo=function(t,n){return w(t.eq,n)},Ko=function(t,n,e,r){void 0===r&&(r=C);var o=[n].concat(t.up().all(n)),i=[e].concat(t.up().all(e)),u=function(t){var n=$(t,r);return n.fold((function(){return t}),(function(n){return t.slice(0,n+1)}))},a=u(o),c=u(i),s=G(a,(function(n){return B(c,Xo(t,n))}));return{firstpath:a,secondpath:c,shared:s}},Yo=Go,Jo=Ko,Qo=Uo(),Zo=function(t,n){return Yo(Qo,(function(n,e){return t(e)}),n)},ti=function(t,n,e){return Jo(Qo,t,n,e)},ni=function(t){return Ge(t,"table")},ei=function(t,n,e){var r=function(t){return function(n){return void 0!==e&&e(n)||Cn(n,t)}};return Cn(t,n)?D.some({boxes:D.some([t]),start:t,finish:n}):ni(t).bind((function(o){return ni(n).bind((function(i){if(Cn(o,i))return D.some({boxes:xo(o,t,n),start:t,finish:n});if(zn(o,i)){var u=Ie(n,"td,th",r(o)),a=u.length>0?u[u.length-1]:n;return D.some({boxes:So(o,t,o,n,i),start:t,finish:a})}if(zn(i,o)){u=Ie(t,"td,th",r(i));var c=u.length>0?u[u.length-1]:t;return D.some({boxes:So(i,t,o,n,i),start:t,finish:c})}return ti(t,n).shared.bind((function(u){return Xe(u,"table",e).bind((function(e){var u=Ie(n,"td,th",r(e)),a=u.length>0?u[u.length-1]:n,c=Ie(t,"td,th",r(e)),s=c.length>0?c[c.length-1]:t;return D.some({boxes:So(e,t,o,n,i),start:s,finish:a})}))}))}))}))},ri=function(t,n){var e=Le(t,n);return e.length>0?D.some(e):D.none()},oi=function(t,n){return G(t,(function(t){return yn(t,n)}))},ii=function(t,n,e){return qe(t,n).bind((function(n){return qe(t,e).bind((function(t){return Zo(ni,[n,t]).map((function(e){return{first:n,last:t,table:e}}))}))}))},ui=function(t,n){return Ge(t,"table").bind((function(e){return qe(e,n).bind((function(n){return ei(n,t).bind((function(t){return t.boxes.map((function(n){return{boxes:n,start:t.start,finish:t.finish}}))}))}))}))},ai=function(t,n,e,r,o){return oi(t,o).bind((function(t){return wo(t,n,e).bind((function(t){return ui(t,r)}))}))},ci=function(t,n){return ri(t,n)},si=function(t,n,e){return ii(t,n,e).bind((function(n){var e=function(n){return Cn(t,n)},r="thead,tfoot,tbody,table",o=Ge(n.first,r,e),i=Ge(n.last,r,e);return o.bind((function(t){return i.bind((function(e){return Cn(t,e)?Co(n.table,n.first,n.last):D.none()}))}))}))},li=function(t){if(!u(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],e={};return P(t,(function(r,o){var i=Mn(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],c=r[a];if(void 0!==e[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!u(c))throw new Error("case arguments must be an array");n.push(a),e[a]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length;if(i!==c.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+i);var u=function(t){var r=Mn(t);if(n.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+r.join(","));var o=K(n,(function(t){return R(r,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,e)};return{fold:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var i=n[o];return i.apply(null,e)},match:u,log:function(t){console.log(t,{constructors:n,constructor:a,params:e})}}}})),e},fi={generate:li},di=fi.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),mi=function(t,n,e,r){return t.fold(n,e,r)},gi=di.none,hi=di.multiple,vi=di.single,pi=function(t,n,e){var r=function(){return ci(t(),e).fold((function(){return n().fold(gi,vi)}),(function(t){return hi(t)}))};return{get:r}},bi=tinymce.util.Tools.resolve("tinymce.PluginManager"),yi=function(t,n){return bn.fromDom(t.dom.cloneNode(n))},wi=function(t){return yi(t,!1)},xi=function(t){return yi(t,!0)},Si=function(t,n){var e=bn.fromTag(n),r=er(t);return Je(e,r),e},Ci=function(t,n){var e=Si(t,n),r=we(xi(t));return Eo(e,r),e},ki=function(t,n){var e=Si(t,n);Oo(t,e);var r=we(t);return Eo(e,r),Bo(t),e},Oi=function(t,n){var e=function(n,e){if(!m(e)&&!e.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+e);var r=n.dom;sr(r)&&(r.style[t]=e+"px")},r=function(e){var r=n(e);if(r<=0||null===r){var o=gr(e,t);return parseFloat(o)||0}return r},o=r,i=function(t,n){return U(n,(function(n,e){var r=gr(t,e),o=void 0===r?0:parseInt(r,10);return isNaN(o)?n:n+o}),0)},u=function(t,n,e){var r=i(t,e),o=n>r?n-r:0;return o};return{set:e,get:r,getOuter:o,aggregate:i,max:u}},zi=function(){var t=on().browser;return t.isIE()||t.isEdge()},Ti=function(t,n){return Mt(t).getOr(n)},Mi=function(t,n,e){return Ti(gr(t,n),e)},Di=function(t){return gr(t,"box-sizing")},_i=function(t,n,e,r){var o=Mi(t,"padding-"+e,0),i=Mi(t,"padding-"+r,0),u=Mi(t,"border-"+e+"-width",0),a=Mi(t,"border-"+r+"-width",0);return n-o-i-u-a},Ai=function(t,n){var e=t.dom,r=e.getBoundingClientRect().height||e.offsetHeight;return"border-box"===n?r:_i(t,r,"top","bottom")},Hi=function(t,n){var e=t.dom,r=e.getBoundingClientRect().width||e.offsetWidth;return"border-box"===n?r:_i(t,r,"left","right")},Ei=function(t){return zi()?Ai(t,Di(t)):Mi(t,"height",t.dom.offsetHeight)},Ri=function(t){return zi()?Hi(t,Di(t)):Mi(t,"width",t.dom.offsetWidth)},Bi=function(t){return Hi(t,"content-box")},Vi=Oi("width",(function(t){return t.dom.offsetWidth})),Ii=function(t){return Vi.get(t)},Pi=function(t){return Vi.getOuter(t)},Li=Bi,Fi=Ri,Ni=function(t,n){void 0===n&&(n=k);var e=t.grid,r=V(e.columns,b),o=V(e.rows,b);return I(r,(function(e){var r=function(){return X(o,(function(n){return so.getAt(t,n,e).filter((function(t){return t.column===e})).toArray()}))},i=function(t){return 1===t.colspan&&n(t.element)},u=function(){return so.getAt(t,0,e)};return ji(r,i,u)}))},ji=function(t,n,e){var r=t(),o=G(r,n),i=o.orThunk((function(){return D.from(r[0]).orThunk(e)}));return i.map((function(t){return t.element}))},Ui=function(t){var n=t.grid,e=V(n.rows,b),r=V(n.columns,b);return I(e,(function(n){var e=function(){return X(r,(function(e){return so.getAt(t,n,e).filter((function(t){return t.row===n})).fold(p([]),(function(t){return[t]}))}))},o=function(t){return 1===t.rowspan},i=function(){return so.getAt(t,n,0)};return ji(e,o,i)}))},Wi=function(t,n){if(n<0||n>=t.length-1)return D.none();var e=t[n].fold((function(){var e=Y(t.slice(0,n));return rt(e,(function(t,n){return t.map((function(t){return{value:t,delta:n+1}}))}))}),(function(t){return D.some({value:t,delta:0})})),r=t[n+1].fold((function(){var e=t.slice(n+1);return rt(e,(function(t,n){return t.map((function(t){return{value:t,delta:n+1}}))}))}),(function(t){return D.some({value:t,delta:1})}));return e.bind((function(t){return r.map((function(n){var e=n.delta+t.delta;return Math.abs(n.value-t.value)/e}))}))},Gi=function(t,n){return function(e){return"rtl"===$i(e)?n:t}},$i=function(t){return"rtl"===gr(t,"direction")?"rtl":"ltr"},qi=Oi("height",(function(t){var n=t.dom;return Ae(t)?n.getBoundingClientRect().height:n.offsetHeight})),Xi=function(t){return qi.get(t)},Ki=function(t){return qi.getOuter(t)},Yi=Ei,Ji=function(t,n){var e=function(e,r){return Ji(t+e,n+r)};return{left:t,top:n,translate:e}},Qi=Ji,Zi=function(t){var n=t.getBoundingClientRect();return Qi(n.left,n.top)},tu=function(t,n){return void 0!==t?t:void 0!==n?n:0},nu=function(t){var n=t.dom.ownerDocument,e=n.body,r=n.defaultView,o=n.documentElement;if(e===t.dom)return Qi(e.offsetLeft,e.offsetTop);var i=tu(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),u=tu(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),a=tu(o.clientTop,e.clientTop),c=tu(o.clientLeft,e.clientLeft);return eu(t).translate(u-c,i-a)},eu=function(t){var n=t.dom,e=n.ownerDocument,r=e.body;return r===n?Qi(r.offsetLeft,r.offsetTop):Ae(t)?Zi(n):Qi(0,0)},ru=function(t,n){return{row:t,y:n}},ou=function(t,n){return{col:t,x:n}},iu=function(t){var n=nu(t);return n.left+Pi(t)},uu=function(t){return nu(t).left},au=function(t,n){return ou(t,uu(n))},cu=function(t,n){return ou(t,iu(n))},su=function(t){return nu(t).top},lu=function(t,n){return ru(t,su(n))},fu=function(t,n){return ru(t,su(n)+Ki(n))},du=function(t,n,e){if(0===e.length)return[];var r=I(e.slice(1),(function(n,e){return n.map((function(n){return t(e,n)}))})),o=e[e.length-1].map((function(t){return n(e.length-1,t)}));return r.concat([o])},mu=function(t){return-t},gu={delta:b,positions:function(t){return du(lu,fu,t)},edge:su},hu={delta:b,edge:uu,positions:function(t){return du(au,cu,t)}},vu={delta:mu,edge:iu,positions:function(t){return du(cu,au,t)}},pu=Gi(hu,vu),bu={delta:function(t,n){return pu(n).delta(t,n)},positions:function(t,n){return pu(n).positions(t,n)},edge:function(t){return pu(t).edge(t)}},yu={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},wu=function(){var t="[0-9]+",n="[+-]?"+t,e="[eE]"+n,r="\\.",o=function(t){return"(?:"+t+")?"},i=["Infinity",t+r+o(t)+o(e),r+t+o(e),t+o(e)].join("|"),u="[+-]?(?:"+i+")";return new RegExp("^("+u+")(.*)$")}(),xu=function(t,n){return B(n,(function(n){return B(yu[n],(function(n){return t===n}))}))},Su=function(t,n){var e=D.from(wu.exec(t));return e.bind((function(t){var e=Number(t[1]),r=t[2];return xu(r,n)?D.some({value:e,unit:r}):D.none()}))},Cu=/(\d+(\.\d+)?)%/,ku=/(\d+(\.\d+)?)px|em/,Ou=fe("col"),zu=function(t,n,e){var r=ve(t).getOrThunk((function(){return Ee(de(t))}));return n(t)/e(r)*100},Tu=function(t,n){dr(t,"width",n+"px")},Mu=function(t,n){dr(t,"width",n+"%")},Du=function(t,n){dr(t,"height",n+"px")},_u=function(t){return Yi(t)+"px"},Au=function(t,n,e,r){var o=Hr(t).map((function(t){var r=e(t);return Math.floor(n/100*r)})).getOr(n);return r(t,o),o},Hu=function(t,n,e,r){var o=parseFloat(t);return Ct(t,"%")&&"table"!==re(n)?Au(n,o,e,r):o},Eu=function(t){var n=_u(t);return n?Hu(n,t,Xi,Du):Xi(t)},Ru=function(t,n,e){var r=e(t),o=wr(t,n);return r/o},Bu=function(t,n){return vr(t,n).orThunk((function(){return tr(t,n).map((function(t){return t+"px"}))}))},Vu=function(t){return Bu(t,"width")},Iu=function(t){return Bu(t,"height")},Pu=function(t){return zu(t,Ii,Li)},Lu=function(t){return Ou(t)?Ii(t):Fi(t)},Fu=function(t){return Ru(t,"rowspan",Eu)},Nu=function(t){var n=Vu(t);return n.bind((function(t){return Su(t,["fixed","relative","empty"])}))},ju=function(t,n,e){dr(t,"width",n+e)},Uu=function(t){return Ii(t)+"px"},Wu=function(t){return zu(t,Ii,Li)+"%"},Gu=function(t){return Vu(t).exists((function(t){return Cu.test(t)}))},$u=function(t){return Vu(t).exists((function(t){return ku.test(t)}))},qu=function(t){return Vu(t).isNone()},Xu=p(Cu),Ku=fe("col"),Yu=function(t){return Vu(t).getOrThunk((function(){return Lu(t)+"px"}))},Ju=function(t){return Iu(t).getOrThunk((function(){return Fu(t)+"px"}))},Qu=function(t){return I(so.justColumns(t),(function(t){return D.from(t.element)}))},Zu=function(t){var n=on().browser,e=n.isChrome()||n.isFirefox();return!Ku(t)||e},ta=function(t,n,e,r,o,i){return t.filter(r).fold((function(){return i(Wi(e,n))}),(function(t){return o(t)}))},na=function(t,n,e,r){var o=Ni(t),i=so.hasColumns(t)?Qu(t):o,u=[D.some(bu.edge(n))].concat(I(bu.positions(o,n),(function(t){return t.map((function(t){return t.x}))}))),a=x(xr);return I(i,(function(t,n){return ta(t,n,u,a,(function(t){if(Zu(t))return e(t);var i=ur(o[n],b);return ta(i,n,u,a,(function(t){return r(D.some(Ii(t)))}),r)}),r)}))},ea=function(t){return t.map((function(t){return t+"px"})).getOr("")},ra=function(t,n){return na(t,n,Yu,ea)},oa=function(t,n,e){return na(t,n,Pu,(function(t){return t.fold((function(){return e.minCellWidth()}),(function(t){return t/e.pixelWidth()*100}))}))},ia=function(t,n,e){return na(t,n,Lu,(function(t){return t.getOrThunk(e.minCellWidth)}))},ua=function(t,n,e,r,o){var i=Ui(t),u=[D.some(e.edge(n))].concat(I(e.positions(i,n),(function(t){return t.map((function(t){return t.y}))})));return I(i,(function(t,n){return ta(t,n,u,x(Sr),r,o)}))},aa=function(t,n,e){return ua(t,n,e,Fu,(function(t){return t.getOrThunk(Or)}))},ca=function(t,n,e){return ua(t,n,e,Ju,ea)},sa=function(t,n){return function(){return Ae(t)?n(t):parseFloat(vr(t,"width").getOr("0"))}},la=function(t){var n=sa(t,Ii),e=p(0),r=function(n,e){return ia(n,t,e)};return{width:n,pixelWidth:n,getWidths:r,getCellDelta:e,singleColumnWidth:p([0]),minCellWidth:e,setElementWidth:g,adjustTableWidth:g,isRelative:!0,label:"none"}},fa=function(t){var n=sa(t,(function(t){return parseFloat(Wu(t))})),e=sa(t,Ii),r=function(t){return t/e()*100},o=function(t,n){return[100-t]},i=function(){return kr()/e()*100},u=function(e){var r=n(),o=e/100*r,i=r+o;Mu(t,i)},a=function(n,e){return oa(n,t,e)};return{width:n,pixelWidth:e,getWidths:a,getCellDelta:r,singleColumnWidth:o,minCellWidth:i,setElementWidth:Mu,adjustTableWidth:u,isRelative:!0,label:"percent"}},da=function(t){var n=sa(t,Ii),e=b,r=function(t,n){var e=Math.max(kr(),t+n);return[e-t]},o=function(e){var r=n()+e;Tu(t,r)},i=function(n,e){return ia(n,t,e)};return{width:n,pixelWidth:n,getWidths:i,getCellDelta:e,singleColumnWidth:r,minCellWidth:kr,setElementWidth:Tu,adjustTableWidth:o,isRelative:!1,label:"pixel"}},ma=function(t,n){var e=Xu().exec(n);return null!==e?fa(t):da(t)},ga=function(t){var n=Vu(t);return n.fold((function(){return la(t)}),(function(n){return ma(t,n)}))},ha={getTableSize:ga,pixelSize:da,percentageSize:fa,noneSize:la},va=function(t,n,e,r,o,i){return{minRow:t,minCol:n,maxRow:e,maxCol:r,allCells:o,selectedCells:i}},pa=function(t,n){var e=t.grid.columns,r=t.grid.rows,o=r,i=e,u=0,a=0,c=[],s=[];return _n(t.access,(function(t){if(c.push(t),n(t)){s.push(t);var e=t.row,r=e+t.rowspan-1,l=t.column,f=l+t.colspan-1;e<o?o=e:r>u&&(u=r),l<i?i=l:f>a&&(a=f)}})),va(o,i,u,a,c,s)},ba=function(t,n,e){var r=t[e].element,o=bn.fromTag("td");Mo(o,bn.fromTag("br"));var i=n?Mo:To;i(r,o)},ya=function(t,n,e,r){for(var o=n.grid.columns,i=n.grid.rows,u=0;u<i;u++)for(var a=!1,c=0;c<o;c++)if(!(u<e.minRow||u>e.maxRow||c<e.minCol||c>e.maxCol)){var s=so.getAt(n,u,c).filter(r).isNone();s?ba(t,a,u):a=!0}},wa=function(t,n,e,r){_n(e.columns,(function(t){(t.column<n.minCol||t.column>n.maxCol)&&Bo(t.element)}));var o=N(zr(t,"tr"),(function(t){return 0===t.dom.childElementCount}));P(o,Bo),n.minCol!==n.maxCol&&n.minRow!==n.maxRow||P(zr(t,"th,td"),(function(t){nr(t,"rowspan"),nr(t,"colspan")})),nr(t,Kr),nr(t,"data-snooker-col-series");var i=ha.getTableSize(t);i.adjustTableWidth(r)},xa=function(t,n,e,r){if(0===r.minCol&&n.grid.columns===r.maxCol+1)return 0;var o=ia(n,t,e),i=U(o,(function(t,n){return t+n}),0),u=U(o.slice(r.minCol,r.maxCol+1),(function(t,n){return t+n}),0),a=u/i*e.pixelWidth(),c=a-e.pixelWidth();return e.getCellDelta(c)},Sa=function(t,n){var e=function(t){return yn(t.element,n)},r=xi(t),o=Ir(r),i=ha.getTableSize(t),u=so.generate(o),a=pa(u,e),c="th:not("+n+"),td:not("+n+")",s=Tr(r,"th,td",(function(t){return yn(t,c)}));P(s,Bo),ya(o,u,a,e);var l=so.fromTable(t),f=xa(t,l,i,a);return wa(r,a,u,f),r},Ca="",ka=function(t){return"img"===re(t)?1:Fo(t).fold((function(){return we(t).length}),(function(t){return t.length}))},Oa=function(t){return Fo(t).filter((function(t){return 0!==t.trim().length||t.indexOf(Ca)>-1})).isSome()},za=["img","br"],Ta=function(t){var n=Oa(t);return n||R(za,re(t))},Ma=function(t){return We(t,Ta)},Da=function(t){return _a(t,Ta)},_a=function(t,n){var e=function(t){for(var r=we(t),o=r.length-1;o>=0;o--){var i=r[o];if(n(i))return D.some(i);var u=e(i);if(u.isSome())return u}return D.none()};return e(t)},Aa={scope:["row","col"]},Ha=function(t){return function(){var n=bn.fromTag("td",t.dom);return Mo(n,bn.fromTag("br",t.dom)),n}},Ea=function(t){return function(){return bn.fromTag("col",t.dom)}},Ra=function(t){return function(){return bn.fromTag("colgroup",t.dom)}},Ba=function(t){return function(){return bn.fromTag("tr",t.dom)}},Va=function(t,n,e){var r=Ci(t,n);return _n(e,(function(t,n){null===t?nr(r,n):Ye(r,n,t)})),r},Ia=function(t){return t},Pa=function(t,n,e){var r=Ma(t);return r.map((function(r){var o=e.join(","),i=Ie(r,o,(function(n){return Cn(n,t)}));return j(i,(function(t,n){var e=wi(n);return nr(e,"contenteditable"),Mo(t,e),e}),n)})).getOr(n)},La=function(t,n){_n(Aa,(function(e,r){return tr(t,r).filter((function(t){return R(e,t)})).each((function(t){return Ye(n,r,t)}))}))},Fa=function(t,n,e){var r=function(t,n){br(t.element,n),pr(n,"height"),1!==t.colspan&&pr(n,"width")},o=function(o){var i=bn.fromTag(re(o.element),n.dom),u=e.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=u.length>0?Pa(o.element,i,u):i;return Mo(a,bn.fromTag("br")),r(o,i),La(o.element,i),t(o.element,i),i},i=function(e){var o=bn.fromTag(re(e.element),n.dom);return r(e,o),t(e.element,o),o};return{col:i,colgroup:Ra(n),row:Ba(n),cell:o,replace:Va,colGap:Ea(n),gap:Ha(n)}},Na=function(t){return{col:Ea(t),colgroup:Ra(t),row:Ba(t),cell:Ha(t),replace:Ia,colGap:Ea(t),gap:Ha(t)}},ja=function(t,n){var e=n||document,r=e.createElement("div");return r.innerHTML=t,we(bn.fromDom(r))},Ua=function(t){return I(t,bn.fromDom)},Wa=function(t){return t.nodeName.toLowerCase()},Ga=function(t){return bn.fromDom(t.getBody())},$a=function(t){return t.getBoundingClientRect().width},qa=function(t){return t.getBoundingClientRect().height},Xa=function(t){return function(n){return Cn(n,Ga(t))}},Ka=function(t){return t?t.replace(/px$/,""):""},Ya=function(t){return/^\d+(\.\d+)?$/.test(t)?t+"px":t},Ja=function(t){nr(t,"data-mce-style");var n=function(t){return nr(t,"data-mce-style")};P(_r(t),n),P(Ar(t),n),P(Er(t),n)},Qa=function(t,n){var e=t.dom.getStyle(n,"width")||t.dom.getAttrib(n,"width");return D.from(e).filter(zt)},Za=function(t){return/^(\d+(\.\d+)?)%$/.test(t)},tc=function(t){return/^(\d+(\.\d+)?)px$/.test(t)},nc=function(t){return bn.fromDom(t.selection.getStart())},ec=function(t){return bn.fromDom(t.selection.getEnd())},rc=function(t){return mi(t.get(),p([]),b,Q)},oc=function(t){var n=function(t,n){return tr(t,n).exists((function(t){return parseInt(t,10)>1}))},e=function(t){return n(t,"rowspan")||n(t,"colspan")},r=rc(t);return r.length>0&&K(r,e)?D.some(r):D.none()},ic=function(t,n,e){return mi(n.get(),D.none,(function(n){return n.length<=1?D.none():si(t,e.firstSelectedSelector,e.lastSelectedSelector).map((function(t){return{bounds:t,cells:n}}))}),D.none)},uc="data-mce-selected",ac="td["+uc+"],th["+uc+"]",cc="["+uc+"]",sc="data-mce-first-selected",lc="td["+sc+"],th["+sc+"]",fc="data-mce-last-selected",dc="td["+fc+"],th["+fc+"]",mc=cc,gc={selected:uc,selectedSelector:ac,firstSelected:sc,firstSelectedSelector:lc,lastSelected:fc,lastSelectedSelector:dc},hc=function(t){return{element:t,mergable:D.none(),unmergable:D.none(),selection:[t]}},vc=function(t,n,e){return{element:e,mergable:ic(n,t,gc),unmergable:oc(t),selection:rc(t)}},pc=function(t,n,e){return{element:t,clipboard:n,generators:e}},bc=function(t,n,e,r){return{selection:rc(t),clipboard:e,generators:r}},yc=function(t){return Hr(t).bind((function(t){return ci(t,gc.firstSelectedSelector)})).fold(p(t),(function(t){return t[0]}))},wc=function(t){return function(n,e){var r=re(n),o="col"===r||"colgroup"===r?yc(n):n;return Xe(o,t,e)}},xc=wc("th,td,caption"),Sc=wc("th,td"),Cc=function(t){return rc(t)},kc=function(t,n){var e=Sc(t),r=e.bind((function(t){return Hr(t)})).map((function(t){return Er(t)}));return ir(e,r,(function(t,e){return N(e,(function(e){return B(Ua(e.dom.cells),(function(e){return"1"===Ze(e,n)||Cn(e,t)}))}))})).getOr([])},Oc=function(t){return Hr(t[0]).map((function(t){var n=Sa(t,mc);return Ja(n),[n]}))},zc=function(t,n){return I(n,(function(n){return t.selection.serializer.serialize(n.dom,{})})).join("")},Tc=function(t){return I(t,(function(t){return t.dom.innerText})).join("")},Mc=function(t,n,e){t.on("BeforeGetContent",(function(e){var r=function(n){e.preventDefault(),Oc(n).each((function(n){e.content="text"===e.format?Tc(n):zc(t,n)}))};!0===e.selection&&mi(n.get(),g,r,g)})),t.on("BeforeSetContent",(function(r){if(!0===r.selection&&!0===r.paste){var o=Cc(n);nt(o).each((function(n){Hr(n).each((function(o){var i=N(ja(r.content),(function(t){return"meta"!==re(t)})),u=fe("table");if(1===i.length&&u(i[0])){r.preventDefault();var a=bn.fromDom(t.getDoc()),c=Na(a),s=pc(n,i[0],c);e.pasteCells(o,s).each((function(){t.focus()}))}}))}))}}))},Dc=fi.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),_c=ot({},Dc),Ac=function(t,n){return 0===t.length?_c.none():1===t.length?_c.only(0):0===n?_c.left(0,1):n===t.length-1?_c.right(n-1,n):n>0&&n<t.length-1?_c.middle(n-1,n,n+1):_c.none()},Hc=function(t,n,e,r,o){var i=t.slice(0),u=Ac(t,n),a=p(I(i,p(0))),c=function(t){return r.singleColumnWidth(i[t],e)},s=function(t,n){return o.calcLeftEdgeDeltas(i,t,n,e,r.minCellWidth(),r.isRelative)},l=function(t,n,u){return o.calcMiddleDeltas(i,t,n,u,e,r.minCellWidth(),r.isRelative)},f=function(t,n){return o.calcRightEdgeDeltas(i,t,n,e,r.minCellWidth(),r.isRelative)};return u.fold(a,c,s,l,f)},Ec=function(t,n,e){for(var r=0,o=t;o<n;o++)r+=void 0!==e[o]?e[o]:0;return r},Rc=function(t,n){var e=so.justCells(t);return I(e,(function(t){var e=Ec(t.column,t.column+t.colspan,n);return{element:t.element,width:e,colspan:t.colspan}}))},Bc=function(t,n){var e=so.justColumns(t);return I(e,(function(t,e){return{element:t.element,width:n[e],colspan:t.colspan}}))},Vc=function(t,n){var e=so.justCells(t);return I(e,(function(t){var e=Ec(t.row,t.row+t.rowspan,n);return{element:t.element,height:e,rowspan:t.rowspan}}))},Ic=function(t,n){return I(t.all,(function(t,e){return{element:t.element,height:n[e]}}))},Pc=function(t){return j(t,(function(t,n){return t+n}),0)},Lc=function(t,n){return so.hasColumns(t)?Bc(t,n):Rc(t,n)},Fc=function(t,n,e){var r=Lc(t,n);P(r,(function(t){e.setElementWidth(t.element,t.width)}))},Nc=function(t,n,e,r,o){var i=so.fromTable(t),u=o.getCellDelta(n),a=o.getWidths(i,o),c=e===i.grid.columns-1,s=r.clampTableDelta(a,e,u,o.minCellWidth(),c),l=Hc(a,e,s,o,r),f=I(l,(function(t,n){return t+a[n]}));Fc(i,f,o),r.resizeTable(o.adjustTableWidth,s,c)},jc=function(t,n,e,r){var o=so.fromTable(t),i=aa(o,t,r),u=I(i,(function(t,r){return e===r?Math.max(n+t,Or()):t})),a=Vc(o,u),c=Ic(o,u);P(c,(function(t){Du(t.element,t.height)})),P(a,(function(t){Du(t.element,t.height)}));var s=Pc(u);Du(t,s)},Uc=function(t,n,e,r,o){var i=so.generate(n),u=r.getWidths(i,r),a=r.pixelWidth(),c=o.calcRedestributedWidths(u,a,e.pixelDelta,r.isRelative),s=c.newSizes,l=c.delta;Fc(i,s,r),r.adjustTableWidth(l)},Wc=function(t,n,e,r){var o=so.generate(n),i=r.getWidths(o,r);Fc(o,i,r)},Gc=function(t){return I(t,p(0))},$c=function(t,n,e,r,o){return o(t.slice(0,n)).concat(r).concat(o(t.slice(e)))},qc=function(t){return function(n,e,r,o){if(t(r)){var i=Math.max(o,n[e]-Math.abs(r)),u=Math.abs(i-n[e]);return r>=0?u:-u}return r}},Xc=qc((function(t){return t<0})),Kc=qc(k),Yc=function(){var t=function(t,n,e,r,o){var i=Xc(t,n,r,o);return $c(t,n,e+1,[i,0],Gc)},n=function(t,n,e,r){var o=(100+e)/100,i=Math.max(r,(t[n]+e)/o);return I(t,(function(t,e){var r=e===n?i:t/o;return r-t}))},e=function(e,r,o,i,u,a){return a?n(e,r,i,u):t(e,r,o,i,u)},r=function(t,n,r,o,i,u,a){return e(t,r,o,i,u,a)},o=function(t,n){return t(n)},i=function(t,e,r,o,i,u){if(u)return n(t,r,o,i);var a=Xc(t,r,o,i);return Gc(t.slice(0,r)).concat([a])},u=function(t,n,e,r){if(r){var o=n+e,i=o/n,u=I(t,(function(t){return t/i}));return{delta:100*i-100,newSizes:u}}return{delta:e,newSizes:t}};return{resizeTable:o,clampTableDelta:Xc,calcLeftEdgeDeltas:e,calcMiddleDeltas:r,calcRightEdgeDeltas:i,calcRedestributedWidths:u}},Jc=function(){var t=function(t,n,e,r,o){var i=r>=0?e:n,u=Kc(t,i,r,o);return $c(t,n,e+1,[u,-u],Gc)},n=function(n,e,r,o,i,u){return t(n,r,o,i,u)},e=function(t,n,e){e&&t(n)},r=function(t,n,e,r,o,i){if(i)return Gc(t);var u=r/t.length;return I(t,p(u))},o=function(t,n,e,r,o){if(o){if(e>=0)return e;var i=U(t,(function(t,n){return t+n-r}),0);return Math.max(-i,e)}return Xc(t,n,e,r)},i=function(t,n,e,r){return{delta:0,newSizes:t}};return{resizeTable:e,clampTableDelta:o,calcLeftEdgeDeltas:t,calcMiddleDeltas:n,calcRightEdgeDeltas:r,calcRedestributedWidths:i}},Qc=function(t,n){var e=D.from(t.dom.documentElement).map(bn.fromDom).getOr(t);return{parent:p(e),view:p(t),origin:p(Qi(0,0)),isResizable:n}},Zc=function(t,n,e){var r=function(){return nu(n)};return{parent:p(n),view:p(t),origin:r,isResizable:e}},ts=function(t,n,e){return{parent:p(n),view:p(t),origin:p(Qi(0,0)),isResizable:e}},ns={only:Qc,detached:Zc,body:ts},es=fi.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),rs=function(t,n,e){var r=e.substring(0,e.length-t.length),o=parseFloat(r);return r===o.toString()?n(o):es.invalid(e)},os=function(t){return Ct(t,"%")?rs("%",es.percent,t):Ct(t,"px")?rs("px",es.pixels,t):es.invalid(t)},is=ot(ot({},es),{from:os}),us=function(t,n){return I(t,(function(t){var e=is.from(t);return e.fold((function(){return t}),(function(t){var e=t/n*100;return e+"%"}),(function(t){return t+"%"}))}))},as=function(t,n,e){var r=e/n;return I(t,(function(t){var n=is.from(t);return n.fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*e+"px"}))}))},cs=function(t,n){var e=t.fold((function(){return p("")}),(function(t){var e=t/n;return p(e+"px")}),(function(){var t=100/n;return p(t+"%")}));return V(n,e)},ss=function(t,n,e){return t.fold((function(){return n}),(function(t){return as(n,e,t)}),(function(t){return us(n,e)}))},ls=function(t,n,e){var r=is.from(e),o=K(t,(function(t){return"0px"===t}))?cs(r,t.length):ss(r,t,n);return gs(o)},fs=function(t,n){return 0===t.length?n:j(t,(function(t,n){return is.from(n).fold(p(0),b,b)+t}),0)},ds=function(t,n){var e=Math.floor(t);return{value:e+n,remainder:t-e}},ms=function(t,n){return is.from(t).fold(p(t),(function(t){return t+n+"px"}),(function(t){return t+n+"%"}))},gs=function(t){if(0===t.length)return t;var n=j(t,(function(t,n){var e=is.from(n).fold((function(){return{value:n,remainder:0}}),(function(t){return ds(t,"px")}),(function(t){return{value:t+"%",remainder:0}}));return{output:[e.value].concat(t.output),remainder:t.remainder+e.remainder}}),{output:[],remainder:0}),e=n.output;return e.slice(0,e.length-1).concat([ms(e[e.length-1],Math.round(n.remainder))])},hs=is.from,vs=function(t,n,e){P(n,(function(n){var r=t.slice(n.column,n.colspan+n.column),o=fs(r,kr());dr(n.element,"width",o+e)}))},ps=function(t,n,e){P(n,(function(n,r){var o=fs([t[r]],kr());dr(n.element,"width",o+e)}))},bs=function(t,n,e,r){P(e,(function(n){var e=t.slice(n.row,n.rowspan+n.row),o=fs(e,Or());dr(n.element,"height",o+r)})),P(n,(function(n,e){dr(n.element,"height",t[e])}))},ys=function(t){return hs(t).fold(p("px"),p("px"),p("%"))},ws=function(t,n,e){var r=so.fromTable(t),o=r.all,i=so.justCells(r),u=so.justColumns(r);n.each((function(n){var e=ys(n),o=Ii(t),a=ra(r,t),c=ls(a,o,n);so.hasColumns(r)?ps(c,u,e):vs(c,i,e),dr(t,"width",n)})),e.each((function(n){var e=ys(n),u=Xi(t),a=ca(r,t,gu),c=ls(a,u,n);bs(c,o,i,e),dr(t,"height",n)}))},xs=Gu,Ss=$u,Cs=qu,ks=function(t){var n=so.fromTable(t);return n.grid},Os=function(t){var n=[],e=function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");n.push(t)},r=function(t){n=N(n,(function(n){return n!==t}))},o=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o={};P(t,(function(t,n){o[t]=e[n]})),P(n,(function(t){t(o)}))};return{bind:e,unbind:r,trigger:o}},zs=function(t){var n=An(t,(function(t){return{bind:t.bind,unbind:t.unbind}})),e=An(t,(function(t){return t.trigger}));return{registry:n,trigger:e}},Ts=function(t,n){var e=null,r=function(){a(e)||(clearTimeout(e),e=null)},o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r(),e=setTimeout((function(){e=null,t.apply(null,o)}),n)};return{cancel:r,throttle:o}},Ms=function(t){return t.slice(0).sort()},Ds=function(t,n){throw new Error("All required keys ("+Ms(t).join(", ")+") were not specified. Specified keys were: "+Ms(n).join(", ")+".")},_s=function(t){throw new Error("Unsupported keys for object: "+Ms(t).join(", "))},As=function(t,n){if(!u(n))throw new Error("The "+t+" fields must be an array. Was: "+n+".");P(n,(function(n){if(!o(n))throw new Error("The value "+n+" in the "+t+" fields was not a string.")}))},Hs=function(t,n){throw new Error("All values need to be of type: "+n+". Keys ("+Ms(t).join(", ")+") were not.")},Es=function(t){var n=Ms(t),e=G(n,(function(t,e){return e<n.length-1&&t===n[e+1]}));e.each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+n.join(", ")+"].")}))},Rs=function(t,n){return Bs(t,n,{validate:d,label:"function"})},Bs=function(t,n,e){if(0===n.length)throw new Error("You must specify at least one required field.");return As("required",n),Es(n),function(r){var o=Mn(r),i=K(n,(function(t){return R(o,t)}));i||Ds(n,o),t(n,o);var u=N(n,(function(t){return!e.validate(r[t],t)}));return u.length>0&&Hs(u,e.label),r}},Vs=function(t,n){var e=N(n,(function(n){return!R(t,n)}));e.length>0&&_s(e)},Is=function(t){return Rs(Vs,t)},Ps=Is(["compare","extract","mutate","sink"]),Ls=Is(["element","start","stop","destroy"]),Fs=Is(["forceDrop","drop","move","delayDrop"]),Ns=function(){var t=D.none(),n=function(){t=D.none()},e=function(n,e){var r=t.map((function(t){return n.compare(t,e)}));return t=D.some(e),r},r=function(t,n){var r=n.extract(t);r.each((function(t){var r=e(n,t);r.each((function(t){o.trigger.move(t)}))}))},o=zs({move:Os(["info"])});return{onEvent:r,reset:n,events:o.registry}},js=function(){var t=zs({move:Os(["info"])});return{onEvent:g,reset:g,events:t.registry}},Us=function(){var t=js(),n=Ns(),e=t,r=function(){e.reset(),e=n},o=function(){e.reset(),e=t},i=function(t,n){e.onEvent(t,n)},u=function(){return e===n};return{on:r,off:o,isOn:u,onEvent:i,events:n.events}},Ws=function(t,n,e){var r=!1,o=zs({start:Os([]),stop:Os([])}),i=Us(),u=function(){m.stop(),i.isOn()&&(i.off(),o.trigger.stop())},a=Ts(u,200),c=function(t){m.start(t),i.on(),o.trigger.start()},s=function(t){a.cancel(),i.onEvent(t,n)};i.events.move.bind((function(e){n.mutate(t,e.info)}));var l=function(){r=!0},f=function(){r=!1},d=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];r&&t.apply(null,n)}},m=n.sink(Fs({forceDrop:u,drop:d(u),move:d(s),delayDrop:d(a.throttle)}),e),g=function(){m.destroy()};return{element:m.element,go:c,on:l,off:f,destroy:g,events:o.registry}},Gs=function(t,n,e,r,o,i,u){return{target:t,x:n,y:e,stop:r,prevent:o,kill:i,raw:u}},$s=function(t){var n=bn.fromDom(De(t).getOr(t.target)),e=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=h(r,e);return Gs(n,t.clientX,t.clientY,e,r,o,t)},qs=function(t,n){return function(e){t(e)&&n($s(e))}},Xs=function(t,n,e,r,o){var i=qs(e,r);return t.dom.addEventListener(n,i,o),{unbind:w(Ys,t,n,i,o)}},Ks=function(t,n,e,r){return Xs(t,n,e,r,!1)},Ys=function(t,n,e,r){t.dom.removeEventListener(n,e,r)},Js=k,Qs=function(t,n,e){return Ks(t,n,Js,e)},Zs=$s,tl=function(t,n){var e=Ze(t,n);return void 0===e||""===e?[]:e.split(" ")},nl=function(t,n,e){var r=tl(t,n),o=r.concat([e]);return Ye(t,n,o.join(" ")),!0},el=function(t,n,e){var r=N(tl(t,n),(function(t){return t!==e}));return r.length>0?Ye(t,n,r.join(" ")):nr(t,n),!1},rl=function(t){return void 0!==t.dom.classList},ol=function(t){return tl(t,"class")},il=function(t,n){return nl(t,"class",n)},ul=function(t,n){return el(t,"class",n)},al=function(t,n){rl(t)?t.dom.classList.add(n):il(t,n)},cl=function(t){var n=rl(t)?t.dom.classList:ol(t);0===n.length&&nr(t,"class")},sl=function(t,n){if(rl(t)){var e=t.dom.classList;e.remove(n)}else ul(t,n);cl(t)},ll=function(t,n){return rl(t)&&t.dom.classList.contains(n)},fl=function(t){var n=t.replace(/\./g,"-"),e=function(t){return n+"-"+t};return{resolve:e}},dl=fl("ephox-dragster"),ml=dl.resolve,gl=function(t){var n=ot({layerClass:ml("blocker")},t),e=bn.fromTag("div");Ye(e,"role","presentation"),mr(e,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),al(e,ml("blocker")),al(e,n.layerClass);var r=p(e),o=function(){Bo(e)};return{element:r,destroy:o}},hl=function(t,n){return Qi(n.left-t.left,n.top-t.top)},vl=function(t){return D.some(Qi(t.x,t.y))},pl=function(t,n){t.mutate(n.left,n.top)},bl=function(t,n){var e=gl(n),r=Qs(e.element(),"mousedown",t.forceDrop),o=Qs(e.element(),"mouseup",t.drop),i=Qs(e.element(),"mousemove",t.move),u=Qs(e.element(),"mouseout",t.delayDrop),a=function(){e.destroy(),o.unbind(),i.unbind(),u.unbind(),r.unbind()},c=function(t){Mo(t,e.element())},s=function(){Bo(e.element())};return Ls({element:e.element,start:c,stop:s,destroy:a})},yl=Ps({compare:hl,extract:vl,sink:bl,mutate:pl}),wl=function(t,n){void 0===n&&(n={});var e=void 0!==n.mode?n.mode:yl;return Ws(t,e,n)},xl=function(t){return Xe(t,"[contenteditable]")},Sl=function(t,n){return void 0===n&&(n=!1),!on().browser.isIE()&&Ae(t)?t.dom.isContentEditable:xl(t).fold(p(n),(function(t){return"true"===Cl(t)}))},Cl=function(t){return t.dom.contentEditable},kl=fl("ephox-snooker"),Ol=kl.resolve,zl=function(){var t=zs({drag:Os(["xDelta","yDelta"])}),n=function(n,e){t.trigger.drag(n,e)};return{mutate:n,events:t.registry}},Tl=function(){var t=zs({drag:Os(["xDelta","yDelta","target"])}),n=D.none(),e=zl();e.events.drag.bind((function(e){n.each((function(n){t.trigger.drag(e.xDelta,e.yDelta,n)}))}));var r=function(t){n=D.some(t)},o=function(){return n};return{assign:r,get:o,mutate:e.mutate,events:t.registry}},Ml=function(t,n,e,r,o){var i=bn.fromTag("div");return mr(i,{position:"absolute",left:n-r/2+"px",top:e+"px",height:o+"px",width:r+"px"}),Je(i,{"data-column":t,role:"presentation"}),i},Dl=function(t,n,e,r,o){var i=bn.fromTag("div");return mr(i,{position:"absolute",left:n+"px",top:e-o/2+"px",height:o+"px",width:r+"px"}),Je(i,{"data-row":t,role:"presentation"}),i},_l=Ol("resizer-bar"),Al=Ol("resizer-rows"),Hl=Ol("resizer-cols"),El=7,Rl=function(t,n){return X(t.all,(function(t,e){return n(t.element)?[e]:[]}))},Bl=function(t,n){var e=[];return V(t.grid.columns,(function(r){var o=so.getColumnAt(t,r).map((function(t){return t.element}));o.forall(n)&&e.push(r)})),N(e,(function(e){var r=so.filterItems(t,(function(t){return t.column===e}));return K(r,(function(t){return n(t.element)}))}))},Vl=function(t){var n=Le(t.parent(),"."+_l);P(n,Bo)},Il=function(t,n,e){var r=t.origin();P(n,(function(n){n.each((function(n){var o=e(r,n);al(o,_l),Mo(t.parent(),o)}))}))},Pl=function(t,n,e,r){Il(t,n,(function(t,n){var o=Ml(n.col,n.x-t.left,e.top-t.top,El,r);return al(o,Hl),o}))},Ll=function(t,n,e,r){Il(t,n,(function(t,n){var o=Dl(n.row,e.left-t.left,n.y-t.top,r,El);return al(o,Al),o}))},Fl=function(t,n,e,r,o){var i=nu(e),u=n.isResizable,a=r.length>0?gu.positions(r,e):[],c=a.length>0?Rl(t,u):[],s=N(a,(function(t,n){return B(c,(function(t){return n===t}))}));Ll(n,s,i,Pi(e));var l=o.length>0?bu.positions(o,e):[],f=l.length>0?Bl(t,u):[],d=N(l,(function(t,n){return B(f,(function(t){return n===t}))}));Pl(n,d,i,Ki(e))},Nl=function(t,n){if(Vl(t),t.isResizable(n)){var e=so.fromTable(n),r=Ui(e),o=Ni(e);Fl(e,t,n,r,o)}},jl=function(t,n){var e=Le(t.parent(),"."+_l);P(e,n)},Ul=function(t){jl(t,(function(t){dr(t,"display","none")}))},Wl=function(t){jl(t,(function(t){dr(t,"display","block")}))},Gl=function(t){return ll(t,Al)},$l=function(t){return ll(t,Hl)},ql=Ol("resizer-bar-dragging"),Xl=function(t){var n=Tl(),e=wl(n,{}),r=D.none(),o=function(t,n){return D.from(Ze(t,n))};n.events.drag.bind((function(t){o(t.target,"data-row").each((function(n){var e=Cr(t.target,"top");dr(t.target,"top",e+t.yDelta+"px")})),o(t.target,"data-column").each((function(n){var e=Cr(t.target,"left");dr(t.target,"left",e+t.xDelta+"px")}))}));var i=function(t,n){var e=Cr(t,n),r=yr(t,"data-initial-"+n,0);return e-r};e.events.stop.bind((function(){n.get().each((function(n){r.each((function(e){o(n,"data-row").each((function(t){var r=i(n,"top");nr(n,"data-initial-top"),m.trigger.adjustHeight(e,r,parseInt(t,10))})),o(n,"data-column").each((function(t){var r=i(n,"left");nr(n,"data-initial-left"),m.trigger.adjustWidth(e,r,parseInt(t,10))})),Nl(t,e)}))}))}));var u=function(r,o){m.trigger.startAdjust(),n.assign(r),Ye(r,"data-initial-"+o,Cr(r,o)),al(r,ql),dr(r,"opacity","0.2"),e.go(t.parent())},a=Qs(t.parent(),"mousedown",(function(t){Gl(t.target)&&u(t.target,"top"),$l(t.target)&&u(t.target,"left")})),c=function(n){return Cn(n,t.view())},s=function(t){return Xe(t,"table",c).filter(Sl)},l=Qs(t.view(),"mouseover",(function(n){s(n.target).fold((function(){Ae(n.target)&&Vl(t)}),(function(n){r=D.some(n),Nl(t,n)}))})),f=function(){a.unbind(),l.unbind(),e.destroy(),Vl(t)},d=function(n){Nl(t,n)},m=zs({adjustHeight:Os(["table","delta","row"]),adjustWidth:Os(["table","delta","column"]),startAdjust:Os([])});return{destroy:f,refresh:d,on:e.on,off:e.off,hideBars:w(Ul,t),showBars:w(Wl,t),events:m.registry}},Kl=function(t,n,e){var r=gu,o=bu,i=Xl(t),u=zs({beforeResize:Os(["table","type"]),afterResize:Os(["table","type"]),startDrag:Os([])});return i.events.adjustHeight.bind((function(t){var n=t.table;u.trigger.beforeResize(n,"row");var e=r.delta(t.delta,n);jc(n,e,t.row,r),u.trigger.afterResize(n,"row")})),i.events.startAdjust.bind((function(t){u.trigger.startDrag()})),i.events.adjustWidth.bind((function(t){var r=t.table;u.trigger.beforeResize(r,"col");var i=o.delta(t.delta,r),a=e(r);Nc(r,i,t.column,n,a),u.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:u.registry}},Yl={create:Kl},Jl=function(t,n){return t.fire("newrow",{node:n})},Ql=function(t,n){return t.fire("newcell",{node:n})},Zl=function(t,n,e,r,o){t.fire("ObjectResizeStart",{target:n,width:e,height:r,origin:o})},tf=function(t,n,e,r,o){t.fire("ObjectResized",{target:n,width:e,height:r,origin:o})},nf=function(t,n,e,r,o){t.fire("TableSelectionChange",{cells:n,start:e,finish:r,otherCells:o})},ef=function(t){t.fire("TableSelectionClear")},rf=function(t,n,e){t.fire("TableModified",ot(ot({},e),{table:n}))},of={structure:!1,style:!0},uf={structure:!0,style:!1},af={structure:!0,style:!0},cf="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",sf={"border-collapse":"collapse",width:"100%"},lf=V(5,(function(t){var n=t+1+"px";return{title:n,value:n}})),ff=I(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(function(t){return{title:t,value:t.toLowerCase()}})),df=function(t){var n;if(Ef(t)){var e=t.dom,r=null!==(n=e.getParent(t.selection.getStart(),e.isBlock))&&void 0!==n?n:t.getBody(),o=Li(bn.fromDom(r));return ot(ot({},sf),{width:o+"px"})}return Rf(t)?Bn(sf,(function(t,n){return"width"!==n})):sf},mf={border:"1"},gf="preservetable",hf=function(t){return t.getParam("table_sizing_mode","auto")},vf=function(t){return t.getParam("table_responsive_width")},pf=function(t){return t.getParam("table_border_widths",lf,"array")},bf=function(t){return t.getParam("table_border_styles",ff,"array")},yf=function(t){return t.getParam("table_default_attributes",mf,"object")},wf=function(t){return t.getParam("table_default_styles",df(t),"object")},xf=function(t){return t.getParam("table_resize_bars",!0,"boolean")},Sf=function(t){return t.getParam("table_tab_navigation",!0,"boolean")},Cf=function(t){return t.getParam("table_cell_advtab",!0,"boolean")},kf=function(t){return t.getParam("table_row_advtab",!0,"boolean")},Of=function(t){return t.getParam("table_advtab",!0,"boolean")},zf=function(t){return t.getParam("table_appearance_options",!0,"boolean")},Tf=function(t){return t.getParam("table_grid",!0,"boolean")},Mf=function(t){return t.getParam("table_style_by_css",!1,"boolean")},Df=function(t){return t.getParam("table_cell_class_list",[],"array")},_f=function(t){return t.getParam("table_row_class_list",[],"array")},Af=function(t){return t.getParam("table_class_list",[],"array")},Hf=function(t){return"relative"===hf(t)||!0===vf(t)},Ef=function(t){return"fixed"===hf(t)||!1===vf(t)},Rf=function(t){return"responsive"===hf(t)},Bf=function(t){return t.getParam("table_toolbar",cf)},Vf=function(t){return t.getParam("table_use_colgroups",!1,"boolean")},If=function(t){var n="section",e=t.getParam("table_header_type",n,"string"),r=["section","cells","sectionCells","auto"];return R(r,e)?e:n},Pf=function(t){var n=["preservetable","resizetable"],e=t.getParam("table_column_resizing",gf,"string");return G(n,(function(t){return t===e})).getOr(gf)},Lf=function(t){return"preservetable"===Pf(t)},Ff=function(t){return"resizetable"===Pf(t)},Nf=function(t){var n=t.getParam("table_clone_elements");return o(n)?D.some(n.split(/[ ,]/)):Array.isArray(n)?D.some(n):D.none()},jf=function(t){var n=t.getParam("object_resizing",!0);return o(n)?"table"===n:n},Uf=function(t){return t.getParam("table_background_color_map",[],"array")},Wf=function(t){return t.getParam("table_border_color_map",[],"array")},Gf=function(t,n){return Hf(t)?ha.percentageSize(n):Ef(t)?ha.pixelSize(n):ha.getTableSize(n)},$f=function(t){nr(t,"width")},qf=function(t){var n=Wu(t);ws(t,D.some(n),D.none()),$f(t)},Xf=function(t){var n=Uu(t);ws(t,D.some(n),D.none()),$f(t)},Kf=function(t){pr(t,"width");var n=Ar(t),e=n.length>0?n:_r(t);P(e,(function(t){pr(t,"width"),$f(t)})),$f(t)},Yf=qf,Jf=Xf,Qf=Kf,Zf=function(t){var n=so.fromTable(t);so.hasColumns(n)||P(_r(t),(function(t){var n=gr(t,"width");dr(t,"width",n),nr(t,"width")}))},td=function(){var t=bn.fromTag("div");return mr(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Mo(He(),t),t},nd=function(t,n){return t.inline?ns.body(Ga(t),td(),n):ns.only(bn.fromDom(t.getDoc()),n)},ed=function(t,n){t.inline&&Bo(n.parent())},rd="bar-",od=function(t){return"false"!==Ze(t,"data-mce-resize")},id=function(t){var n,e,r=D.none(),o=D.none(),i=D.none(),u=function(t){return"TABLE"===t.nodeName},a=function(){return o},c=function(){return i.getOr(ns.only(bn.fromDom(t.getBody()),od))},s=function(n){return Gf(t,n)},l=function(){return Lf(t)?Jc():Yc()},f=function(t){return ks(t).columns},d=function(r,o,i){var u=Ct(o,"e");if(""===e&&Yf(r),i!==n&&""!==e){dr(r,"width",e);var a=l(),c=s(r),d=Lf(t)||u?f(r)-1:0;Nc(r,i-n,d,a,c)}else if(Za(e)){var m=parseFloat(e.replace("%","")),g=i*m/n;dr(r,"width",g+"%")}tc(e)&&Zf(r)},m=function(){o.each((function(t){t.destroy()})),i.each((function(n){ed(t,n)}))};return t.on("init",(function(){var n=nd(t,od);if(i=D.some(n),jf(t)&&xf(t)){var e=l(),u=Yl.create(n,e,s);u.on(),u.events.startDrag.bind((function(n){r=D.some(t.selection.getRng())})),u.events.beforeResize.bind((function(n){var e=n.table.dom;Zl(t,e,$a(e),qa(e),rd+n.type)})),u.events.afterResize.bind((function(n){var e=n.table,o=e.dom;Ja(e),r.each((function(n){t.selection.setRng(n),t.focus()})),tf(t,o,$a(o),qa(o),rd+n.type),t.undoManager.add()})),o=D.some(u)}})),t.on("ObjectResizeStart",(function(r){var o=r.target;if(u(o)){var i=bn.fromDom(o);P(t.dom.select(".mce-clonedresizable"),(function(n){t.dom.addClass(n,"mce-"+Pf(t)+"-columns")})),!Ss(i)&&Ef(t)?Jf(i):!xs(i)&&Hf(t)&&Yf(i),Cs(i)&&St(r.origin,rd)&&Yf(i),n=r.width,e=Rf(t)?"":Qa(t,o).getOr("")}})),t.on("ObjectResized",(function(n){var e=n.target;if(u(e)){var r=bn.fromDom(e),o=n.origin;St(o,"corner-")&&d(r,o,n.width),Ja(r),rf(t,r.dom,of)}})),t.on("SwitchMode",(function(){a().each((function(n){t.mode.isReadOnly()?n.hideBars():n.showBars()}))})),{lazyResize:a,lazyWire:c,destroy:m}},ud=function(t,n){return{element:t,offset:n}},ad=function(t,n,e){return t.property().isText(n)&&0===t.property().getText(n).trim().length||t.property().isComment(n)?e(n).bind((function(n){return ad(t,n,e).orThunk((function(){return D.some(n)}))})):D.none()},cd=function(t,n){if(t.property().isText(n))return t.property().getText(n).length;var e=t.property().children(n);return e.length},sd=function(t,n){var e=ad(t,n,t.query().prevSibling).getOr(n);if(t.property().isText(e))return ud(e,cd(t,e));var r=t.property().children(e);return r.length>0?sd(t,r[r.length-1]):ud(e,cd(t,e))},ld=sd,fd=Uo(),dd=function(t){return ld(fd,t)},md=function(t,n){var e=wr(t,"colspan");if(1===e){var r=Nu(t);r.each((function(e){var r=e.value/2;ju(t,r,e.unit),ju(n,r,e.unit)}))}},gd=fe("th"),hd=function(t){return K(t,(function(t){return gd(t.element)}))},vd=function(t,n){return t&&n?"sectionCells":t?"section":"cells"},pd=function(t){var n="thead"===t.section,e=rr(bd(t.cells),"th");return n||e?{type:"header",subType:vd(n,e)}:"tfoot"===t.section?{type:"footer"}:{type:"body"}},bd=function(t){var n=N(t,(function(t){return gd(t.element)}));return 0===n.length?D.some("td"):n.length===t.length?D.some("th"):D.none()},yd=function(t){var n=I(t,(function(t){return pd(t).type})),e=R(n,"header"),r=R(n,"footer");if(e||r){var o=R(n,"body");return!e||o||r?e||o||!r?D.none():D.some("footer"):D.some("header")}return D.some("body")},wd=function(t){return rt(t.all,(function(t){var n=pd(t);return"header"===n.type?D.from(n.subType):D.none()}))},xd=function(t,n,e){return Qn(e(t.element,n),!0,t.isLocked)},Sd=function(t,n){return t.section!==n?Zn(t.element,t.cells,n,t.isNew):t},Cd=function(){return{transformRow:Sd,transformCell:function(t,n,e){var r=e(t.element,n),o="td"!==re(r)?ki(r,"td"):r;return Qn(o,t.isNew,t.isLocked)}}},kd=function(){return{transformRow:Sd,transformCell:xd}},Od=function(){return{transformRow:function(t,n){var e="thead"===n?"tbody":n;return Sd(t,e)},transformCell:xd}},zd=function(){return{transformRow:b,transformCell:xd}},Td=function(t,n){var e=so.fromTable(t),r=wd(e).getOr(n);switch(r){case"section":return Cd();case"sectionCells":return kd();case"cells":return Od()}},Md={getTableSectionType:Td,section:Cd,sectionCells:kd,cells:Od,fallback:zd},Dd=function(t,n,e,r){e===r?nr(t,n):Ye(t,n,e)},_d=function(t,n,e){et(Pe(t,n)).fold((function(){return To(t,e)}),(function(t){return zo(t,e)}))},Ad=function(t,n){var e=$e(t,n).getOrThunk((function(){var e=bn.fromTag(n,de(t).dom);return"thead"===n?_d(t,"caption,colgroup",e):"colgroup"===n?_d(t,"caption",e):Mo(t,e),e}));return Ro(e),e},Hd=function(t,n){var e=[],r=[],o=function(t){return I(t,(function(t){t.isNew&&e.push(t.element);var n=t.element;return Ro(n),P(t.cells,(function(t){t.isNew&&r.push(t.element),Dd(t.element,"colspan",t.colspan,1),Dd(t.element,"rowspan",t.rowspan,1),Mo(n,t.element)})),n}))},i=function(t){return X(t,(function(t){return I(t.cells,(function(t){return Dd(t.element,"span",t.colspan,1),t.element}))}))},u=function(n,e){var r=Ad(t,e),u="colgroup"===e?i:o,a=u(n);Eo(r,a)},a=function(n){$e(t,n).each(Bo)},c=function(t,n){t.length>0?u(t,n):a(n)},s=[],l=[],f=[],d=[];return P(n,(function(t){switch(t.section){case"thead":s.push(t);break;case"tbody":l.push(t);break;case"tfoot":f.push(t);break;case"colgroup":d.push(t);break}})),c(d,"colgroup"),c(s,"thead"),c(l,"tbody"),c(f,"tfoot"),{newRows:e,newCells:r}},Ed=function(t){return I(t,(function(t){var n=wi(t.element);return P(t.cells,(function(t){var e=xi(t.element);Dd(e,"colspan",t.colspan,1),Dd(e,"rowspan",t.rowspan,1),Mo(n,e)})),n}))},Rd=function(t,n){return I(t,(function(t){return Wr(t,n)}))},Bd=function(t,n){return t[n]},Vd=function(t,n){if(0===t.length)return 0;var e=t[0],r=$(t,(function(t){return!n(e.element,t.element)}));return r.getOr(t.length)},Id=function(t,n,e,r){var o=Bd(t,n),i="colgroup"===o.section,u=Vd(o.cells.slice(e),r),a=i?1:Vd(Rd(t.slice(n),e),r);return{colspan:u,rowspan:a}},Pd=function(t,n){var e=I(t,(function(t){return I(t.cells,C)})),r=function(t,n,r,o){for(var i=t;i<t+r;i++)for(var u=n;u<n+o;u++)e[i][u]=!0};return I(t,(function(o,i){var u=X(o.cells,(function(o,u){if(!1===e[i][u]){var a=Id(t,i,u,n);return r(i,u,a.rowspan,a.colspan),[Xn(o.element,a.rowspan,a.colspan,o.isNew)]}return[]}));return Jn(o.element,u,o.section,o.isNew)}))},Ld=function(t,n,e){var r=[];P(t.colgroups,(function(o){for(var i=[],u=0;u<t.grid.columns;u++){var a=so.getColumnAt(t,u).map((function(t){return Qn(t.element,e,!1)})).getOrThunk((function(){return Qn(n.colGap(),!0,!1)}));i.push(a)}r.push(Zn(o.element,i,"colgroup",e))}));for(var o=0;o<t.grid.rows;o++){for(var i=[],u=0;u<t.grid.columns;u++){var a=so.getAt(t,o,u).map((function(t){return Qn(t.element,e,t.isLocked)})).getOrThunk((function(){return Qn(n.gap(),!0,!1)}));i.push(a)}var c=t.all[o],s=Zn(c.element,i,c.section,e);r.push(s)}return r},Fd=function(t,n){return Ld(t,n,!1)},Nd=function(t){return Pd(t,Cn)},jd=function(t,n){return rt(t.all,(function(t){return G(t.cells,(function(t){return Cn(n,t.element)}))}))},Ud=function(t,n,e){var r=I(n.selection,(function(n){return Dr(n).bind((function(n){return jd(t,n)})).filter(e)})),o=or(r);return cr(o.length>0,o)},Wd=function(t,n,e,r,o){return function(i,u,a,c,s){var l=so.fromTable(u),f=D.from(null===s||void 0===s?void 0:s.section).getOrThunk(Md.fallback),d=n(l,a).map((function(n){var e=Fd(l,c),r=t(e,n,Cn,o(c),f),i=Jr(r.grid),u=Nd(r.grid);return{info:n,grid:u,cursor:r.cursor,lockedColumns:i}}));return d.bind((function(t){var n=Hd(u,t.grid),o=D.from(null===s||void 0===s?void 0:s.sizing).getOrThunk((function(){return ha.getTableSize(u)})),a=D.from(null===s||void 0===s?void 0:s.resize).getOrThunk(Jc);return e(u,t.grid,t.info,{sizing:o,resize:a,section:f}),r(u),Nl(i,u),nr(u,Kr),t.lockedColumns.length>0&&Ye(u,Kr,t.lockedColumns.join(",")),D.some({cursor:t.cursor,newRows:n.newRows,newCells:n.newCells})}))}},Gd=function(t,n){return Dr(n.element).bind((function(e){return jd(t,e).map((function(t){var e=ot(ot({},t),{generators:n.generators,clipboard:n.clipboard});return e}))}))},$d=function(t,n){return Ud(t,n,k).map((function(t){return{cells:t,generators:n.generators,clipboard:n.clipboard}}))},qd=function(t,n){return n.mergable},Xd=function(t,n){return n.unmergable},Kd=function(t,n){return Ud(t,n,k)},Yd=function(t,n){return Ud(t,n,(function(t){return!t.isLocked}))},Jd=function(t,n){return jd(t,n).exists((function(t){return!t.isLocked}))},Qd=function(t,n){return K(n,(function(n){return Jd(t,n)}))},Zd=function(t,n){return qd(t,n).filter((function(n){return Qd(t,n.cells)}))},tm=function(t,n){return Xd(t,n).filter((function(n){return Qd(t,n)}))},nm=function(t,n,e,r){var o=qr(t).rows;if(0===o.length)return t;for(var i=n.startRow;i<=n.finishRow;i++)for(var u=n.startCol;u<=n.finishCol;u++){var a=o[i],c=Wr(a,u).isLocked;Nr(a,u,Qn(r(),!1,c))}return t},em=function(t,n,e,r){for(var o=qr(t).rows,i=!0,u=0;u<o.length;u++)for(var a=0;a<$r(o[0]);a++){var c=o[u],s=Wr(c,a),l=s.element,f=e(l,n);!0===f&&!1===i?Nr(c,a,Qn(r(),!0,s.isLocked)):!0===f&&(i=!1)}return t},rm=function(t,n){return U(t,(function(t,e){return B(t,(function(t){return n(t.element,e.element)}))?t:t.concat([e])}),[])},om=function(t,n,e,r){return n>0&&n<t[0].cells.length&&P(t,(function(t){var o=t.cells[n-1],i=t.cells[n],u=e(i.element,o.element);u&&Nr(t,n,Qn(r(),!0,i.isLocked))})),t},im=function(t,n,e,r){var o=qr(t).rows;if(n>0&&n<o.length){var i=o[n-1].cells,u=rm(i,e);P(u,(function(t){for(var i=D.none(),u=n;u<o.length;u++)for(var a=function(n){var a=o[u],c=Wr(a,n),s=e(c.element,t.element);s&&(i.isNone()&&(i=D.some(r())),i.each((function(t){Nr(a,n,Qn(t,!0,c.isLocked))})))},c=0;c<$r(o[0]);c++)a(c)}))}return t},um=function(t){var n=function(n){return um(t)},e=function(n){return um(t)},r=function(n){return um(n(t))},o=function(n){return um(t)},i=function(n){n(t)},u=function(n){return n(t)},a=function(n,e){return e(t)},c=function(n){return n(t)},s=function(n){return n(t)},l=function(){return D.some(t)};return{isValue:k,isError:C,getOr:p(t),getOrThunk:p(t),getOrDie:p(t),or:n,orThunk:e,fold:a,map:r,mapError:o,each:i,bind:u,exists:c,forall:s,toOptional:l}},am=function(t){var n=function(t){return t()},e=function(){return S(String(t))()},r=b,o=function(t){return t()},i=function(n){return am(t)},u=function(n){return am(n(t))},a=function(n){return am(t)},c=function(n,e){return n(t)};return{isValue:C,isError:k,getOr:b,getOrThunk:n,getOrDie:e,or:r,orThunk:o,fold:c,map:i,mapError:u,each:g,bind:a,exists:C,forall:k,toOptional:D.none}},cm=function(t,n){return t.fold((function(){return am(n)}),um)},sm={value:um,error:am,fromOption:cm},lm=function(t,n,e){if(t.row>=n.length||t.column>$r(n[0]))return sm.error("invalid start address out of table bounds, row: "+t.row+", column: "+t.column);var r=n.slice(t.row),o=r[0].cells.slice(t.column),i=$r(e[0]),u=e.length;return sm.value({rowDelta:r.length-u,colDelta:o.length-i})},fm=function(t,n){var e=$r(t[0]),r=$r(n[0]);return{rowDelta:0,colDelta:e-r}},dm=function(t,n){var e=t.length,r=n.length;return{rowDelta:e-r,colDelta:0}},mm=function(t,n,e,r){var o="colgroup"===n.section?e.col:e.cell;return V(t,(function(t){return Qn(o(),!0,r(t))}))},gm=function(t,n,e,r){var o=t[t.length-1];return t.concat(V(n,(function(){var t="colgroup"===o.section?e.colgroup:e.row,n=Xr(o,t,b),i=mm(n.cells.length,n,e,(function(t){return Fn(r,t.toString())}));return jr(n,i)})))},hm=function(t,n,e,r){return I(t,(function(t){var o=mm(n,t,e,C);return Lr(t,r,o)}))},vm=function(t,n,e){return I(t,(function(t){return U(e,(function(e,r){var o=mm(1,t,n,k)[0];return Fr(e,r,o)}),t)}))},pm=function(t,n,e){var r=n.colDelta<0?hm:b,o=n.rowDelta<0?gm:b,i=Jr(t),u=$r(t[0]),a=B(i,(function(t){return t===u-1})),c=r(t,Math.abs(n.colDelta),e,a?u-1:u),s=Jr(c);return o(c,Math.abs(n.rowDelta),e,J(s,k))},bm=function(t,n,e,r){var o=Wr(t[n],e),i=w(r,o.element),u=t[n];return t.length>1&&$r(u)>1&&(e>0&&i(Gr(u,e-1))||e<u.cells.length-1&&i(Gr(u,e+1))||n>0&&i(Gr(t[n-1],e))||n<t.length-1&&i(Gr(t[n+1],e)))},ym=function(t,n,e,r,o,i){for(var u=t.row,a=t.column,c=e.length,s=$r(e[0]),l=u+c,f=a+s+i.length,d=J(i,k),m=u;m<l;m++)for(var g=0,h=a;h<f;h++)if(d[h])g++;else{bm(n,m,h,o)&&em(n,Gr(n[m],h),o,r.cell);var v=h-a-g,p=Wr(e[m-u],v),b=p.element,y=r.replace(b);Nr(n[m],h,Qn(y,!0,p.isLocked))}return n},wm=function(t,n,e){var r=$r(n[0]),o=qr(n).cols.length+t.row,i=V(r-t.column,(function(n){return n+t.column})),u=G(i,(function(t){return K(e,(function(n){return n!==t}))})).getOr(r-1);return{row:o,column:u}},xm=function(t,n,e){return N(e,(function(e){return e>=t.column&&e<=$r(n[0])+t.column}))},Sm=function(t,n,e,r,o){var i=Jr(n),u=wm(t,n,i),a=qr(e).rows,c=xm(u,a,i),s=lm(u,n,a);return s.map((function(t){var e=ot(ot({},t),{colDelta:t.colDelta-c.length}),i=pm(n,e,r),s=Jr(i),l=xm(u,a,s);return ym(u,i,a,r,o,l)}))},Cm=function(t,n,e,r,o){om(n,t,o,r.cell);var i=dm(e,n),u=pm(e,i,r),a=dm(n,u),c=pm(n,a,r);return I(c,(function(n,e){return Lr(n,t,u[e].cells)}))},km=function(t,n,e,r,o){im(n,t,o,r.cell);var i=Jr(n),u=fm(n,e),a=ot(ot({},u),{colDelta:u.colDelta-i.length}),c=pm(n,a,r),s=qr(c),l=s.cols,f=s.rows,d=Jr(c),m=fm(e,n),g=ot(ot({},m),{colDelta:m.colDelta+d.length}),h=vm(e,r,d),v=pm(h,g,r);return l.concat(f.slice(0,t)).concat(v).concat(f.slice(t,f.length))},Om=function(t,n,e,r){return Xr(t,(function(t){return r(t,e)}),n)},zm=function(t,n,e,r,o){var i=qr(t),u=i.rows,a=i.cols,c=u.slice(0,n),s=u.slice(n),l=Om(u[e],(function(t,e){var i=n>0&&n<u.length&&r(Gr(u[n-1],e),Gr(u[n],e)),a=i?Wr(u[n],e):Qn(o(t.element,r),!0,t.isLocked);return a}),r,o);return a.concat(c).concat([l]).concat(s)},Tm=function(t,n,e,r,o,i,u){if("colgroup"!==e&&r)return Wr(t,n);var a=Wr(t,o);return Qn(u(a.element,i),!0,!1)},Mm=function(t,n,e,r,o){return I(t,(function(t){var i=n>0&&n<$r(t)&&r(Gr(t,n-1),Gr(t,n)),u=Tm(t,n,t.section,i,e,r,o);return Fr(t,n,u)}))},Dm=function(t,n){return X(t,(function(t){var e=t.cells,r=j(n,(function(t,n){return n>=0&&n<t.length?t.slice(0,n).concat(t.slice(n+1)):t}),e);return r.length>0?[Zn(t.element,r,t.section,t.isNew)]:[]}))},_m=function(t,n,e){var r=qr(t),o=r.rows,i=r.cols;return i.concat(o.slice(0,n)).concat(o.slice(e+1))},Am=function(t,n,e,r){return void 0!==Gr(t[n],e)&&n>0&&r(Gr(t[n-1],e),Gr(t[n],e))},Hm=function(t,n,e){return n>0&&e(Gr(t,n-1),Gr(t,n))},Em=function(t,n,e,r){return Am(t,n,e,r)||Hm(t[n],e,r)},Rm=function(t,n){var e=K(n,b)&&hd(t.cells);return e?k:function(t,e,r){var o=re(t.element);return!("th"===o&&n[r])}},Bm=function(t,n){var e=K(n,b)&&hd(t);return e?k:function(t,e,r){var o=re(t.element);return!("th"===o&&n[e])}},Vm=function(t,n,e,r){var o=function(t){return"row"===t?Sr(n):xr(n)},i=function(t){return o(t)?t+"group":t};if(t)return gd(n)?i(e):null;if(r&&gd(n)){var u="row"===e?"col":"row";return i(u)}return null},Im=function(t,n){return function(e,r,o){return D.some(Vm(t,e.element,"col",n[o]))}},Pm=function(t,n){return function(e,r){return D.some(Vm(t,e.element,"row",n[r]))}},Lm=function(t,n,e){return Qn(e(t.element,n),!0,t.isLocked)},Fm=function(t,n,e,r,o,i,u){var a=function(t){return B(n,(function(n){return e(t.element,n.element)}))};return I(t,(function(t,n){return Ur(t,(function(t,c){if(a(t)){var s=u(t,n,c)?o(t,e,r):t;return i(s,n,c).each((function(t){Qe(s.element,{scope:D.from(t)})})),s}return t}))}))},Nm=function(t,n,e){return X(t,(function(r,o){return Em(t,o,n,e)?[]:[Wr(r,n)]}))},jm=function(t,n,e){var r=t[n];return X(r.cells,(function(r,o){return Em(t,n,o,e)?[]:[r]}))},Um=function(t,n,e,r,o){var i=qr(t).rows,u=X(n,(function(t){return Nm(i,t,r)})),a=I(t,(function(t){return hd(t.cells)})),c=Bm(u,a),s=Pm(e,a);return Fm(t,u,r,o,Lm,s,c)},Wm=function(t,n,e,r,o,i,u){var a=qr(t),c=a.cols,s=a.rows,l=s[n[0]],f=X(n,(function(t){return jm(s,t,o)})),d=I(l.cells,(function(t,n){return hd(Nm(s,n,o))})),m=it([],s,!0);P(n,(function(t){m[t]=u.transformRow(s[t],e)}));var g=c.concat(m),h=Rm(l,d),v=Im(r,d);return Fm(g,f,o,i,u.transformCell,v,h)},Gm=function(t,n,e,r){var o=qr(t).rows,i=I(n,(function(t){return Wr(o[t.row],t.column)}));return Fm(t,i,e,r,Lm,D.none,k)},$m=function(t){var n=function(t,n){var e=B(t,(function(t){return t.column===n.column}));return e?t:t.concat([n])};return U(t,n,[]).sort((function(t,n){return t.column-n.column}))},qm=fe("col"),Xm=fe("colgroup"),Km=function(t){return"tr"===re(t)||Xm(t)},Ym=function(t){var n=yr(t,"colspan",1),e=yr(t,"rowspan",1);return{element:t,colspan:n,rowspan:e}},Jm=function(t,n){void 0===n&&(n=Ym);var e=function(n){return qm(n.element)?t.col(n):t.cell(n)},r=function(n){return Xm(n.element)?t.colgroup(n):t.row(n)},o=function(t){if(Km(t))return r({element:t});var o=e(n(t));return i=D.some({item:t,replacement:o}),o},i=D.none(),u=function(t,n){return i.fold((function(){return o(t)}),(function(e){return n(t,e.item)?e.replacement:o(t)}))};return{getOrInit:u}},Qm=function(t){return function(n){var e=[],r=function(t,n){return G(e,(function(e){return n(e.item,t)}))},o=function(r){var o="td"===t?{scope:null}:{},i=n.replace(r,t,o);return e.push({item:r,sub:i}),i},i=function(t,n){return Km(t)||qm(t)?t:r(t,n).fold((function(){return o(t)}),(function(e){return n(t,e.item)?e.sub:o(t)}))};return{replaceOrInit:i}}},Zm=function(t){return tr(t,"scope").map((function(t){return t.substr(0,3)}))},tg=function(t){var n=function(n){var e=Zm(n);return e.each((function(t){return Ye(n,"scope",t)})),function(){var r=t.cell({element:n,colspan:1,rowspan:1});return pr(r,"width"),pr(n,"width"),e.each((function(t){return Ye(r,"scope",t)})),r}},e=function(t){var n=function(){var n=or(I(t,Zm));if(0===n.length)return D.none();var e=n[0],r=["row","col"],o=B(n,(function(t){return t!==e&&R(r,t)}));return o?D.none():D.from(e)};return pr(t[0],"width"),n().fold((function(){return nr(t[0],"scope")}),(function(n){return Ye(t[0],"scope",n+"group")})),p(t[0])};return{unmerge:n,merge:e}},ng={modification:Jm,transform:Qm,merging:tg},eg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],rg=function(t,n){var e=t.property().name(n);return R(["ol","ul"],e)},og=function(t,n){var e=t.property().name(n);return R(eg,e)},ig=function(t,n){return R(["br","img","hr","input"],t.property().name(n))},ug=Uo(),ag=function(t){return og(ug,t)},cg=function(t){return rg(ug,t)},sg=function(t){return ig(ug,t)},lg=function(t){var n=function(t){return"br"===re(t)},e=function(t){return K(t,(function(t){return n(t)||ce(t)&&0===Lo(t).trim().length}))},r=function(t){return"li"===re(t)||Ne(t,cg).isSome()},o=function(t){return ye(t).map((function(t){return!!ag(t)||!!sg(t)&&"img"!==re(t)})).getOr(!1)},i=function(t){return Da(t).bind((function(e){var i=o(e);return he(e).map((function(o){return!0===i||r(o)||n(e)||ag(o)&&!Cn(t,o)?[]:[bn.fromTag("br")]}))})).getOr([])},u=function(){var n=X(t,(function(t){var n=we(t);return e(n)?[]:n.concat(i(t))}));return 0===n.length?[bn.fromTag("br")]:n},a=u();Ro(t[0]),Eo(t[0],a)},fg=function(t){return Sl(t,!0)},dg=function(t){var n=_r(t);0===n.length&&Bo(t)},mg=function(t,n){return{grid:t,cursor:n}},gg=function(t){return rt(t,(function(t){return rt(t.cells,(function(t){var n=t.element;return cr(fg(n),n)}))}))},hg=function(t,n,e){var r,o,i=qr(t).rows;return D.from(null===(o=null===(r=i[n])||void 0===r?void 0:r.cells[e])||void 0===o?void 0:o.element).filter(fg).orThunk((function(){return gg(i)}))},vg=function(t,n,e){var r=hg(t,n,e);return mg(t,r)},pg=function(t){var n=function(t,n){var e=B(t,(function(t){return t.row===n.row}));return e?t:t.concat([n])};return U(t,n,[]).sort((function(t,n){return t.row-n.row}))},bg=function(t,n,e,r){var o=n[0].row,i=pg(n),u=j(i,(function(t,n){var i=zm(t.grid,o,n.row+t.delta,e,r.getOrInit);return{grid:i,delta:t.delta+1}}),{grid:t,delta:0}).grid;return vg(u,o,n[0].column)},yg=function(t,n,e,r){var o=pg(n),i=o[o.length-1],u=i.row+i.rowspan,a=j(o,(function(t,n){return zm(t,u,n.row,e,r.getOrInit)}),t);return vg(a,u,n[0].column)},wg=function(t,n,e,r){var o=n.details,i=$m(o),u=i[0].column,a=j(i,(function(t,n){var o=Mm(t.grid,u,n.column+t.delta,e,r.getOrInit);return{grid:o,delta:t.delta+1}}),{grid:t,delta:0}).grid;return vg(a,o[0].row,u)},xg=function(t,n,e,r){var o=n.details,i=o[o.length-1],u=i.column+i.colspan,a=$m(o),c=j(a,(function(t,n){return Mm(t,u,n.column,e,r.getOrInit)}),t);return vg(c,o[0].row,u)},Sg=function(t,n,e,r){var o=$m(n),i=I(o,(function(t){return t.column})),u=Um(t,i,!0,e,r.replaceOrInit);return vg(u,n[0].row,n[0].column)},Cg=function(t,n,e,r){var o=Gm(t,n,e,r.replaceOrInit);return vg(o,n[0].row,n[0].column)},kg=function(t,n,e,r){var o=$m(n),i=I(o,(function(t){return t.column})),u=Um(t,i,!1,e,r.replaceOrInit);return vg(u,n[0].row,n[0].column)},Og=function(t,n,e,r){var o=Gm(t,n,e,r.replaceOrInit);return vg(o,n[0].row,n[0].column)},zg=function(t,n){return function(e,r,o,i,u){var a=pg(r),c=I(a,(function(t){return t.row})),s=Wm(e,c,t,n,o,i.replaceOrInit,u);return vg(s,r[0].row,r[0].column)}},Tg=zg("thead",!0),Mg=zg("tbody",!1),Dg=zg("tfoot",!1),_g=function(t,n,e,r){var o=$m(n.details),i=Dm(t,I(o,(function(t){return t.column}))),u=i.length>0?i[0].cells.length-1:0;return vg(i,o[0].row,Math.min(o[0].column,u))},Ag=function(t,n,e,r){var o=pg(n),i=_m(t,o[0].row,o[o.length-1].row),u=i.length>0?i.length-1:0;return vg(i,Math.min(n[0].row,u),n[0].column)},Hg=function(t,n,e,r){var o=n.cells;lg(o);var i=nm(t,n.bounds,e,r.merge(o));return mg(i,D.from(o[0]))},Eg=function(t,n,e,r){var o=function(t,n){return em(t,n,e,r.unmerge(n))},i=j(n,o,t);return mg(i,D.from(n[0]))},Rg=function(t,n,e,r){var o=function(t,n){var e=so.fromTable(t);return Ld(e,n,!0)},i=o(n.clipboard,n.generators),u=$n(n.row,n.column),a=Sm(u,t,i,n.generators,e);return a.fold((function(){return mg(t,D.some(n.element))}),(function(t){return vg(t,n.row,n.column)}))},Bg=function(t,n,e){var r=Pr(t,e.section),o=so.generate(r);return Ld(o,n,!0)},Vg=function(t,n,e,r){var o=qr(t).rows,i=n.cells[0].column,u=o[n.cells[0].row],a=Bg(n.clipboard,n.generators,u),c=Cm(i,t,a,n.generators,e);return vg(c,n.cells[0].row,n.cells[0].column)},Ig=function(t,n,e,r){var o=qr(t).rows,i=n.cells[n.cells.length-1].column+n.cells[n.cells.length-1].colspan,u=o[n.cells[0].row],a=Bg(n.clipboard,n.generators,u),c=Cm(i,t,a,n.generators,e);return vg(c,n.cells[0].row,n.cells[0].column)},Pg=function(t,n,e,r){var o=qr(t).rows,i=n.cells[0].row,u=o[i],a=Bg(n.clipboard,n.generators,u),c=km(i,t,a,n.generators,e);return vg(c,n.cells[0].row,n.cells[0].column)},Lg=function(t,n,e,r){var o=qr(t).rows,i=n.cells[n.cells.length-1].row+n.cells[n.cells.length-1].rowspan,u=o[n.cells[0].row],a=Bg(n.clipboard,n.generators,u),c=km(i,t,a,n.generators,e);return vg(c,n.cells[0].row,n.cells[0].column)},Fg=function(t,n){var e=so.fromTable(t),r=Kd(e,n);return r.bind((function(t){var n=t[t.length-1],r=t[0].column,o=n.column+n.colspan,i=q(I(e.all,(function(t){return N(t.cells,(function(t){return t.column>=r&&t.column<o}))})));return bd(i)})).getOr("")},Ng=function(t,n){var e=so.fromTable(t),r=Kd(e,n);return r.bind(bd).getOr("")},jg=function(t,n){var e=so.fromTable(t),r=Kd(e,n);return r.bind((function(t){var n=t[t.length-1],r=t[0].row,o=n.row+n.rowspan,i=e.all.slice(r,o);return yd(i)})).getOr("")},Ug=function(t,n,e,r){return Wc(t,n,e,r.sizing)},Wg=function(t,n,e,r){return Uc(t,n,e,r.sizing,r.resize)},Gg=function(t,n){return B(n,(function(t){return 0===t.column&&t.isLocked}))},$g=function(t,n){return B(n,(function(n){return n.column+n.colspan>=t.grid.columns&&n.isLocked}))},qg=function(t,n){var e=Ni(t),r=$m(n);return U(r,(function(t,n){var r=e[n.column],o=r.map(Pi).getOr(0);return t+o}),0)},Xg=function(t){return function(n,e){return Kd(n,e).filter((function(e){var r=t?Gg:$g;return!r(n,e)})).map((function(t){return{details:t,pixelDelta:qg(n,t)}}))}},Kg=function(t,n){return Yd(t,n).map((function(n){return{details:n,pixelDelta:-qg(t,n)}}))},Yg=function(t){return function(n,e){return $d(n,e).filter((function(e){var r=t?Gg:$g;return!r(n,e.cells)}))}},Jg=ng.transform("th"),Qg=ng.transform("td"),Zg=Wd(bg,Kd,g,g,ng.modification),th=Wd(yg,Kd,g,g,ng.modification),nh=Wd(wg,Xg(!0),Wg,g,ng.modification),eh=Wd(xg,Xg(!1),Wg,g,ng.modification),rh=Wd(_g,Kg,Wg,dg,ng.modification),oh=Wd(Ag,Kd,g,dg,ng.modification),ih=Wd(Sg,Yd,g,g,Jg),uh=Wd(kg,Yd,g,g,Qg),ah=Wd(Tg,Yd,g,g,Jg),ch=Wd(Mg,Yd,g,g,Qg),sh=Wd(Dg,Yd,g,g,Qg),lh=Wd(Cg,Yd,g,g,Jg),fh=Wd(Og,Yd,g,g,Qg),dh=Wd(Hg,Zd,Ug,g,ng.merging),mh=Wd(Eg,tm,Ug,g,ng.merging),gh=Wd(Rg,Gd,Ug,g,ng.modification),hh=Wd(Vg,Yg(!0),g,g,ng.modification),vh=Wd(Ig,Yg(!1),g,g,ng.modification),ph=Wd(Pg,$d,g,g,ng.modification),bh=Wd(Lg,$d,g,g,ng.modification),yh=Fg,wh=Ng,xh=jg,Sh=function(t,n,e){var r=function(t){return"table"===re(Ga(t))},o=function(n){return!1===r(t)||ks(n).rows>1},i=function(n){return!1===r(t)||ks(n).columns>1},u=Nf(t),a=Ff(t)?g:md,c=function(n){switch(If(t)){case"section":return Md.section();case"sectionCells":return Md.sectionCells();case"cells":return Md.cells();default:return Md.getTableSectionType(n,"section")}},s=function(e,r){return r.cursor.fold((function(){var r=_r(e);return nt(r).filter(Ae).map((function(r){n.clear(e);var o=t.dom.createRng();return o.selectNode(r.dom),t.selection.setRng(o),Ye(r,"data-mce-selected","1"),o}))}),(function(r){var o=dd(r),i=t.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),t.selection.setRng(i),n.clear(e),D.some(i)}))},l=function(n,e,r,o,i){return function(a,l,f){void 0===f&&(f=!1),Ja(a);var d=o(),m=bn.fromDom(t.getDoc()),g=Fa(r,m,u),h={sizing:Gf(t,a),resize:Ff(t)?Yc():Jc(),section:c(a)};return e(a)?n(d,a,l,g,h).bind((function(n){P(n.newRows,(function(n){Jl(t,n.dom)})),P(n.newCells,(function(n){Ql(t,n.dom)}));var e=s(a,n);return Ae(a)&&(Ja(a),f||rf(t,a.dom,i)),e.map((function(t){return{rng:t,effect:i}}))})):D.none()}},f=l(oh,o,g,e,uf),d=l(rh,i,g,e,uf),m=l(Zg,k,g,e,uf),h=l(th,k,g,e,uf),v=l(nh,k,a,e,uf),p=l(eh,k,a,e,uf),b=l(dh,k,g,e,uf),y=l(mh,k,g,e,uf),w=l(hh,k,g,e,uf),x=l(vh,k,g,e,uf),S=l(ph,k,g,e,uf),C=l(bh,k,g,e,uf),O=l(gh,k,g,e,af),z=l(lh,k,g,e,uf),T=l(fh,k,g,e,uf),M=l(ih,k,g,e,uf),_=l(uh,k,g,e,uf),A=l(ah,k,g,e,uf),H=l(ch,k,g,e,uf),E=l(sh,k,g,e,uf),R=wh,B=yh,V=xh;return{deleteRow:f,deleteColumn:d,insertRowsBefore:m,insertRowsAfter:h,insertColumnsBefore:v,insertColumnsAfter:p,mergeCells:b,unmergeCells:y,pasteColsBefore:w,pasteColsAfter:x,pasteRowsBefore:S,pasteRowsAfter:C,pasteCells:O,makeCellsHeader:z,unmakeCellsHeader:T,makeColumnsHeader:M,unmakeColumnsHeader:_,makeRowsHeader:A,makeRowsBody:H,makeRowsFooter:E,getTableRowType:V,getTableCellType:R,getTableColType:B}},Ch={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},kh=function(){return bn.fromTag("th")},Oh=function(){return bn.fromTag("td")},zh=function(){return bn.fromTag("col")},Th=function(t,n,e,r){for(var o=bn.fromTag("tr"),i=0;i<t;i++){var u=r<n||i<e?kh():Oh();i<e&&Ye(u,"scope","row"),r<n&&Ye(u,"scope","col"),Mo(u,bn.fromTag("br")),Mo(o,u)}return o},Mh=function(t){var n=bn.fromTag("colgroup");return V(t,(function(){return Mo(n,zh())})),n},Dh=function(t,n,e,r){return V(t,(function(t){return Th(n,e,r,t)}))},_h=function(t,n,e,r,o,i){void 0===i&&(i=Ch);var u=bn.fromTag("table"),a="cells"!==o;mr(u,i.styles),Je(u,i.attributes),i.colGroups&&Mo(u,Mh(n));var c=Math.min(t,e);if(a&&e>0){var s=bn.fromTag("thead");Mo(u,s);var l="sectionCells"===o?c:0,f=Dh(e,n,l,r);Eo(s,f)}var d=bn.fromTag("tbody");Mo(u,d);var m=a?t-c:t,g=a?0:e,h=Dh(m,n,g,r);return Eo(d,h),u},Ah=function(t){return t.dom.innerHTML},Hh=function(t){var n=bn.fromTag("div"),e=bn.fromDom(t.dom.cloneNode(!0));return Mo(n,e),Ah(n)},Eh=function(t,n){t.selection.select(n.dom,!0),t.selection.collapse(!0)},Rh=function(t,n){qe(n,"td,th").each(w(Eh,t))},Bh=function(t,n){P(Le(n,"tr"),(function(n){Jl(t,n.dom),P(Le(n,"th,td"),(function(n){Ql(t,n.dom)}))}))},Vh=function(t){return o(t)&&-1!==t.indexOf("%")},Ih=function(t,n,e,r,o){var i=wf(t),u={styles:i,attributes:yf(t),colGroups:Vf(t)};return t.undoManager.ignore((function(){var i=_h(e,n,o,r,If(t),u);Ye(i,"data-mce-id","__mce");var a=Hh(i);t.insertContent(a),t.addVisual()})),qe(Ga(t),'table[data-mce-id="__mce"]').map((function(n){return Ef(t)?Jf(n):Rf(t)?Qf(n):(Hf(t)||Vh(i.width))&&Yf(n),Ja(n),nr(n,"data-mce-id"),Bh(t,n),Rh(t,n),n.dom})).getOr(null)},Ph=function(t,n,e,r,o){void 0===r&&(r={});var i=function(t){return m(t)&&t>0};if(i(n)&&i(e)){var u=r.headerRows||0,a=r.headerColumns||0;return Ih(t,e,n,a,u)}return console.error(o),null},Lh=function(t){return function(){return t().fold((function(){return[]}),(function(t){return I(t,(function(t){return t.dom}))}))}},Fh=function(t){return function(n){var e=n.length>0?D.some(Ua(n)):D.none();t(e)}},Nh=function(t){return function(n,e,r){void 0===r&&(r={});var o=Ph(t,e,n,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");return t.undoManager.add(),o}},jh=function(t,n,e,r){return{insertTable:Nh(t),setClipboardRows:Fh(n.setRows),getClipboardRows:Lh(n.getRows),setClipboardCols:Fh(n.setColumns),getClipboardCols:Lh(n.getColumns),resizeHandler:e,selectionTargets:r}},Uh=function(t,n,e){var r=yr(t,n,1);1===e||r<=1?nr(t,n):Ye(t,n,Math.min(e,r))},Wh=function(t,n,e){if(so.hasColumns(t)){var r=N(so.justColumns(t),(function(t){return t.column>=n&&t.column<e})),o=I(r,(function(t){var r=xi(t.element);return Uh(r,"span",e-n),r})),i=bn.fromTag("colgroup");return Eo(i,o),[i]}return[]},Gh=function(t,n,e){return I(t.all,(function(t){var r=N(t.cells,(function(t){return t.column>=n&&t.column<e})),o=I(r,(function(t){var r=xi(t.element);return Uh(r,"colspan",e-n),r})),i=bn.fromTag("tr");return Eo(i,o),i}))},$h=function(t,n){var e=so.fromTable(t),r=Yd(e,n);return r.map((function(t){var n=t[t.length-1],r=t[0].column,o=n.column+n.colspan,i=Wh(e,r,o),u=Gh(e,r,o);return it(it([],i,!0),u,!0)}))},qh=function(t,n,e){var r=so.fromTable(t),o=Kd(r,n);return o.bind((function(t){var n=Ld(r,e,!1),o=qr(n).rows,i=o.slice(t[0].row,t[t.length-1].row+t[t.length-1].rowspan),u=X(i,(function(t){var n=N(t.cells,(function(t){return!t.isLocked}));return n.length>0?[ot(ot({},t),{cells:n})]:[]})),a=Nd(u);return cr(a.length>0,a)})).map((function(t){return Ed(t)}))},Xh=tinymce.util.Tools.resolve("tinymce.util.Tools"),Kh=function(t,n,e){var r,o=t.select("td,th",n),i=function(n,r){for(var o=0;o<r.length;o++){var i=t.getStyle(r[o],e);if("undefined"===typeof n&&(n=i),n!==i)return""}return n};return i(r,o)},Yh=function(t,n,e){e&&t.formatter.apply("align"+e,{},n)},Jh=function(t,n,e){e&&t.formatter.apply("valign"+e,{},n)},Qh=function(t,n){Xh.each("left center right".split(" "),(function(e){t.formatter.remove("align"+e,{},n)}))},Zh=function(t,n){Xh.each("top middle bottom".split(" "),(function(e){t.formatter.remove("valign"+e,{},n)}))},tv=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],nv=function(t){return{value:t}},ev=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rv=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ov=function(t){return ev.test(t)||rv.test(t)},iv=function(t){return wt(t,"#").toUpperCase()},uv=function(t){return ov(t)?D.some({value:iv(t)}):D.none()},av=function(t){var n=t.toString(16);return(1===n.length?"0"+n:n).toUpperCase()},cv=function(t){var n=av(t.red)+av(t.green)+av(t.blue);return nv(n)},sv=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,lv=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,fv=function(t,n,e,r){return{red:t,green:n,blue:e,alpha:r}},dv=function(t,n,e,r){var o=parseInt(t,10),i=parseInt(n,10),u=parseInt(e,10),a=parseFloat(r);return fv(o,i,u,a)},mv=function(t){if("transparent"===t)return D.some(fv(0,0,0,0));var n=sv.exec(t);if(null!==n)return D.some(dv(n[1],n[2],n[3],"1"));var e=lv.exec(t);return null!==e?D.some(dv(e[1],e[2],e[3],e[4])):D.none()},gv=function(t){return uv(t).orThunk((function(){return mv(t).map(cv)})).getOrThunk((function(){var n=document.createElement("canvas");n.height=1,n.width=1;var e=n.getContext("2d");e.clearRect(0,0,n.width,n.height),e.fillStyle="#FFFFFF",e.fillStyle=t,e.fillRect(0,0,1,1);var r=e.getImageData(0,0,1,1).data,o=r[0],i=r[1],u=r[2],a=r[3];return cv(fv(o,i,u,a))}))},hv=function(t){var n=t,e=function(){return n},r=function(t){n=t};return{get:e,set:r}},vv=function(t){var n=hv(D.none()),e=function(){return n.get().each(t)},r=function(){e(),n.set(D.none())},o=function(){return n.get().isSome()},i=function(){return n.get()},u=function(t){e(),n.set(D.some(t))};return{clear:r,isSet:o,get:i,set:u}},pv=function(){return vv((function(t){return t.unbind()}))},bv=function(){var t=vv(g),n=function(n){return t.get().each(n)};return ot(ot({},t),{on:n})},yv=function(t,n,e,r){return function(o){var i=pv(),u=Tt(r),a=function(){var a=Cc(n),c=function(n){return t.formatter.match(e,{value:r},n.dom,u)};u?(o.setActive(!B(a,c)),i.set(t.formatter.formatChanged(e,(function(t){return o.setActive(!t)}),!0))):(o.setActive(K(a,c)),i.set(t.formatter.formatChanged(e,o.setActive,!1,{value:r})))};return t.initialized?a():t.on("init",a),i.clear}},wv=function(t){return Nn(t,"menu")},xv=function(t){return I(t,(function(t){var n=t.text||t.title;return wv(t)?{text:n,items:xv(t.menu)}:{text:n,value:t.value}}))},Sv=function(t,n,e,r,o){return I(e,(function(e){var i=e.text||e.title;return wv(e)?{type:"nestedmenuitem",text:i,getSubmenuItems:function(){return Sv(t,n,e.menu,r,o)}}:{text:i,type:"togglemenuitem",onAction:function(){return o(e.value)},onSetup:yv(t,n,r,e.value)}}))},Cv=function(t,n){return function(e){var r;t.execCommand("mceTableApplyCellStyle",!1,(r={},r[n]=e,r))}},kv=function(t){return X(t,(function(t){return wv(t)?[ot(ot({},t),{menu:kv(t.menu)})]:zt(t.value)?[t]:[]}))},Ov=function(t,n,e,r,o){return function(i){return i(Sv(t,n,e,r,o))}},zv=function(t,n,e){var r=I(n,(function(t){return{text:t.title,value:"#"+gv(t.value).value,type:"choiceitem"}}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:r.length>0?r:void 0,allowCustomColors:!1},onAction:function(n){var r,o="remove"===n.value?"":n.value;t.execCommand("mceTableApplyCellStyle",!1,(r={},r[e]=o,r))}}]},Tv=function(t){return function(){var n=t.queryCommandValue("mceTableRowType"),e="header"===n?"body":"header";t.execCommand("mceTableRowType",!1,{type:e})}},Mv=function(t){return function(){var n=t.queryCommandValue("mceTableColType"),e="th"===n?"td":"th";t.execCommand("mceTableColType",!1,{type:e})}},Dv=function(t){var n=xv(Df(t));return n.length>0?D.some({name:"class",type:"listbox",label:"Class",items:n}):D.none()},_v=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:tv}],Av=function(t){return _v.concat(Dv(t).toArray())},Hv=function(t,n){var e=[{text:"Select...",value:""}],r=[{name:"borderstyle",type:"listbox",label:"Border style",items:e.concat(xv(bf(t)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],o={name:"borderwidth",type:"input",label:"Border width"},i="cell"===n?[o].concat(r):r;return{title:"Advanced",name:"advanced",items:i}},Ev=function(t){return function(n,e){var r=n.dom,o=function(n,o){t&&!o||r.setAttrib(e,n,o)},i=function(n,o){t&&!o||r.setStyle(e,n,o)},u=function(r,o){t&&!o||(""===o?n.formatter.remove(r,{value:null},e,!0):n.formatter.apply(r,{value:o},e))};return{setAttrib:o,setStyle:i,setFormat:u}}},Rv={normal:Ev(!1),ifTruthy:Ev(!0)},Bv=function(t){return function(n){return St(n,"rgb")?t.toHex(n):n}},Vv=function(t,n){var e=bn.fromDom(n);return{borderwidth:vr(e,"border-width").getOr(""),borderstyle:vr(e,"border-style").getOr(""),bordercolor:vr(e,"border-color").map(Bv(t)).getOr(""),backgroundcolor:vr(e,"background-color").map(Bv(t)).getOr("")}},Iv=function(t){var n=t[0],e=t.slice(1);return P(e,(function(t){P(Mn(n),(function(e){_n(t,(function(t,r){var o=n[e];""!==o&&e===r&&o!==t&&(n[e]="")}))}))})),n},Pv=function(t,n,e,r){return G(t,(function(t){return!s(e.formatter.matchNode(r,n+t))})).getOr("")},Lv=w(Pv,["left","center","right"],"align"),Fv=w(Pv,["top","middle","bottom"],"valign"),Nv=function(t,n){var e=wf(t),r=yf(t),o=function(t){return{borderstyle:Ln(e,"border-style").getOr(""),bordercolor:Bv(t)(Ln(e,"border-color").getOr("")),backgroundcolor:Bv(t)(Ln(e,"background-color").getOr(""))}},i={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},u=function(){var n=e["border-width"];return Mf(t)&&n?{border:n}:Ln(r,"border").fold((function(){return{}}),(function(t){return{border:t}}))},a=n?o(t.dom):{},c=function(){var t=Ln(e,"border-spacing").or(Ln(r,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}})),n=Ln(e,"border-padding").or(Ln(r,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}}));return ot(ot({},t),n)},s=ot(ot(ot(ot(ot(ot({},i),e),r),a),u()),c());return s},jv=function(t){return Hr(bn.fromDom(t)).map((function(n){var e={selection:Ua(t.cells)};return xh(n,e)})).getOr("")},Uv=function(t,n,e){var r=function(n,e){var r=vr(bn.fromDom(e),"border-width");return Mf(t)&&r.isSome()?r.getOr(""):n.getAttrib(e,"border")||Kh(t.dom,e,"border-width")||Kh(t.dom,e,"border")},o=t.dom,i=Mf(t)?o.getStyle(n,"border-spacing")||o.getAttrib(n,"cellspacing"):o.getAttrib(n,"cellspacing")||o.getStyle(n,"border-spacing"),u=Mf(t)?Kh(o,n,"padding")||o.getAttrib(n,"cellpadding"):o.getAttrib(n,"cellpadding")||Kh(o,n,"padding");return ot({width:o.getStyle(n,"width")||o.getAttrib(n,"width"),height:o.getStyle(n,"height")||o.getAttrib(n,"height"),cellspacing:i,cellpadding:u,border:r(o,n),caption:!!o.select("caption",n)[0],class:o.getAttrib(n,"class",""),align:Lv(t,n)},e?Vv(o,n):{})},Wv=function(t,n,e){var r=t.dom;return ot({height:r.getStyle(n,"height")||r.getAttrib(n,"height"),class:r.getAttrib(n,"class",""),type:jv(n),align:Lv(t,n)},e?Vv(r,n):{})},Gv=function(t,n,e,r){var o=t.dom,i=r.getOr(n),u=function(t,n){return o.getStyle(t,n)||o.getAttrib(t,n)};return ot({width:u(i,"width"),height:u(n,"height"),scope:o.getAttrib(n,"scope"),celltype:Wa(n),class:o.getAttrib(n,"class",""),halign:Lv(t,n),valign:Fv(t,n)},e?Vv(o,n):{})},$v=function(t,n){var e=so.fromTable(t),r=so.justCells(e),o=N(r,(function(t){return B(n,(function(n){return Cn(t.element,n)}))}));return I(o,(function(t){return{element:t.element.dom,column:so.getColumnAt(e,t.column).map((function(t){return t.element.dom}))}}))},qv=function(t,n,e){t.setAttrib("scope",e.scope),t.setAttrib("class",e.class),t.setStyle("height",Ya(e.height)),n.setStyle("width",Ya(e.width))},Xv=function(t,n){t.setFormat("tablecellbackgroundcolor",n.backgroundcolor),t.setFormat("tablecellbordercolor",n.bordercolor),t.setFormat("tablecellborderstyle",n.borderstyle),t.setFormat("tablecellborderwidth",Ya(n.borderwidth))},Kv=function(t,n,e){var r=1===n.length;P(n,(function(n){var o=n.element,i=r?Rv.normal(t,o):Rv.ifTruthy(t,o),u=n.column.map((function(n){return r?Rv.normal(t,n):Rv.ifTruthy(t,n)})).getOr(i);qv(i,u,e),Cf(t)&&Xv(i,e),r&&(Qh(t,o),Zh(t,o)),e.halign&&Yh(t,o,e.halign),e.valign&&Jh(t,o,e.valign)}))},Yv=function(t,n){t.execCommand("mceTableCellType",!1,{type:n.celltype,no_events:!0})},Jv=function(t,n,e,r){var o=Bn(r,(function(t,n){return e[n]!==t}));Pn(o)>0&&n.length>=1&&Hr(n[0]).each((function(e){var i=$v(e,n),u=Pn(Bn(o,(function(t,n){return"scope"!==n&&"celltype"!==n})))>0,a=Fn(o,"celltype");(u||Fn(o,"scope"))&&Kv(t,i,r),a&&Yv(t,r),rf(t,e.dom,{structure:a,style:u})}))},Qv=function(t,n,e,r){var o=r.getData();r.close(),t.undoManager.transact((function(){Jv(t,n,e,o),t.focus()}))},Zv=function(t,n){var e=Hr(n[0]).map((function(e){return I($v(e,n),(function(n){return Gv(t,n.element,Cf(t),n.column)}))}));return Iv(e.getOrDie())},tp=function(t,n){var e=Cc(n);if(0!==e.length){var r=Zv(t,e),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Av(t)},Hv(t,"cell")]},i={type:"panel",items:[{type:"grid",columns:2,items:Av(t)}]};t.windowManager.open({title:"Cell Properties",size:"normal",body:Cf(t)?o:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:w(Qv,t,e,r)})}},np=function(t){var n=xv(_f(t));return n.length>0?D.some({name:"class",type:"listbox",label:"Class",items:n}):D.none()},ep=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],rp=function(t){return ep.concat(np(t).toArray())},op=function(t,n){t.setAttrib("class",n.class),t.setStyle("height",Ya(n.height))},ip=function(t,n){t.setStyle("background-color",n.backgroundcolor),t.setStyle("border-color",n.bordercolor),t.setStyle("border-style",n.borderstyle)},up=function(t,n,e,r){var o=1===n.length;P(n,(function(n){var i=o?Rv.normal(t,n):Rv.ifTruthy(t,n);op(i,e),kf(t)&&ip(i,e),e.align!==r.align&&(Qh(t,n),Yh(t,n,e.align))}))},ap=function(t,n){t.execCommand("mceTableRowType",!1,{type:n.type,no_events:!0})},cp=function(t,n,e,r){var o=Bn(r,(function(t,n){return e[n]!==t}));if(Pn(o)>0){var i=Fn(o,"type"),u=!i||Pn(o)>1;u&&up(t,n,r,e),i&&ap(t,r),Hr(bn.fromDom(n[0])).each((function(n){return rf(t,n.dom,{structure:i,style:u})}))}},sp=function(t,n,e,r){var o=r.getData();r.close(),t.undoManager.transact((function(){cp(t,n,e,o),t.focus()}))},lp=function(t){var n=kc(nc(t),gc.selected);if(0!==n.length){var e=I(n,(function(n){return Wv(t,n.dom,kf(t))})),r=Iv(e),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:rp(t)},Hv(t,"row")]},i={type:"panel",items:[{type:"grid",columns:2,items:rp(t)}]};t.windowManager.open({title:"Row Properties",size:"normal",body:kf(t)?o:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:w(sp,t,I(n,(function(t){return t.dom})),r)})}},fp=function(t,n,e){var r=e?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],i=zf(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],u=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],a=n.length>0?[{type:"listbox",name:"class",label:"Class",items:n}]:[];return r.concat(o).concat(i).concat(u).concat(a)},dp=function(t,n,e,r){if("TD"===n.tagName||"TH"===n.tagName)o(e)?t.setStyle(n,e,r):t.setStyle(n,e);else if(n.children)for(var i=0;i<n.children.length;i++)dp(t,n.children[i],e,r)},mp=function(t,n,e){var r=t.dom,o={},i={};if(o.class=e.class,i.height=Ya(e.height),r.getAttrib(n,"width")&&!Mf(t)?o.width=Ka(e.width):i.width=Ya(e.width),Mf(t)?(i["border-width"]=Ya(e.border),i["border-spacing"]=Ya(e.cellspacing)):(o.border=e.border,o.cellpadding=e.cellpadding,o.cellspacing=e.cellspacing),Mf(t)&&n.children)for(var u=0;u<n.children.length;u++)dp(r,n.children[u],{"border-width":Ya(e.border),padding:Ya(e.cellpadding)}),Of(t)&&dp(r,n.children[u],{"border-color":e.bordercolor});Of(t)&&(i["background-color"]=e.backgroundcolor,i["border-color"]=e.bordercolor,i["border-style"]=e.borderstyle),o.style=r.serializeStyle(ot(ot({},wf(t)),i)),r.setAttribs(n,ot(ot({},yf(t)),o))},gp=function(t,n,e,r){var o=t.dom,i=r.getData(),u=Bn(i,(function(t,n){return e[n]!==t}));r.close(),""===i.class&&delete i.class,t.undoManager.transact((function(){if(!n){var e=parseInt(i.cols,10)||1,r=parseInt(i.rows,10)||1;n=Ih(t,e,r,0,0)}if(Pn(u)>0){mp(t,n,i);var a=o.select("caption",n)[0];(a&&!i.caption||!a&&i.caption)&&t.execCommand("mceTableToggleCaption"),""===i.align?Qh(t,n):Yh(t,n,i.align)}if(t.focus(),t.addVisual(),Pn(u)>0){var c=Fn(u,"caption"),s=!c||Pn(u)>1;rf(t,n,{structure:c,style:s})}}))},hp=function(t,n){var e,r=t.dom,o=Nv(t,Of(t));!1===n?(e=r.getParent(t.selection.getStart(),"table",t.getBody()),e?o=Uv(t,e,Of(t)):Of(t)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor="")):(o.cols="1",o.rows="1",Of(t)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var i=xv(Af(t));i.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var u={type:"grid",columns:2,items:fp(t,i,n)},a=function(){return{type:"panel",items:[u]}},c=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[u]},Hv(t,"table")]}},s=Of(t)?c():a();t.windowManager.open({title:"Table Properties",size:"normal",body:s,onSubmit:w(gp,t,e,o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},vp=function(t){return xc(nc(t),Xa(t))},pp=function(t){return Sc(nc(t),Xa(t))},bp=function(t,n,e,r,u){var a=Xa(t),c=function(){return vp(t).each((function(n){Hr(n,a).filter(x(a)).each((function(n){var e=bn.fromText("");if(zo(n,e),Bo(n),t.dom.isEmpty(t.getBody()))t.setContent(""),t.selection.setCursorLocation();else{var r=t.dom.createRng();r.setStart(e.dom,0),r.setEnd(e.dom,0),t.selection.setRng(r),t.nodeChanged()}}))}))},s=function(n){return vp(t).each((function(e){var r=Rf(t)||Ef(t)||Hf(t);r||Hr(e,a).each((function(e){"relative"!==n||xs(e)?"fixed"!==n||Ss(e)?"responsive"!==n||Cs(e)||Qf(e):Jf(e):Yf(e),Ja(e),rf(t,e.dom,uf)}))}))},l=function(t){return Hr(t,a)},f=function(n){return pp(t).bind((function(t){return l(t).map((function(e){return n(e,t)}))}))},d=function(n,e){f((function(n){t.formatter.toggle("tableclass",{value:e},n.dom),rf(t,n.dom,of)}))},m=function(n,e){f((function(n){var o=Cc(r),i=K(o,(function(n){return t.formatter.match("tablecellclass",{value:e},n.dom)})),u=i?t.formatter.remove:t.formatter.apply;P(o,(function(t){return u("tablecellclass",{value:e},t.dom)})),rf(t,n.dom,of)}))},h=function(){vp(t).each((function(n){Hr(n,a).each((function(e){$e(e,"caption").fold((function(){var n=bn.fromTag("caption");Mo(n,bn.fromText("Caption")),Do(e,n,0),t.selection.setCursorLocation(n.dom,0)}),(function(r){fe("caption")(n)&&Sn("td",e).each((function(n){return t.selection.setCursorLocation(n.dom,0)})),Bo(r)})),rf(t,e.dom,uf)}))}))},v=function(n){t.focus()},p=function(t,n){return void 0===n&&(n=!1),f((function(e,o){var i=vc(r,e,o);t(e,i,n).each(v)}))},b=function(){return f((function(n,e){var o=vc(r,n,e),i=Fa(g,bn.fromDom(t.getDoc()),D.none());return qh(n,o,i)}))},y=function(){return f((function(t,n){var e=vc(r,t,n);return $h(t,e)}))},S=function(n,e){return e().each((function(e){var o=I(e,(function(t){return xi(t)}));f((function(e,i){var u=Na(bn.fromDom(t.getDoc())),a=bc(r,i,o,u);n(e,a).each(v)}))}))},C=function(t){return function(n,e){return Ln(e,"type").each((function(n){p(t(n),e.no_events)}))}};_n({mceTableSplitCells:function(){return p(n.unmergeCells)},mceTableMergeCells:function(){return p(n.mergeCells)},mceTableInsertRowBefore:function(){return p(n.insertRowsBefore)},mceTableInsertRowAfter:function(){return p(n.insertRowsAfter)},mceTableInsertColBefore:function(){return p(n.insertColumnsBefore)},mceTableInsertColAfter:function(){return p(n.insertColumnsAfter)},mceTableDeleteCol:function(){return p(n.deleteColumn)},mceTableDeleteRow:function(){return p(n.deleteRow)},mceTableCutCol:function(){return y().each((function(t){u.setColumns(t),p(n.deleteColumn)}))},mceTableCutRow:function(){return b().each((function(t){u.setRows(t),p(n.deleteRow)}))},mceTableCopyCol:function(){return y().each((function(t){return u.setColumns(t)}))},mceTableCopyRow:function(){return b().each((function(t){return u.setRows(t)}))},mceTablePasteColBefore:function(){return S(n.pasteColsBefore,u.getColumns)},mceTablePasteColAfter:function(){return S(n.pasteColsAfter,u.getColumns)},mceTablePasteRowBefore:function(){return S(n.pasteRowsBefore,u.getRows)},mceTablePasteRowAfter:function(){return S(n.pasteRowsAfter,u.getRows)},mceTableDelete:c,mceTableCellToggleClass:m,mceTableToggleClass:d,mceTableToggleCaption:h,mceTableSizingMode:function(t,n){return s(n)},mceTableCellType:C((function(t){return"th"===t?n.makeCellsHeader:n.unmakeCellsHeader})),mceTableColType:C((function(t){return"th"===t?n.makeColumnsHeader:n.unmakeColumnsHeader})),mceTableRowType:C((function(t){switch(t){case"header":return n.makeRowsHeader;case"footer":return n.makeRowsFooter;default:return n.makeRowsBody}}))},(function(n,e){return t.addCommand(e,n)})),_n({mceTableProps:w(hp,t,!1),mceTableRowProps:w(lp,t),mceTableCellProps:w(tp,t,r)},(function(n,e){return t.addCommand(e,(function(){return n()}))})),t.addCommand("mceInsertTable",(function(n,e){i(e)&&Mn(e).length>0?Ph(t,e.rows,e.columns,e.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):hp(t,!0)})),t.addCommand("mceTableApplyCellStyle",(function(n,e){var u=function(t){return"tablecell"+t.toLowerCase().replace("-","")};if(i(e)){var a=Cc(r);if(0!==a.length){var c=Bn(e,(function(n,e){return t.formatter.has(u(e))&&o(n)}));jn(c)||(_n(c,(function(n,e){P(a,(function(r){Rv.normal(t,r.dom).setFormat(u(e),n)}))})),l(a[0]).each((function(n){return rf(t,n.dom,of)})))}}}))},yp=function(t,n,e){var r=Xa(t),o=function(n){return Sc(nc(t)).bind((function(t){return Hr(t,r).map((function(r){var o=vc(e,r,t);return n(r,o)}))})).getOr("")};_n({mceTableRowType:function(){return o(n.getTableRowType)},mceTableCellType:function(){return o(n.getTableCellType)},mceTableColType:function(){return o(n.getTableColType)}},(function(n,e){return t.addQueryValueHandler(e,n)}))},wp=function(){var t=bv(),n=bv();return{getRows:t.get,setRows:function(e){e.fold(t.clear,t.set),n.clear()},clearRows:t.clear,getColumns:n.get,setColumns:function(e){e.fold(n.clear,n.set),t.clear()},clearColumns:n.clear}},xp={remove_similar:!0,inherit:!1},Sp=ot({selector:"td,th"},xp),Cp={tablecellbackgroundcolor:ot({styles:{backgroundColor:"%value"}},Sp),tablecellverticalalign:ot({styles:{"vertical-align":"%value"}},Sp),tablecellbordercolor:ot({styles:{borderColor:"%value"}},Sp),tablecellclass:ot({classes:["%value"]},Sp),tableclass:ot({selector:"table",classes:["%value"]},xp),tablecellborderstyle:ot({styles:{borderStyle:"%value"}},Sp),tablecellborderwidth:ot({styles:{borderWidth:"%value"}},Sp)},kp=function(t){t.formatter.register(Cp)},Op=fi.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),zp=function(t){return void 0===t&&(t=void 0),Op.none(t)},Tp=ot(ot({},Op),{none:zp}),Mp=function(t,n,e,r,o){void 0===o&&(o=k);var i=1===r;if(!i&&e<=0)return Tp.first(t[0]);if(i&&e>=t.length-1)return Tp.last(t[t.length-1]);var u=e+r,a=t[u];return o(a)?Tp.middle(n,a):Mp(t,n,u,r,o)},Dp=function(t,n){return Hr(t,n).bind((function(n){var e=_r(n),r=$(e,(function(n){return Cn(t,n)}));return r.map((function(t){return{index:t,all:e}}))}))},_p=function(t,n,e){var r=Dp(t,e);return r.fold((function(){return Tp.none(t)}),(function(e){return Mp(e.all,t,e.index,1,n)}))},Ap=function(t,n,e){var r=Dp(t,e);return r.fold((function(){return Tp.none()}),(function(e){return Mp(e.all,t,e.index,-1,n)}))},Hp=function(t,n,e,r){return{start:t,soffset:n,finish:e,foffset:r}},Ep={create:Hp},Rp=fi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Bp=function(t,n,e,r){return t.fold(n,e,r)},Vp=function(t){return t.fold(b,b,b)},Ip=Rp.before,Pp=Rp.on,Lp=Rp.after,Fp={before:Ip,on:Pp,after:Lp,cata:Bp,getStart:Vp},Np=fi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),jp=function(t){return Np.exact(t.start,t.soffset,t.finish,t.foffset)},Up=function(t){return t.match({domRange:function(t){return bn.fromDom(t.startContainer)},relative:function(t,n){return Fp.getStart(t)},exact:function(t,n,e,r){return t}})},Wp=Np.domRange,Gp=Np.relative,$p=Np.exact,qp=function(t){var n=Up(t);return ge(n)},Xp=Ep.create,Kp={domRange:Wp,relative:Gp,exact:$p,exactFromRange:jp,getWin:qp,range:Xp},Yp=function(t,n){var e=t.document.createRange();return e.selectNode(n.dom),e},Jp=function(t,n){var e=t.document.createRange();return Qp(e,n),e},Qp=function(t,n){return t.selectNodeContents(n.dom)},Zp=function(t,n){n.fold((function(n){t.setStartBefore(n.dom)}),(function(n,e){t.setStart(n.dom,e)}),(function(n){t.setStartAfter(n.dom)}))},tb=function(t,n){n.fold((function(n){t.setEndBefore(n.dom)}),(function(n,e){t.setEnd(n.dom,e)}),(function(n){t.setEndAfter(n.dom)}))},nb=function(t,n,e){var r=t.document.createRange();return Zp(r,n),tb(r,e),r},eb=function(t,n,e,r,o){var i=t.document.createRange();return i.setStart(n.dom,e),i.setEnd(r.dom,o),i},rb=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},ob=function(t){var n=t.getClientRects(),e=n.length>0?n[0]:t.getBoundingClientRect();return e.width>0||e.height>0?D.some(e).map(rb):D.none()},ib=fi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ub=function(t,n,e){return n(bn.fromDom(e.startContainer),e.startOffset,bn.fromDom(e.endContainer),e.endOffset)},ab=function(t,n){return n.match({domRange:function(t){return{ltr:p(t),rtl:D.none}},relative:function(n,e){return{ltr:ut((function(){return nb(t,n,e)})),rtl:ut((function(){return D.some(nb(t,e,n))}))}},exact:function(n,e,r,o){return{ltr:ut((function(){return eb(t,n,e,r,o)})),rtl:ut((function(){return D.some(eb(t,r,o,n,e))}))}}})},cb=function(t,n){var e=n.ltr();if(e.collapsed){var r=n.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return ib.rtl(bn.fromDom(t.endContainer),t.endOffset,bn.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return ub(t,ib.ltr,e)}))}return ub(t,ib.ltr,e)},sb=function(t,n){var e=ab(t,n);return cb(t,e)},lb=function(t,n){var e=sb(t,n);return e.match({ltr:function(n,e,r,o){var i=t.document.createRange();return i.setStart(n.dom,e),i.setEnd(r.dom,o),i},rtl:function(n,e,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(n.dom,e),i}})};ib.ltr,ib.rtl;var fb=function(t,n,e,r,o){if(0===o)return 0;if(n===r)return o-1;for(var i=r,u=1;u<o;u++){var a=t(u),c=Math.abs(n-a.left);if(e<=a.bottom){if(e<a.top||c>i)return u-1;i=c}}return 0},db=function(t,n,e){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom},mb=function(t,n,e,r,o){var i=function(e){var r=t.dom.createRange();return r.setStart(n.dom,e),r.collapse(!0),r},u=function(t){var n=i(t);return n.getBoundingClientRect()},a=Lo(n).length,c=fb(u,e,r,o.right,a);return i(c)},gb=function(t,n,e,r){var o=t.dom.createRange();o.selectNode(n.dom);var i=o.getClientRects(),u=rt(i,(function(t){return db(t,e,r)?D.some(t):D.none()}));return u.map((function(o){return mb(t,n,e,r,o)}))},hb=function(t,n,e,r){var o=t.dom.createRange(),i=we(n);return rt(i,(function(n){return o.selectNode(n.dom),db(o.getBoundingClientRect(),e,r)?vb(t,n,e,r):D.none()}))},vb=function(t,n,e,r){return ce(n)?gb(t,n,e,r):hb(t,n,e,r)},pb=function(t,n,e,r){var o=t.dom.createRange();o.selectNode(n.dom);var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,e)),a=Math.max(i.top,Math.min(i.bottom,r));return vb(t,n,u,a)},bb=!0,yb=!1,wb=function(t,n){return n-t.left<t.right-n?bb:yb},xb=function(t,n,e){var r=t.dom.createRange();return r.selectNode(n.dom),r.collapse(e),r},Sb=function(t,n,e){var r=t.dom.createRange();r.selectNode(n.dom);var o=r.getBoundingClientRect(),i=wb(o,e),u=i===bb?Ma:Da;return u(n).map((function(n){return xb(t,n,i)}))},Cb=function(t,n,e){var r=n.dom.getBoundingClientRect(),o=wb(r,e);return D.some(xb(t,n,o))},kb=function(t,n,e){var r=0===we(n).length?Cb:Sb;return r(t,n,e)},Ob=function(t,n,e){var r,o;return D.from(null===(o=(r=t.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,n,e)).bind((function(n){if(null===n.offsetNode)return D.none();var e=t.dom.createRange();return e.setStart(n.offsetNode,n.offset),e.collapse(),D.some(e)}))},zb=function(t,n,e){var r,o;return D.from(null===(o=(r=t.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,n,e))},Tb=function(t,n,e,r){var o=t.dom.createRange();o.selectNode(n.dom);var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,e)),a=Math.max(i.top,Math.min(i.bottom,r));return pb(t,n,u,a)},Mb=function(t,n,e){return bn.fromPoint(t,n,e).bind((function(r){var o=function(){return kb(t,r,n)};return 0===we(r).length?o():Tb(t,r,n,e).orThunk(o)}))},Db=function(){return document.caretPositionFromPoint?Ob:document.caretRangeFromPoint?zb:Mb}(),_b=function(t,n,e){var r=bn.fromDom(t.document);return Db(r,n,e).map((function(t){return Ep.create(bn.fromDom(t.startContainer),t.startOffset,bn.fromDom(t.endContainer),t.endOffset)}))},Ab=function(t,n){var e=re(t);return"input"===e?Fp.after(t):R(["br","img"],e)?0===n?Fp.before(t):Fp.after(t):Fp.on(t,n)},Hb=function(t,n){var e=t.fold(Fp.before,Ab,Fp.after),r=n.fold(Fp.before,Ab,Fp.after);return Kp.relative(e,r)},Eb=function(t,n,e,r){var o=Ab(t,n),i=Ab(e,r);return Kp.relative(o,i)},Rb=function(t){return t.match({domRange:function(t){var n=bn.fromDom(t.startContainer),e=bn.fromDom(t.endContainer);return Eb(n,t.startOffset,e,t.endOffset)},relative:Hb,exact:Eb})},Bb=function(t,n,e,r){var o=de(t),i=o.dom.createRange();return i.setStart(t.dom,n),i.setEnd(e.dom,r),i},Vb=function(t,n,e,r){var o=Bb(t,n,e,r),i=Cn(t,e)&&n===r;return o.collapsed&&!i},Ib=function(t){return D.from(t.getSelection())},Pb=function(t,n){Ib(t).each((function(t){t.removeAllRanges(),t.addRange(n)}))},Lb=function(t,n,e,r,o){var i=eb(t,n,e,r,o);Pb(t,i)},Fb=function(t,n,e,r,o,i){n.collapse(e.dom,r),n.extend(o.dom,i)},Nb=function(t,n){return sb(t,n).match({ltr:function(n,e,r,o){Lb(t,n,e,r,o)},rtl:function(n,e,r,o){Ib(t).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(n.dom,e,r.dom,o);else if(i.extend)try{Fb(t,i,n,e,r,o)}catch(u){Lb(t,r,o,n,e)}else Lb(t,r,o,n,e)}))}})},jb=function(t,n,e,r,o){var i=Eb(n,e,r,o);Nb(t,i)},Ub=function(t,n,e){var r=Hb(n,e);Nb(t,r)},Wb=function(t){var n=Kp.getWin(t).dom,e=function(t,e,r,o){return eb(n,t,e,r,o)},r=Rb(t);return sb(n,r).match({ltr:e,rtl:e})},Gb=function(t){if(t.rangeCount>0){var n=t.getRangeAt(0),e=t.getRangeAt(t.rangeCount-1);return D.some(Ep.create(bn.fromDom(n.startContainer),n.startOffset,bn.fromDom(e.endContainer),e.endOffset))}return D.none()},$b=function(t){if(null===t.anchorNode||null===t.focusNode)return Gb(t);var n=bn.fromDom(t.anchorNode),e=bn.fromDom(t.focusNode);return Vb(n,t.anchorOffset,e,t.focusOffset)?D.some(Ep.create(n,t.anchorOffset,e,t.focusOffset)):Gb(t)},qb=function(t,n,e){void 0===e&&(e=!0);var r=e?Jp:Yp,o=r(t,n);Pb(t,o)},Xb=function(t){return Ib(t).filter((function(t){return t.rangeCount>0})).bind($b)},Kb=function(t){return Xb(t).map((function(t){return Kp.exact(t.start,t.soffset,t.finish,t.foffset)}))},Yb=function(t,n){var e=lb(t,n);return ob(e)},Jb=function(t,n,e){return _b(t,n,e)},Qb=function(t){Ib(t).each((function(t){return t.removeAllRanges()}))},Zb=tinymce.util.Tools.resolve("tinymce.util.VK"),ty=function(t,n,e){return ry(t,n,_p(e,Sl))},ny=function(t,n,e){return ry(t,n,Ap(e,Sl))},ey=function(t,n){var e=Kp.exact(n,0,n,0);return Wb(e)},ry=function(t,n,e){return e.fold(D.none,D.none,(function(n,e){return Ma(e).map((function(n){return ey(t,n)}))}),(function(e){return t.execCommand("mceTableInsertRowAfter"),ty(t,n,e)}))},oy=["table","li","dl"],iy=function(t,n,e){if(t.keyCode===Zb.TAB){var r=Ga(n),o=function(t){var n=re(t);return Cn(t,r)||R(oy,n)},i=n.selection.getRng(),u=bn.fromDom(t.shiftKey?i.startContainer:i.endContainer);Dr(u,o).each((function(r){t.preventDefault(),Hr(r,o).each(e.clear),n.selection.collapse(t.shiftKey);var i=t.shiftKey?ny:ty,u=i(n,o,r);u.each((function(t){n.selection.setRng(t)}))}))}},uy=function(t,n){return{selection:t,kill:n}},ay={create:uy},cy=function(t,n,e,r){return{start:Fp.on(t,n),finish:Fp.on(e,r)}},sy={create:cy},ly=function(t,n){var e=lb(t,n);return Ep.create(bn.fromDom(e.startContainer),e.startOffset,bn.fromDom(e.endContainer),e.endOffset)},fy=sy.create,dy=function(t,n,e,r,o,i,u){return Cn(e,o)&&r===i?D.none():Xe(e,"td,th",n).bind((function(e){return Xe(o,"td,th",n).bind((function(r){return my(t,n,e,r,u)}))}))},my=function(t,n,e,r,o){return Cn(e,r)?D.none():ei(e,r,n).bind((function(n){var r=n.boxes.getOr([]);return r.length>1?(o(t,r,n.start,n.finish),D.some(ay.create(D.some(fy(e,0,e,ka(e))),!0))):D.none()}))},gy=function(t,n,e,r,o){var i=function(t){return o.clearBeforeUpdate(e),o.selectRange(e,t.boxes,t.start,t.finish),t.boxes};return ai(r,t,n,o.firstSelectedSelector,o.lastSelectedSelector).map(i)},hy=function(t,n){return{item:t,mode:n}},vy=function(t,n,e,r){return void 0===r&&(r=py),t.property().parent(n).map((function(t){return hy(t,r)}))},py=function(t,n,e,r){return void 0===r&&(r=by),e.sibling(t,n).map((function(t){return hy(t,r)}))},by=function(t,n,e,r){void 0===r&&(r=by);var o=t.property().children(n),i=e.first(o);return i.map((function(t){return hy(t,r)}))},yy=[{current:vy,next:py,fallback:D.none()},{current:py,next:by,fallback:D.some(vy)},{current:by,next:by,fallback:D.some(py)}],wy=function(t,n,e,r,o){void 0===o&&(o=yy);var i=G(o,(function(t){return t.current===e}));return i.bind((function(e){return e.current(t,n,r,e.next).orThunk((function(){return e.fallback.bind((function(e){return wy(t,n,e,r)}))}))}))},xy=function(){var t=function(t,n){return t.query().prevSibling(n)},n=function(t){return t.length>0?D.some(t[t.length-1]):D.none()};return{sibling:t,first:n}},Sy=function(){var t=function(t,n){return t.query().nextSibling(n)},n=function(t){return t.length>0?D.some(t[0]):D.none()};return{sibling:t,first:n}},Cy={left:xy,right:Sy},ky=function(t,n,e,r,o,i){var u=wy(t,n,r,o);return u.bind((function(n){return i(n.item)?D.none():e(n.item)?D.some(n.item):ky(t,n.item,e,n.mode,o,i)}))},Oy=function(t,n,e,r){return ky(t,n,e,py,Cy.left(),r)},zy=function(t,n,e,r){return ky(t,n,e,py,Cy.right(),r)},Ty=function(t){return function(n){return 0===t.property().children(n).length}},My=function(t,n,e){return _y(t,n,Ty(t),e)},Dy=function(t,n,e){return Ay(t,n,Ty(t),e)},_y=Oy,Ay=zy,Hy=Uo(),Ey=function(t,n){return My(Hy,t,n)},Ry=function(t,n){return Dy(Hy,t,n)},By=function(t,n,e){return _y(Hy,t,n,e)},Vy=function(t,n,e){return Ay(Hy,t,n,e)},Iy=function(t,n,e){return Ne(t,n,e).isSome()},Py=fi.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Ly=function(t,n,e){var r=t.getRect(n),o=t.getRect(e);return o.right>r.left&&o.left<r.right},Fy=function(t){return Xe(t,"tr")},Ny=function(t,n,e,r,o,i,u){return Xe(r,"td,th",u).bind((function(e){return Xe(n,"td,th",u).map((function(n){return Cn(e,n)?Cn(r,e)&&ka(e)===o?i(n):Py.none("in same cell"):Zo(Fy,[e,n]).fold((function(){return Ly(t,n,e)?Py.success():i(n)}),(function(t){return i(n)}))}))})).getOr(Py.none("default"))},jy=function(t,n,e,r,o){return t.fold(n,e,r,o)},Uy=ot(ot({},Py),{verify:Ny,cata:jy}),Wy=function(t,n,e,r){return{parent:t,children:n,element:e,index:r}},Gy=function(t){return he(t).bind((function(n){var e=we(n);return $y(e,t).map((function(r){return Wy(n,e,t,r)}))}))},$y=function(t,n){return $(t,w(Cn,n))},qy=function(t){return"br"===re(t)},Xy=function(t,n,e){return n(t,e).bind((function(t){return ce(t)&&0===Lo(t).trim().length?Xy(t,n,e):D.some(t)}))},Ky=function(t,n,e){return e.traverse(n).orThunk((function(){return Xy(n,e.gather,t)})).map(e.relative)},Yy=function(t,n){return xe(t,n).filter(qy).orThunk((function(){return xe(t,n-1).filter(qy)}))},Jy=function(t,n,e,r){return Yy(n,e).bind((function(n){return r.traverse(n).fold((function(){return Xy(n,r.gather,t).map(r.relative)}),(function(t){return Gy(t).map((function(t){return Fp.on(t.parent,t.index)}))}))}))},Qy=function(t,n,e,r){var o=qy(n)?Ky(t,n,r):Jy(t,n,e,r);return o.map((function(t){return{start:t,finish:t}}))},Zy=function(t){return Uy.cata(t,(function(t){return D.none()}),(function(){return D.none()}),(function(t){return D.some(ud(t,0))}),(function(t){return D.some(ud(t,ka(t)))}))},tw=function(t,n){return{left:t.left,top:t.top+n,right:t.right,bottom:t.bottom+n}},nw=function(t,n){return{left:t.left,top:t.top-n,right:t.right,bottom:t.bottom-n}},ew=function(t,n,e){return{left:t.left+n,top:t.top+e,right:t.right+n,bottom:t.bottom+e}},rw=function(t){return t.top},ow=function(t){return t.bottom},iw=function(t,n,e){return e>=0&&e<ka(n)?t.getRangedRect(n,e,n,e+1):e>0?t.getRangedRect(n,e-1,n,e):D.none()},uw=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}},aw=function(t,n){return D.some(t.getRect(n))},cw=function(t,n,e){return ae(n)?aw(t,n).map(uw):ce(n)?iw(t,n,e).map(uw):D.none()},sw=function(t,n){return ae(n)?aw(t,n).map(uw):ce(n)?t.getRangedRect(n,0,n,ka(n)).map(uw):D.none()},lw=5,fw=100,dw=fi.generate([{none:[]},{retry:["caret"]}]),mw=function(t,n){return t.left<n.left||Math.abs(n.right-t.left)<1||t.left>n.right},gw=function(t,n,e){return je(n,ag).fold(C,(function(n){return sw(t,n).exists((function(t){return mw(e,t)}))}))},hw=function(t,n,e,r,o){var i=tw(o,lw);return Math.abs(e.bottom-r.bottom)<1||e.top>o.bottom?dw.retry(i):e.top===o.bottom?dw.retry(tw(o,1)):gw(t,n,o)?dw.retry(ew(i,lw,0)):dw.none()},vw=function(t,n,e,r,o){var i=nw(o,lw);return Math.abs(e.top-r.top)<1||e.bottom<o.top?dw.retry(i):e.bottom===o.top?dw.retry(nw(o,1)):gw(t,n,o)?dw.retry(ew(i,lw,0)):dw.none()},pw={point:rw,adjuster:vw,move:nw,gather:Ey},bw={point:ow,adjuster:hw,move:tw,gather:Ry},yw=function(t,n,e){return t.elementFromPoint(n,e).filter((function(t){return"table"===re(t)})).isSome()},ww=function(t,n,e,r,o){return xw(t,n,e,n.move(r,lw),o)},xw=function(t,n,e,r,o){return 0===o?D.some(r):yw(t,r.left,n.point(r))?ww(t,n,e,r,o-1):t.situsFromPoint(r.left,n.point(r)).bind((function(i){return i.start.fold(D.none,(function(i){return sw(t,i).bind((function(u){return n.adjuster(t,i,u,e,r).fold(D.none,(function(r){return xw(t,n,e,r,o-1)}))})).orThunk((function(){return D.some(r)}))}),D.none)}))},Sw=function(t,n){return t.situsFromPoint(n.left,n.bottom+lw)},Cw=function(t,n){return t.situsFromPoint(n.left,n.top-lw)},kw=function(t,n,e){return t.point(n)>e.getInnerHeight()?D.some(t.point(n)-e.getInnerHeight()):t.point(n)<0?D.some(-t.point(n)):D.none()},Ow=function(t,n,e){var r=t.move(e,lw),o=xw(n,t,e,r,fw).getOr(r);return kw(t,o,n).fold((function(){return n.situsFromPoint(o.left,t.point(o))}),(function(e){return n.scrollBy(0,e),n.situsFromPoint(o.left,t.point(o)-e)}))},zw={tryUp:w(Ow,pw),tryDown:w(Ow,bw),ieTryUp:Cw,ieTryDown:Sw,getJumpSize:p(lw)},Tw=20,Mw=function(t,n,e){return t.getSelection().bind((function(r){return Qy(n,r.finish,r.foffset,e).fold((function(){return D.some(ud(r.finish,r.foffset))}),(function(o){var i=t.fromSitus(o),u=Uy.verify(t,r.finish,r.foffset,i.finish,i.foffset,e.failure,n);return Zy(u)}))}))},Dw=function(t,n,e,r,o,i){return 0===i?D.none():Hw(t,n,e,r,o).bind((function(u){var a=t.fromSitus(u),c=Uy.verify(t,e,r,a.finish,a.foffset,o.failure,n);return Uy.cata(c,(function(){return D.none()}),(function(){return D.some(u)}),(function(u){return Cn(e,u)&&0===r?_w(t,e,r,nw,o):Dw(t,n,u,0,o,i-1)}),(function(u){return Cn(e,u)&&r===ka(u)?_w(t,e,r,tw,o):Dw(t,n,u,ka(u),o,i-1)}))}))},_w=function(t,n,e,r,o){return cw(t,n,e).bind((function(n){return Aw(t,o,r(n,zw.getJumpSize()))}))},Aw=function(t,n,e){var r=on().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?n.otherRetry(t,e):r.isIE()?n.ieRetry(t,e):D.none()},Hw=function(t,n,e,r,o){return cw(t,e,r).bind((function(n){return Aw(t,o,n)}))},Ew=function(t,n,e){return Mw(t,n,e).bind((function(r){return Dw(t,n,r.element,r.offset,e,Tw).map(t.fromSitus)}))},Rw=function(t,n){return Iy(t,(function(t){return he(t).exists((function(t){return Cn(t,n)}))}))},Bw=function(t,n,e,r,o){return Xe(r,"td,th",n).bind((function(r){return Xe(r,"table",n).bind((function(i){return Rw(o,i)?Ew(t,n,e).bind((function(t){return Xe(t.finish,"td,th",n).map((function(n){return{start:r,finish:n,range:t}}))})):D.none()}))}))},Vw=function(t,n,e,r,o,i){return on().browser.isIE()?D.none():i(r,n).orThunk((function(){return Bw(t,n,e,r,o).map((function(t){var n=t.range;return ay.create(D.some(fy(n.start,n.soffset,n.finish,n.foffset)),!0)}))}))},Iw=function(t,n){return Xe(t,"tr",n).bind((function(t){return Xe(t,"table",n).bind((function(e){var r=Le(e,"tr");return Cn(t,r[0])?By(e,(function(t){return Da(t).isSome()}),n).map((function(t){var n=ka(t);return ay.create(D.some(fy(t,n,t,n)),!0)})):D.none()}))}))},Pw=function(t,n){return Xe(t,"tr",n).bind((function(t){return Xe(t,"table",n).bind((function(e){var r=Le(e,"tr");return Cn(t,r[r.length-1])?Vy(e,(function(t){return Ma(t).isSome()}),n).map((function(t){return ay.create(D.some(fy(t,0,t,0)),!0)})):D.none()}))}))},Lw=function(t,n,e,r,o,i,u){return Bw(t,e,r,o,i).bind((function(t){return my(n,e,t.start,t.finish,u)}))},Fw=function(t,n){return Xe(t,"td,th",n)},Nw=function(t,n,e,r){var o=bv(),i=o.clear,u=function(i){o.on((function(o){r.clearBeforeUpdate(n),Fw(i.target,e).each((function(u){ei(o,u,e).each((function(e){var o=e.boxes.getOr([]);if(1===o.length){var a=o[0],c="false"===Cl(a),s=rr(xl(i.target),a,Cn);c&&s&&(r.selectRange(n,o,a,a),t.selectContents(a))}else o.length>1&&(r.selectRange(n,o,e.start,e.finish),t.selectContents(u))}))}))}))},a=function(t){r.clear(n),Fw(t.target,e).each(o.set)},c=function(t){u(t)},s=function(t){u(t),i()};return{clearstate:i,mousedown:a,mouseover:c,mouseup:s}},jw={traverse:ye,gather:Ry,relative:Fp.before,otherRetry:zw.tryDown,ieRetry:zw.ieTryDown,failure:Uy.failedDown},Uw={traverse:be,gather:Ey,relative:Fp.before,otherRetry:zw.tryUp,ieRetry:zw.ieTryUp,failure:Uy.failedUp},Ww=function(t){return function(n){return n===t}},Gw=Ww(38),$w=Ww(40),qw=function(t){return t>=37&&t<=40},Xw={isBackward:Ww(37),isForward:Ww(39)},Kw={isBackward:Ww(39),isForward:Ww(37)},Yw=function(t){var n=void 0!==t?t.dom:document,e=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Qi(e,r)},Jw=function(t,n,e){var r=void 0!==e?e.dom:document,o=r.defaultView;o&&o.scrollBy(t,n)},Qw=function(t){var n=function(n,e){return bn.fromPoint(bn.fromDom(t.document),n,e)},e=function(t){return t.dom.getBoundingClientRect()},r=function(n,e,r,o){var i=Kp.exact(n,e,r,o);return Yb(t,i)},o=function(){return Kb(t).map((function(n){return ly(t,n)}))},i=function(n){var e=Kp.relative(n.start,n.finish);return ly(t,e)},u=function(n,e){return Jb(t,n,e).map((function(t){return sy.create(t.start,t.soffset,t.finish,t.foffset)}))},a=function(){Qb(t)},c=function(n){void 0===n&&(n=!1),Kb(t).each((function(e){return e.fold((function(t){return t.collapse(n)}),(function(e,r){var o=n?e:r;Ub(t,o,o)}),(function(e,r,o,i){var u=n?e:o,a=n?r:i;jb(t,u,a,u,a)}))}))},s=function(n){qb(t,n,!1)},l=function(n){qb(t,n)},f=function(n){jb(t,n.start,n.soffset,n.finish,n.foffset)},d=function(n,e){Ub(t,n,e)},m=function(){return t.innerHeight},g=function(){var n=Yw(bn.fromDom(t.document));return n.top},h=function(n,e){Jw(n,e,bn.fromDom(t.document))};return{elementFromPoint:n,getRect:e,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:u,clearSelection:a,collapseSelection:c,setSelection:f,setRelativeSelection:d,selectNode:s,selectContents:l,getInnerHeight:m,getScrollY:g,scrollBy:h}},Zw=function(t,n){return{rows:t,cols:n}},tx=function(t,n,e,r){var o=Qw(t),i=Nw(o,n,e,r);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},nx=function(t,n,e,r){var o=Qw(t),i=function(){return r.clear(n),D.none()},u=function(t,u,a,c,s,l){var f=t.raw,d=f.which,m=!0===f.shiftKey,g=ri(n,r.selectedSelector).fold((function(){return qw(d)&&!m&&r.clearBeforeUpdate(n),$w(d)&&m?w(Lw,o,n,e,jw,c,u,r.selectRange):Gw(d)&&m?w(Lw,o,n,e,Uw,c,u,r.selectRange):$w(d)?w(Vw,o,e,jw,c,u,Pw):Gw(d)?w(Vw,o,e,Uw,c,u,Iw):D.none}),(function(t){var e=function(e){return function(){var i=rt(e,(function(e){return gy(e.rows,e.cols,n,t,r)}));return i.fold((function(){return ii(n,r.firstSelectedSelector,r.lastSelectedSelector).map((function(t){var e=$w(d)||l.isForward(d)?Fp.after:Fp.before;return o.setRelativeSelection(Fp.on(t.first,0),e(t.table)),r.clear(n),ay.create(D.none(),!0)}))}),(function(t){return D.some(ay.create(D.none(),!0))}))}};return $w(d)&&m?e([Zw(1,0)]):Gw(d)&&m?e([Zw(-1,0)]):l.isBackward(d)&&m?e([Zw(0,-1),Zw(-1,0)]):l.isForward(d)&&m?e([Zw(0,1),Zw(1,0)]):qw(d)&&!m?i:D.none}));return g()},a=function(t,o,i,u,a){return ri(n,r.selectedSelector).fold((function(){var c=t.raw,s=c.which,l=!0===c.shiftKey;return l&&qw(s)?dy(n,e,o,i,u,a,r.selectRange):D.none()}),D.none)};return{keydown:u,keyup:a}},ex=function(t,n,e,r){var o=Qw(t);return function(t,i){r.clearBeforeUpdate(n),ei(t,i,e).each((function(t){var e=t.boxes.getOr([]);r.selectRange(n,e,t.start,t.finish),o.selectContents(i),o.collapseSelection()}))}},rx=function(t,n){P(n,(function(n){sl(t,n)}))},ox=function(t){return function(n){al(n,t)}},ix=function(t){return function(n){rx(n,t)}},ux=function(t){var n=ox(t.selected),e=ix([t.selected,t.lastSelected,t.firstSelected]),r=function(n){var r=Le(n,t.selectedSelector);P(r,e)},o=function(e,o,i,u){r(e),P(o,n),al(i,t.firstSelected),al(u,t.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},ax=function(t,n,e){var r=function(n){nr(n,t.selected),nr(n,t.firstSelected),nr(n,t.lastSelected)},o=function(n){Ye(n,t.selected,"1")},i=function(t){u(t),e()},u=function(n){var e=Le(n,t.selectedSelector+","+t.firstSelectedSelector+","+t.lastSelectedSelector);P(e,r)},a=function(e,r,u,a){i(e),P(r,o),Ye(u,t.firstSelected,"1"),Ye(a,t.lastSelected,"1"),n(r,u,a)};return{clearBeforeUpdate:u,clear:i,selectRange:a,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},cx={byClass:ux,byAttr:ax},sx=function(t,n){var e=t.slice(0,n[n.length-1].row+1),r=Nd(e);return X(r,(function(t){var e=t.cells.slice(0,n[n.length-1].column+1);return I(e,(function(t){return t.element}))}))},lx=function(t,n){var e=t.slice(n[0].row+n[0].rowspan-1,t.length),r=Nd(e);return X(r,(function(t){var e=t.cells.slice(n[0].column+n[0].colspan-1,t.cells.length);return I(e,(function(t){return t.element}))}))},fx=function(t,n,e){var r=so.fromTable(t),o=Kd(r,n);return o.map((function(t){var n=Ld(r,e,!1),o=sx(n,t),i=lx(n,t);return{upOrLeftCells:o,downOrRightCells:i}}))},dx=tinymce.util.Tools.resolve("tinymce.Env"),mx=function(t){return!1===ll(bn.fromDom(t.target),"ephox-snooker-resizer-bar")};function gx(t,n,e){var r=function(n,r,o){e.targets().each((function(e){var i=Hr(r);i.each((function(i){var u=Nf(t),a=Fa(g,bn.fromDom(t.getDoc()),u),c=fx(i,e,a);nf(t,n,r,o,c)}))}))},o=function(){return ef(t)},i=cx.byAttr(gc,r,o);return t.on("init",(function(e){var r=t.getWin(),o=Ga(t),u=Xa(t),a=function(){var n=t.selection,e=bn.fromDom(n.getStart()),r=bn.fromDom(n.getEnd()),u=Zo(Hr,[e,r]);u.fold((function(){return i.clear(o)}),g)},c=tx(r,o,u,i),s=nx(r,o,u,i),l=ex(r,o,u,i),f=function(t){return!0===t.raw.shiftKey};t.on("TableSelectorChange",(function(t){return l(t.start,t.finish)}));var d=function(n,e){f(n)&&(e.kill&&n.kill(),e.selection.each((function(n){var e=Kp.relative(n.start,n.finish),o=lb(r,e);t.selection.setRng(o)})))},m=function(n){var e=Zs(n);if(e.raw.shiftKey&&qw(e.raw.which)){var r=t.selection.getRng(),o=bn.fromDom(r.startContainer),i=bn.fromDom(r.endContainer);s.keyup(e,o,r.startOffset,i,r.endOffset).each((function(t){d(e,t)}))}},h=function(e){var r=Zs(e);n().each((function(t){return t.hideBars()}));var o=t.selection.getRng(),i=bn.fromDom(o.startContainer),u=bn.fromDom(o.endContainer),a=Gi(Xw,Kw)(bn.fromDom(t.selection.getStart()));s.keydown(r,i,o.startOffset,u,o.endOffset,a).each((function(t){d(r,t)})),n().each((function(t){return t.showBars()}))},v=function(t){return 0===t.button},p=function(t){return void 0===t.buttons||(!(!dx.browser.isEdge()||0!==t.buttons)||0!==(1&t.buttons))},b=function(t){c.clearstate()},y=function(t){v(t)&&mx(t)&&c.mousedown(Zs(t))},w=function(t){p(t)&&mx(t)&&c.mouseover(Zs(t))},x=function(t){v(t)&&mx(t)&&c.mouseup(Zs(t))},S=function(){var t=hv(bn.fromDom(o)),n=hv(0),e=function(e){var r=bn.fromDom(e.target);if("td"===re(r)||"th"===re(r)){var o=t.get(),i=n.get();Cn(o,r)&&e.timeStamp-i<300&&(e.preventDefault(),l(r,r))}t.set(r),n.set(e.timeStamp)};return{touchEnd:e}},C=S();t.on("dragstart",b),t.on("mousedown",y),t.on("mouseover",w),t.on("mouseup",x),t.on("touchend",C.touchEnd),t.on("keyup",m),t.on("keydown",h),t.on("NodeChange",a)})),{clear:i.clear}}var hx=function(t,n){return $e(t,n).isSome()},vx=function(t,n){var e=hv(D.none()),r=hv([]),o=D.none(),i=fe("caption"),u=function(t){return o.forall((function(n){return!n[t]}))},a=function(){return xc(nc(t),Xa(t))},c=function(){return xc(ec(t),Xa(t))},s=function(){return a().bind((function(t){return ar(ir(Hr(t),c().bind(Hr),(function(e,r){return Cn(e,r)?i(t)?D.some(hc(t)):D.some(vc(n,e,t)):D.none()})))}))},l=function(t){var n=Hr(t.element);return n.map((function(n){var e=so.fromTable(n),r=Kd(e,t).getOr([]),o=U(r,(function(t,n){return n.isLocked&&(t.onAny=!0,0===n.column?t.onFirst=!0:n.column+n.colspan>=e.grid.columns&&(t.onLast=!0)),t}),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Zd(e,t).isSome(),unmergeable:tm(e,t).isSome(),locked:o}}))},f=function(){e.set(ut(s)()),o=e.get().bind(l),P(r.get(),(function(t){return t()}))},d=function(t){return t(),r.set(r.get().concat([t])),function(){r.set(N(r.get(),(function(n){return n!==t})))}},m=function(t,n){return d((function(){return e.get().fold((function(){t.setDisabled(!0)}),(function(e){t.setDisabled(n(e))}))}))},g=function(t,n,r){return d((function(){return e.get().fold((function(){t.setDisabled(!0),t.setActive(!1)}),(function(e){t.setDisabled(n(e)),t.setActive(r(e))}))}))},h=function(t){return o.exists((function(n){return n.locked[t]}))},v=function(t){return m(t,(function(t){return!1}))},p=function(t){return m(t,(function(t){return i(t.element)}))},b=function(t){return function(n){return m(n,(function(n){return i(n.element)||h(t)}))}},y=function(t){return function(n){return m(n,(function(n){return i(n.element)||t().isNone()}))}},w=function(t,n){return function(e){return m(e,(function(e){return i(e.element)||t().isNone()||h(n)}))}},x=function(t){return m(t,(function(t){return u("mergeable")}))},S=function(t){return m(t,(function(t){return u("unmergeable")}))},k=function(n){return g(n,C,(function(n){var e=Hr(n.element,Xa(t));return e.exists((function(t){return hx(t,"caption")}))}))},O=function(n,e){return function(r){return g(r,(function(t){return i(t.element)}),(function(){return t.queryCommandValue(n)===e}))}},z=O("mceTableRowType","header"),T=O("mceTableColType","th");return t.on("NodeChange ExecCommand TableSelectorChange",f),{onSetupTable:v,onSetupCellOrRow:p,onSetupColumn:b,onSetupPasteable:y,onSetupPasteableColumn:w,onSetupMergeable:x,onSetupUnmergeable:S,resetTargets:f,onSetupTableWithCaption:k,onSetupTableRowHeaders:z,onSetupTableColumnHeaders:T,targets:e.get}},px=function(t,n,e,r){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}});var o=function(n){return function(){return t.execCommand(n)}};t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:o("mceTableProps"),icon:"table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:o("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:o("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:o("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable}),t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:o("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable}),t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:o("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:o("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:o("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:o("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:o("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupColumn("onFirst")}),t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:o("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupColumn("onLast")}),t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:o("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupColumn("onAny")}),t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(r.getRows)}),t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(r.getRows)}),t.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:e.onSetupColumn("onAny")}),t.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:e.onSetupColumn("onAny")}),t.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:e.onSetupPasteableColumn(r.getColumns,"onFirst")}),t.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:e.onSetupPasteableColumn(r.getColumns,"onLast")}),t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:o("mceInsertTable"),icon:"table"});var i=kv(Af(t));0!==i.length&&t.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Ov(t,n,i,"tableclass",(function(n){return t.execCommand("mceTableToggleClass",!1,n)})),onSetup:e.onSetupTable});var u=kv(Df(t));0!==u.length&&t.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Ov(t,n,u,"tablecellclass",(function(n){return t.execCommand("mceTableCellToggleClass",!1,n)})),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Ov(t,n,tv,"tablecellverticalalign",Cv(t,"vertical-align")),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Ov(t,n,pf(t),"tablecellborderwidth",Cv(t,"border-width")),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Ov(t,n,bf(t),"tablecellborderstyle",Cv(t,"border-style")),onSetup:e.onSetupCellOrRow}),t.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:o("mceTableToggleCaption"),icon:"table-caption",onSetup:e.onSetupTableWithCaption}),t.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(n){return n(zv(t,Uf(t),"background-color"))},onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(n){return n(zv(t,Wf(t),"border-color"))},onSetup:e.onSetupCellOrRow}),t.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:Tv(t),onSetup:e.onSetupTableRowHeaders}),t.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Mv(t),onSetup:e.onSetupTableColumnHeaders})},bx=function(t){var n=function(n){return t.dom.is(n,"table")&&t.getBody().contains(n)},e=Bf(t);e.length>0&&t.ui.registry.addContextToolbar("table",{predicate:n,items:e,scope:"node",position:"node"})},yx=function(t,n,e,r){var o=function(n){return function(){return t.execCommand(n)}},i=function(n){t.execCommand("mceInsertTable",!1,{rows:n.numRows,columns:n.numColumns})},u={text:"Table properties",onSetup:e.onSetupTable,onAction:o("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:o("mceTableDelete")};t.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:o("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:o("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:o("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:o("mceTableRowProps"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:o("mceTableCutRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:o("mceTableCopyRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:o("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(r.getRows)}),t.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:o("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(r.getRows)});var c={type:"nestedmenuitem",text:"Row",getSubmenuItems:p("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};t.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:o("mceTableInsertColBefore"),onSetup:e.onSetupColumn("onFirst")}),t.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:o("mceTableInsertColAfter"),onSetup:e.onSetupColumn("onLast")}),t.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:o("mceTableDeleteCol"),onSetup:e.onSetupColumn("onAny")}),t.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:o("mceTableCutCol"),onSetup:e.onSetupColumn("onAny")}),t.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:o("mceTableCopyCol"),onSetup:e.onSetupColumn("onAny")}),t.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:o("mceTablePasteColBefore"),onSetup:e.onSetupPasteableColumn(r.getColumns,"onFirst")}),t.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:o("mceTablePasteColAfter"),onSetup:e.onSetupPasteableColumn(r.getColumns,"onLast")});var s={type:"nestedmenuitem",text:"Column",getSubmenuItems:p("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};t.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:o("mceTableCellProps"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:o("mceTableMergeCells"),onSetup:e.onSetupMergeable}),t.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:o("mceTableSplitCells"),onSetup:e.onSetupUnmergeable});var l={type:"nestedmenuitem",text:"Cell",getSubmenuItems:p("tablecellprops tablemergecells tablesplitcells")};!1===Tf(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:i}]}}),t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTable")}),t.ui.registry.addMenuItem("tableprops",u),t.ui.registry.addMenuItem("deletetable",a),t.ui.registry.addNestedMenuItem("row",c),t.ui.registry.addNestedMenuItem("column",s),t.ui.registry.addNestedMenuItem("cell",l),t.ui.registry.addContextMenu("table",{update:function(){return e.resetTargets(),e.targets().fold(p(""),(function(t){return"caption"===re(t.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}});var f=kv(Af(t));0!==f.length&&t.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Sv(t,n,f,"tableclass",(function(n){return t.execCommand("mceTableToggleClass",!1,n)}))},onSetup:e.onSetupTable});var d=kv(Df(t));0!==d.length&&t.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Sv(t,n,d,"tablecellclass",(function(n){return t.execCommand("mceTableCellToggleClass",!1,n)}))},onSetup:e.onSetupCellOrRow}),t.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Sv(t,n,tv,"tablecellverticalalign",Cv(t,"vertical-align"))},onSetup:e.onSetupCellOrRow}),t.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Sv(t,n,pf(t),"tablecellborderwidth",Cv(t,"border-width"))},onSetup:e.onSetupCellOrRow}),t.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Sv(t,n,bf(t),"tablecellborderstyle",Cv(t,"border-style"))},onSetup:e.onSetupCellOrRow}),t.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:o("mceTableToggleCaption"),onSetup:e.onSetupTableWithCaption}),t.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return zv(t,Uf(t),"background-color")},onSetup:e.onSetupCellOrRow}),t.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return zv(t,Wf(t),"border-color")},onSetup:e.onSetupCellOrRow}),t.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:Tv(t),onSetup:e.onSetupTableRowHeaders}),t.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Mv(t),onSetup:e.onSetupTableColumnHeaders})},wx=function(t){var n=pi((function(){return Ga(t)}),(function(){return Sc(nc(t),Xa(t))}),gc.selectedSelector),e=vx(t,n),r=id(t),o=gx(t,r.lazyResize,e),i=Sh(t,o,r.lazyWire),u=wp();return bp(t,i,o,n,u),yp(t,i,n),Mc(t,n,i),yx(t,n,e,u),px(t,n,e,u),bx(t),t.on("PreInit",(function(){t.serializer.addTempAttr(gc.firstSelected),t.serializer.addTempAttr(gc.lastSelected),kp(t)})),Sf(t)&&t.on("keydown",(function(n){iy(n,t,o)})),t.on("remove",(function(){r.destroy()})),jh(t,u,r,e)};function xx(){bi.add("table",wx)}xx()})()},bc54:function(t,n,e){e("7c4f")},be7f:function(t,n){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),e=function(t){var n=typeof t;return null===t?"null":"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},r=function(t){return function(n){return e(n)===t}},o=function(t){return function(n){return typeof n===t}},i=function(t){return function(n){return t===n}},u=r("string"),a=r("array"),c=i(null),s=o("boolean"),l=o("function"),f=function(){},d=function(t){return function(){return t}},m=function(t){return t},g=function(t,n){return t===n},h=d(!1),v=d(!0),p=function(){return b},b=function(){var t=function(t){return t()},n=m,e={fold:function(t,n){return t()},isSome:h,isNone:v,getOr:n,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:n,orThunk:t,map:p,each:f,bind:p,exists:h,forall:v,filter:function(){return p()},toArray:function(){return[]},toString:d("none()")};return e}(),y=function(t){var n=d(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:v,isNone:h,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return y(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:b},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},w=function(t){return null===t||void 0===t?b:y(t)},x={some:y,none:p,from:w},S=Array.prototype.indexOf,C=Array.prototype.push,k=function(t,n){return S.call(t,n)},O=function(t,n){return k(t,n)>-1},z=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},T=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];n(o,e)}},M=function(t,n,e){return T(t,(function(t,r){e=n(e,t,r)})),e},D=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!a(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);C.apply(n,t[e])}return n},_=function(t,n){return D(z(t,n))},A=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return x.none()},H=function(t,n,e){return void 0===e&&(e=g),t.exists((function(t){return e(t,n)}))},E=function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n},R=function(t,n){return t?x.some(n):x.none()},B=function(t){var n=t.getParam("link_assume_external_targets",!1);return s(n)&&n?1:!u(n)||"http"!==n&&"https"!==n?0:n},V=function(t){return t.getParam("link_context_toolbar",!1,"boolean")},I=function(t){return t.getParam("link_list")},P=function(t){return t.getParam("default_link_target")},L=function(t){return t.getParam("target_list",!0)},F=function(t){return t.getParam("rel_list",[],"array")},N=function(t){return t.getParam("link_class_list",[],"array")},j=function(t){return t.getParam("link_title",!0,"boolean")},U=function(t){return t.getParam("allow_unsafe_link_target",!1,"boolean")},W=function(t){return t.getParam("link_quicklink",!1,"boolean")},G=function(t){return t.getParam("link_default_protocol","http","string")},$=tinymce.util.Tools.resolve("tinymce.util.Tools"),q=function(t){return u(t.value)?t.value:""},X=function(t){return u(t.text)?t.text:u(t.title)?t.title:""},K=function(t,n){var e=[];return $.each(t,(function(t){var r=X(t);if(void 0!==t.menu){var o=K(t.menu,n);e.push({text:r,items:o})}else{var i=n(t);e.push({text:r,value:i})}})),e},Y=function(t){return void 0===t&&(t=q),function(n){return x.from(n).map((function(n){return K(n,t)}))}},J=function(t){return Y(q)(t)},Q=function(t,n){return function(e){return{name:t,type:"listbox",label:n,items:e}}},Z={sanitize:J,sanitizeWith:Y,createUi:Q,getValue:q},tt=function(){return tt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e],n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},tt.apply(this,arguments)},nt=Object.keys,et=Object.hasOwnProperty,rt=function(t,n){for(var e=nt(t),r=0,o=e.length;r<o;r++){var i=e[r],u=t[i];n(u,i)}},ot=function(t){return function(n,e){t[e]=n}},it=function(t,n,e,r){var o={};return rt(t,(function(t,o){(n(t,o)?e:r)(t,o)})),o},ut=function(t,n){var e={};return it(t,n,ot(e),f),e},at=function(t,n){return et.call(t,n)},ct=function(t,n){return at(t,n)&&void 0!==t[n]&&null!==t[n]},st=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),lt=tinymce.util.Tools.resolve("tinymce.util.URI"),ft=function(t){return t&&"a"===t.nodeName.toLowerCase()},dt=function(t){return ft(t)&&!!ht(t)},mt=function(t,n){if(t.collapsed)return[];var e=t.cloneContents(),r=new st(e.firstChild,e),o=[],i=e.firstChild;do{n(i)&&o.push(i)}while(i=r.next());return o},gt=function(t){return/^\w+:/i.test(t)},ht=function(t){var n=t.getAttribute("data-mce-href");return n||t.getAttribute("href")},vt=function(t,n){var e=["noopener"],r=t?t.split(/\s+/):[],o=function(t){return $.trim(t.sort().join(" "))},i=function(t){return t=u(t),t.length>0?t.concat(e):e},u=function(t){return t.filter((function(t){return-1===$.inArray(e,t)}))},a=n?i(r):u(r);return a.length>0?o(a):""},pt=function(t){return t.replace(/\uFEFF/g,"")},bt=function(t,n){return n=n||t.selection.getNode(),Ct(n)?t.dom.select("a[href]",n)[0]:t.dom.getParent(n,"a[href]")},yt=function(t,n){var e=n?n.innerText||n.textContent:t.getContent({format:"text"});return pt(e)},wt=function(t){return $.grep(t,dt).length>0},xt=function(t){return mt(t,dt).length>0},St=function(t){var n=t.schema.getTextInlineElements(),e=function(t){return 1===t.nodeType&&!ft(t)&&!at(n,t.nodeName.toLowerCase())},r=mt(t.selection.getRng(),e);return 0===r.length},Ct=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},kt=function(t){var n=["title","rel","class","target"];return M(n,(function(n,e){return t[e].each((function(t){n[e]=t.length>0?t:null})),n}),{href:t.href})},Ot=function(t,n){return"http"!==n&&"https"!==n||gt(t)?t:n+"://"+t},zt=function(t,n){var e=tt({},n);if(!(F(t).length>0)&&!1===U(t)){var r=vt(e.rel,"_blank"===e.target);e.rel=r||null}return x.from(e.target).isNone()&&!1===L(t)&&(e.target=P(t)),e.href=Ot(e.href,B(t)),e},Tt=function(t,n,e,r){e.each((function(t){at(n,"innerText")?n.innerText=t:n.textContent=t})),t.dom.setAttribs(n,r),t.selection.select(n)},Mt=function(t,n,e,r){Ct(n)?It(t,n,r):e.fold((function(){t.execCommand("mceInsertLink",!1,r)}),(function(n){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(n)))}))},Dt=function(t,n,e){var r=t.selection.getNode(),o=bt(t,r),i=zt(t,kt(e));t.undoManager.transact((function(){e.href===n.href&&n.attach(),o?(t.focus(),Tt(t,o,e.text,i)):Mt(t,r,e.text,i)}))},_t=function(t){var n=t.dom,e=t.selection,r=e.getBookmark(),o=e.getRng().cloneRange(),i=n.getParent(o.startContainer,"a[href]",t.getBody()),u=n.getParent(o.endContainer,"a[href]",t.getBody());i&&o.setStartBefore(i),u&&o.setEndAfter(u),e.setRng(o),t.execCommand("unlink"),e.moveToBookmark(r)},At=function(t){t.undoManager.transact((function(){var n=t.selection.getNode();Ct(n)?Vt(t,n):_t(t),t.focus()}))},Ht=function(t){var n=t.class,e=t.href,r=t.rel,o=t.target,i=t.text,u=t.title;return ut({class:n.getOrNull(),href:e,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:u.getOrNull()},(function(t,n){return!1===c(t)}))},Et=function(t,n){var e=n.href;return tt(tt({},n),{href:lt.isDomSafe(e,"a",t.settings)?e:""})},Rt=function(t,n,e){var r=Et(t,e);t.hasPlugin("rtc",!0)?t.execCommand("createlink",!1,Ht(r)):Dt(t,n,r)},Bt=function(t){t.hasPlugin("rtc",!0)?t.execCommand("unlink"):At(t)},Vt=function(t,n){var e=t.dom.select("img",n)[0];if(e){var r=t.dom.getParents(e,"a[href]",n)[0];r&&(r.parentNode.insertBefore(e,r),t.dom.remove(r))}},It=function(t,n,e){var r=t.dom.select("img",n)[0];if(r){var o=t.dom.create("a",e);r.parentNode.insertBefore(o,r),o.appendChild(r)}},Pt=function(t){return ct(t,"items")},Lt=function(t,n){return A(n,(function(n){return Pt(n)?Lt(t,n.items):R(n.value===t,n)}))},Ft=function(t,n,e,r){var o=r[n],i=t.length>0;return void 0!==o?Lt(o,e).map((function(n){return{url:{value:n.value,meta:{text:i?t:n.text,attach:f}},text:i?t:n.text}})):x.none()},Nt=function(t,n){return"link"===n?t.link:"anchor"===n?t.anchor:x.none()},jt=function(t,n){var e={text:t.text,title:t.title},r=function(t){return R(e.title.length<=0,x.from(t.meta.title).getOr(""))},o=function(t){return R(e.text.length<=0,x.from(t.meta.text).getOr(t.value))},i=function(t){var n=o(t.url),e=r(t.url);return n.isSome()||e.isSome()?x.some(tt(tt({},n.map((function(t){return{text:t}})).getOr({})),e.map((function(t){return{title:t}})).getOr({}))):x.none()},u=function(t,r){var o=Nt(n,r.name).getOr([]);return Ft(e.text,r.name,o,t)},a=function(t,n){var r=n.name;return"url"===r?i(t()):O(["anchor","link"],r)?u(t(),n):"text"===r||"title"===r?(e[r]=t()[r],x.none()):x.none()};return{onChange:a}},Ut={init:jt,getDelta:Ft},Wt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Gt=tinymce.util.Tools.resolve("tinymce.util.Promise"),$t=function(t,n,e){var r=t.selection.getRng();Wt.setEditorTimeout(t,(function(){t.windowManager.confirm(n,(function(n){t.selection.setRng(r),e(n)}))}))},qt=function(t){var n=t.href,e=n.indexOf("@")>0&&-1===n.indexOf("/")&&-1===n.indexOf("mailto:");return e?x.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return tt(tt({},t),{href:"mailto:"+n})}}):x.none()},Xt=function(t,n){return function(e){var r=e.href,o=1===t&&!gt(r)||0===t&&/^\s*www(\.|\d\.)/i.test(r);return o?x.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+n+":// prefix?",preprocess:function(t){return tt(tt({},t),{href:n+"://"+r})}}):x.none()}},Kt=function(t,n){return A([qt,Xt(B(t),G(t))],(function(t){return t(n)})).fold((function(){return Gt.resolve(n)}),(function(e){return new Gt((function(r){$t(t,e.message,(function(t){r(t?e.preprocess(n):n)}))}))}))},Yt={preprocess:Kt},Jt=function(t){var n=t.dom.select("a:not([href])"),e=_(n,(function(t){var n=t.name||t.id;return n?[{text:n,value:"#"+n}]:[]}));return e.length>0?x.some([{text:"None",value:""}].concat(e)):x.none()},Qt={getAnchors:Jt},Zt=function(t){var n=N(t);return n.length>0?Z.sanitize(n):x.none()},tn={getClasses:Zt},nn=tinymce.util.Tools.resolve("tinymce.util.XHR"),en=function(t){try{return x.some(JSON.parse(t))}catch(n){return x.none()}},rn=function(t){var n=function(n){return t.convertURL(n.value||n.url,"href")},e=I(t);return new Gt((function(t){u(e)?nn.send({url:e,success:function(n){return t(en(n))},error:function(n){return t(x.none())}}):l(e)?e((function(n){return t(x.some(n))})):t(x.from(e))})).then((function(t){return t.bind(Z.sanitizeWith(n)).map((function(t){if(t.length>0){var n=[{text:"None",value:""}];return n.concat(t)}return t}))}))},on={getLinks:rn},un=function(t,n){var e=F(t);if(e.length>0){var r=H(n,"_blank"),o=!1===U(t),i=function(t){return vt(Z.getValue(t),r)},u=o?Z.sanitizeWith(i):Z.sanitize;return u(e)}return x.none()},an={getRels:un},cn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],sn=function(t){var n=L(t);return a(n)?Z.sanitize(n).orThunk((function(){return x.some(cn)})):!1===n?x.none():x.some(cn)},ln={getTargets:sn},fn=function(t,n,e){var r=t.getAttrib(n,e);return null!==r&&r.length>0?x.some(r):x.none()},dn=function(t,n){var e=t.dom,r=St(t),o=r?x.some(yt(t.selection,n)):x.none(),i=n?x.some(e.getAttrib(n,"href")):x.none(),u=n?x.from(e.getAttrib(n,"target")):x.none(),a=fn(e,n,"rel"),c=fn(e,n,"class"),s=fn(e,n,"title");return{url:i,text:o,title:s,target:u,rel:a,linkClass:c}},mn=function(t,n){return on.getLinks(t).then((function(e){var r=dn(t,n);return{anchor:r,catalogs:{targets:ln.getTargets(t),rels:an.getRels(t,r.target),classes:tn.getClasses(t),anchor:Qt.getAnchors(t),link:e},optNode:x.from(n),flags:{titleEnabled:j(t)}}}))},gn={collect:mn},hn=function(t,n){return function(e){var r=e.getData();if(!r.url.value)return Bt(t),void e.close();var o=function(t){return x.from(r[t]).filter((function(e){return!H(n.anchor[t],e)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},u={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:f};Yt.preprocess(t,i).then((function(n){Rt(t,u,n)})),e.close()}},vn=function(t){var n=bt(t);return gn.collect(t,n)},pn=function(t,n){var e=t.anchor,r=e.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:e.text.getOr(""),title:e.title.getOr(""),anchor:r,link:r,rel:e.rel.getOr(""),target:e.target.or(n).getOr(""),linkClass:e.linkClass.getOr("")}},bn=function(t,n,e){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),i=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],u=x.from(P(e)),a=pn(t,u),c=t.catalogs,s=Ut.init(a,c),l={type:"panel",items:D([r,o,i,E([c.anchor.map(Z.createUi("anchor","Anchors")),c.rels.map(Z.createUi("rel","Rel")),c.targets.map(Z.createUi("target","Open link in...")),c.link.map(Z.createUi("link","Link list")),c.classes.map(Z.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onChange:function(t,n){var e=n.name;s.onChange(t.getData,{name:e}).each((function(n){t.setData(n)}))},onSubmit:n}},yn=function(t){var n=vn(t);n.then((function(n){var e=hn(t,n);return bn(n,e,t)})).then((function(n){t.windowManager.open(n)}))},wn=function(t,n){document.body.appendChild(t),t.dispatchEvent(n),document.body.removeChild(t)},xn=function(t){var n=document.createElement("a");n.target="_blank",n.href=t,n.rel="noreferrer noopener";var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),wn(n,e)},Sn=function(t,n){return t.dom.getParent(n,"a[href]")},Cn=function(t){return Sn(t,t.selection.getStart())},kn=function(t){return!0===t.altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey},On=function(t,n){if(n){var e=ht(n);if(/^#/.test(e)){var r=t.$(e);r.length&&t.selection.scrollIntoView(r[0],!0)}else xn(n.href)}},zn=function(t){return function(){yn(t)}},Tn=function(t){return function(){On(t,Cn(t))}},Mn=function(t){t.on("click",(function(e){var r=Sn(t,e.target);r&&n.metaKeyPressed(e)&&(e.preventDefault(),On(t,r))})),t.on("keydown",(function(n){var e=Cn(t);e&&13===n.keyCode&&kn(n)&&(n.preventDefault(),On(t,e))}))},Dn=function(t,n){return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},_n=function(t){return function(n){var e=function(){return n.setActive(!t.mode.isReadOnly()&&null!==bt(t,t.selection.getNode()))};return e(),Dn(t,e)}},An=function(t){return function(n){var e=function(){return n.setDisabled(null===bt(t,t.selection.getNode()))};return e(),Dn(t,e)}},Hn=function(t){return function(n){var e=function(n){return wt(n)||xt(t.selection.getRng())},r=t.dom.getParents(t.selection.getStart());return n.setDisabled(!e(r)),Dn(t,(function(t){return n.setDisabled(!e(t.parents))}))}},En=function(t){t.addCommand("mceLink",(function(){W(t)?t.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):zn(t)()}))},Rn=function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))},Bn=function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:zn(t),onSetup:_n(t)}),t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Tn(t),onSetup:An(t)}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Bt(t)},onSetup:Hn(t)})},Vn=function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Tn(t),onSetup:An(t)}),t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:zn(t)}),t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Bt(t)},onSetup:Hn(t)})},In=function(t){var n="link unlink openlink",e="link";t.ui.registry.addContextMenu("link",{update:function(r){return wt(t.dom.getParents(r,"a"))?n:e}})},Pn=function(t){var n=function(t){t.selection.collapse(!1)},e=function(n){var e=t.selection.getNode();return n.setDisabled(!bt(t,e)),f},r=function(n){var e=bt(t),r=St(t);if(!e&&r){var o=yt(t.selection,e);return x.some(o.length>0?o:n)}return x.none()};t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:_n(t)},label:"Link",predicate:function(n){return!!bt(t,n)&&V(t)},initValue:function(){var n=bt(t);return n?ht(n):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(n){var e=t.selection.getNode();return n.setActive(!!bt(t,e)),_n(t)(n)},onAction:function(e){var o=e.getValue(),i=r(o),u={href:o,attach:f};Rt(t,u,{href:o,text:i,title:x.none(),rel:x.none(),target:x.none(),class:x.none()}),n(t),e.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:e,onAction:function(n){Bt(t),n.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:e,onAction:function(n){Tn(t)(),n.hide()}}]})};function Ln(){t.add("link",(function(t){Bn(t),Vn(t),In(t),Pn(t),Mn(t),En(t),Rn(t)}))}Ln()})()},c437:function(t,n,e){var r,o,i=e("e1f4"),u=e("2366"),a=0,c=0;function s(t,n,e){var s=n&&e||0,l=n||[];t=t||{};var f=t.node||r,d=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==d){var m=i();null==f&&(f=r=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==d&&(d=o=16383&(m[6]<<8|m[7]))}var g=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:c+1,v=g-a+(h-c)/1e4;if(v<0&&void 0===t.clockseq&&(d=d+1&16383),(v<0||g>a)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=g,c=h,o=d,g+=122192928e5;var p=(1e4*(268435455&g)+h)%4294967296;l[s++]=p>>>24&255,l[s++]=p>>>16&255,l[s++]=p>>>8&255,l[s++]=255&p;var b=g/4294967296*1e4&268435455;l[s++]=b>>>8&255,l[s++]=255&b,l[s++]=b>>>24&15|16,l[s++]=b>>>16&255,l[s++]=d>>>8|128,l[s++]=255&d;for(var y=0;y<6;++y)l[s+y]=f[y];return n||u(l)}t.exports=s},c64e:function(t,n,e){var r=e("e1f4"),o=e("2366");function i(t,n,e){var i=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null),t=t||{};var u=t.random||(t.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n)for(var a=0;a<16;++a)n[i+a]=u[a];return n||o(u)}t.exports=i},cdd9:function(t,n){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return n=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e],n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},n.apply(this,arguments)},e=function(t){var n=typeof t;return null===t?"null":"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},r=function(t){return function(n){return e(n)===t}},o=function(t){return function(n){return typeof n===t}},i=function(t){return function(n){return t===n}},u=r("string"),a=r("object"),c=r("array"),s=i(null),l=o("boolean"),f=function(t){return null===t||void 0===t},d=function(t){return!f(t)},m=o("function"),g=o("number"),h=function(){},v=function(t){return function(){return t}},p=function(t){return t},b=v(!1),y=v(!0),w=function(){return x},x=function(){var t=function(t){return t()},n=p,e={fold:function(t,n){return t()},isSome:b,isNone:y,getOr:n,getOrThunk:t,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(void 0),or:n,orThunk:t,map:w,each:h,bind:w,exists:b,forall:y,filter:function(){return w()},toArray:function(){return[]},toString:v("none()")};return e}(),S=function(t){var n=v(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:y,isNone:b,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return S(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:x},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},C=function(t){return null===t||void 0===t?x:S(t)},k={some:S,none:w,from:C},O=Object.keys,z=Object.hasOwnProperty,T=function(t,n){for(var e=O(t),r=0,o=e.length;r<o;r++){var i=e[r],u=t[i];n(u,i)}},M=function(t){return function(n,e){t[e]=n}},D=function(t,n,e,r){var o={};return T(t,(function(t,o){(n(t,o)?e:r)(t,o)})),o},_=function(t,n){var e={};return D(t,n,M(e),h),e},A=function(t,n){return z.call(t,n)},H=function(t,n){return A(t,n)&&void 0!==t[n]&&null!==t[n]},E=Array.prototype.push,R=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!c(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);E.apply(n,t[e])}return n},B=function(t,n){return n>=0&&n<t.length?k.some(t[n]):k.none()},V=function(t){return B(t,0)},I=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return k.none()};"undefined"!==typeof window?window:Function("return this;")();var P=function(t,n,e){if(!(u(e)||l(e)||g(e)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",e,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,e+"")},L=function(t,n,e){P(t.dom,n,e)},F=function(t,n){t.dom.removeAttribute(n)},N=function(t,n){var e=n||document,r=e.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return W(r.childNodes[0])},j=function(t,n){var e=n||document,r=e.createElement(t);return W(r)},U=function(t,n){var e=n||document,r=e.createTextNode(t);return W(r)},W=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},G=function(t,n,e){return k.from(t.dom.elementFromPoint(n,e)).map(W)},$={fromHtml:N,fromTag:j,fromText:U,fromDom:W,fromPoint:G},q=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),X=tinymce.util.Tools.resolve("tinymce.util.Promise"),K=tinymce.util.Tools.resolve("tinymce.util.URI"),Y=tinymce.util.Tools.resolve("tinymce.util.XHR"),J=function(t){return t.getParam("image_dimensions",!0,"boolean")},Q=function(t){return t.getParam("image_advtab",!1,"boolean")},Z=function(t){return t.getParam("image_uploadtab",!0,"boolean")},tt=function(t){return t.getParam("image_prepend_url","","string")},nt=function(t){return t.getParam("image_class_list")},et=function(t){return t.getParam("image_description",!0,"boolean")},rt=function(t){return t.getParam("image_title",!1,"boolean")},ot=function(t){return t.getParam("image_caption",!1,"boolean")},it=function(t){return t.getParam("image_list",!1)},ut=function(t){return d(t.getParam("images_upload_url"))},at=function(t){return d(t.getParam("images_upload_handler"))},ct=function(t){return t.getParam("a11y_advanced_options",!1,"boolean")},st=function(t){return t.getParam("automatic_uploads",!0,"boolean")},lt=function(t,n){return Math.max(parseInt(t,10),parseInt(n,10))},ft=function(t){return new X((function(n){var e=document.createElement("img"),r=function(t){e.onload=e.onerror=null,e.parentNode&&e.parentNode.removeChild(e),n(t)};e.onload=function(){var t=lt(e.width,e.clientWidth),n=lt(e.height,e.clientHeight),o={width:t,height:n};r(X.resolve(o))},e.onerror=function(){r(X.reject("Failed to get image dimensions for: "+t))};var o=e.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(e),e.src=t}))},dt=function(t){return t&&(t=t.replace(/px$/,"")),t},mt=function(t){return t.length>0&&/^[0-9]+$/.test(t)&&(t+="px"),t},gt=function(t){if(t.margin){var n=String(t.margin).split(" ");switch(n.length){case 1:t["margin-top"]=t["margin-top"]||n[0],t["margin-right"]=t["margin-right"]||n[0],t["margin-bottom"]=t["margin-bottom"]||n[0],t["margin-left"]=t["margin-left"]||n[0];break;case 2:t["margin-top"]=t["margin-top"]||n[0],t["margin-right"]=t["margin-right"]||n[1],t["margin-bottom"]=t["margin-bottom"]||n[0],t["margin-left"]=t["margin-left"]||n[1];break;case 3:t["margin-top"]=t["margin-top"]||n[0],t["margin-right"]=t["margin-right"]||n[1],t["margin-bottom"]=t["margin-bottom"]||n[2],t["margin-left"]=t["margin-left"]||n[1];break;case 4:t["margin-top"]=t["margin-top"]||n[0],t["margin-right"]=t["margin-right"]||n[1],t["margin-bottom"]=t["margin-bottom"]||n[2],t["margin-left"]=t["margin-left"]||n[3]}delete t.margin}return t},ht=function(t,n){var e=it(t);u(e)?Y.send({url:e,success:function(t){n(JSON.parse(t))}}):m(e)?e(n):n(e)},vt=function(t,n,e){var r=function(){e.onload=e.onerror=null,t.selection&&(t.selection.select(e),t.nodeChanged())};e.onload=function(){n.width||n.height||!J(t)||t.dom.setAttribs(e,{width:String(e.clientWidth),height:String(e.clientHeight)}),r()},e.onerror=r},pt=function(t){return new X((function(n,e){var r=new FileReader;r.onload=function(){n(r.result)},r.onerror=function(){e(r.error.message)},r.readAsDataURL(t)}))},bt=function(t){return"IMG"===t.nodeName&&(t.hasAttribute("data-mce-object")||t.hasAttribute("data-mce-placeholder"))},yt=function(t,n){return K.isDomSafe(n,"img",t.settings)},wt=q.DOM,xt=function(t){return t.style.marginLeft&&t.style.marginRight&&t.style.marginLeft===t.style.marginRight?dt(t.style.marginLeft):""},St=function(t){return t.style.marginTop&&t.style.marginBottom&&t.style.marginTop===t.style.marginBottom?dt(t.style.marginTop):""},Ct=function(t){return t.style.borderWidth?dt(t.style.borderWidth):""},kt=function(t,n){return t.hasAttribute(n)?t.getAttribute(n):""},Ot=function(t,n){return t.style[n]?t.style[n]:""},zt=function(t){return null!==t.parentNode&&"FIGURE"===t.parentNode.nodeName},Tt=function(t,n,e){""===e?t.removeAttribute(n):t.setAttribute(n,e)},Mt=function(t){var n=wt.create("figure",{class:"image"});wt.insertAfter(n,t),n.appendChild(t),n.appendChild(wt.create("figcaption",{contentEditable:"true"},"Caption")),n.contentEditable="false"},Dt=function(t){var n=t.parentNode;wt.insertAfter(t,n),wt.remove(n)},_t=function(t){zt(t)?Dt(t):Mt(t)},At=function(t,n){var e=t.getAttribute("style"),r=n(null!==e?e:"");r.length>0?(t.setAttribute("style",r),t.setAttribute("data-mce-style",r)):t.removeAttribute("style")},Ht=function(t,n){return function(t,e,r){t.style[e]?(t.style[e]=mt(r),At(t,n)):Tt(t,e,r)}},Et=function(t,n){return t.style[n]?dt(t.style[n]):kt(t,n)},Rt=function(t,n){var e=mt(n);t.style.marginLeft=e,t.style.marginRight=e},Bt=function(t,n){var e=mt(n);t.style.marginTop=e,t.style.marginBottom=e},Vt=function(t,n){var e=mt(n);t.style.borderWidth=e},It=function(t,n){t.style.borderStyle=n},Pt=function(t){return Ot(t,"borderStyle")},Lt=function(t){return"FIGURE"===t.nodeName},Ft=function(t){return"IMG"===t.nodeName},Nt=function(t){return 0===wt.getAttrib(t,"alt").length&&"presentation"===wt.getAttrib(t,"role")},jt=function(t){return Nt(t)?"":kt(t,"alt")},Ut=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Wt=function(t,n){var e=document.createElement("img");return Tt(e,"style",n.style),(xt(e)||""!==n.hspace)&&Rt(e,n.hspace),(St(e)||""!==n.vspace)&&Bt(e,n.vspace),(Ct(e)||""!==n.border)&&Vt(e,n.border),(Pt(e)||""!==n.borderStyle)&&It(e,n.borderStyle),t(e.getAttribute("style"))},Gt=function(t,e){var r=document.createElement("img");if(Jt(t,n(n({},e),{caption:!1}),r),Xt(r,e.alt,e.isDecorative),e.caption){var o=wt.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(wt.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r},$t=function(t,n){return{src:kt(n,"src"),alt:jt(n),title:kt(n,"title"),width:Et(n,"width"),height:Et(n,"height"),class:kt(n,"class"),style:t(kt(n,"style")),caption:zt(n),hspace:xt(n),vspace:St(n),border:Ct(n),borderStyle:Ot(n,"borderStyle"),isDecorative:Nt(n)}},qt=function(t,n,e,r,o){e[r]!==n[r]&&o(t,r,e[r])},Xt=function(t,n,e){if(e){wt.setAttrib(t,"role","presentation");var r=$.fromDom(t);L(r,"alt","")}else{if(s(n)){r=$.fromDom(t);F(r,"alt")}else{r=$.fromDom(t);L(r,"alt",n)}"presentation"===wt.getAttrib(t,"role")&&wt.setAttrib(t,"role","")}},Kt=function(t,n,e){e.alt===n.alt&&e.isDecorative===n.isDecorative||Xt(t,e.alt,e.isDecorative)},Yt=function(t,n){return function(e,r,o){t(e,o),At(e,n)}},Jt=function(t,n,e){var r=$t(t,e);qt(e,r,n,"caption",(function(t,n,e){return _t(t)})),qt(e,r,n,"src",Tt),qt(e,r,n,"title",Tt),qt(e,r,n,"width",Ht("width",t)),qt(e,r,n,"height",Ht("height",t)),qt(e,r,n,"class",Tt),qt(e,r,n,"style",Yt((function(t,n){return Tt(t,"style",n)}),t)),qt(e,r,n,"hspace",Yt(Rt,t)),qt(e,r,n,"vspace",Yt(Bt,t)),qt(e,r,n,"border",Yt(Vt,t)),qt(e,r,n,"borderStyle",Yt(It,t)),Kt(e,r,n)},Qt=function(t,n){var e=t.dom.styles.parse(n),r=gt(e),o=t.dom.styles.parse(t.dom.styles.serialize(r));return t.dom.styles.serialize(o)},Zt=function(t){var n=t.selection.getNode(),e=t.dom.getParent(n,"figure.image");return e?t.dom.select("img",e)[0]:n&&("IMG"!==n.nodeName||bt(n))?null:n},tn=function(t,n){var e=t.dom,r=_(t.schema.getTextBlockElements(),(function(n,e){return!t.schema.isValidChild(e,"figure")})),o=e.getParent(n.parentNode,(function(t){return H(r,t.nodeName)}),t.getBody());return o?e.split(o,n):n},nn=function(t){var n=Zt(t);return n?$t((function(n){return Qt(t,n)}),n):Ut()},en=function(t,n){var e=Gt((function(n){return Qt(t,n)}),n);t.dom.setAttrib(e,"data-mce-id","__mcenew"),t.focus(),t.selection.setContent(e.outerHTML);var r=t.dom.select('*[data-mce-id="__mcenew"]')[0];if(t.dom.setAttrib(r,"data-mce-id",null),Lt(r)){var o=tn(t,r);t.selection.select(o)}else t.selection.select(r)},rn=function(t,n){t.dom.setAttrib(n,"src",n.getAttribute("src"))},on=function(t,n){if(n){var e=t.dom.is(n.parentNode,"figure.image")?n.parentNode:n;t.dom.remove(e),t.focus(),t.nodeChanged(),t.dom.isEmpty(t.getBody())&&(t.setContent(""),t.selection.setCursorLocation())}},un=function(t,n){var e=Zt(t);if(Jt((function(n){return Qt(t,n)}),n,e),rn(t,e),Lt(e.parentNode)){var r=e.parentNode;tn(t,r),t.selection.select(e.parentNode)}else t.selection.select(e),vt(t,n,e)},an=function(t,e){var r=e.src;return n(n({},e),{src:yt(t,r)?r:""})},cn=function(t,e){var r=Zt(t);if(r){var o=$t((function(n){return Qt(t,n)}),r),i=n(n({},o),e),u=an(t,i);i.src?un(t,u):on(t,r)}else e.src&&en(t,n(n({},Ut()),e))},sn=function(t,n){var e=a(t)&&a(n);return e?fn(t,n):n},ln=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(0===n.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<n.length;o++){var i=n[o];for(var u in i)A(i,u)&&(r[u]=t(r[u],i[u]))}return r}},fn=ln(sn),dn=function(t){return t.length>0},mn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),gn=tinymce.util.Tools.resolve("tinymce.util.Tools"),hn=function(t){return u(t.value)?t.value:""},vn=function(t){return u(t.text)?t.text:u(t.title)?t.title:""},pn=function(t,n){var e=[];return gn.each(t,(function(t){var r=vn(t);if(void 0!==t.menu){var o=pn(t.menu,n);e.push({text:r,items:o})}else{var i=n(t);e.push({text:r,value:i})}})),e},bn=function(t){return void 0===t&&(t=hn),function(n){return n?k.from(n).map((function(n){return pn(n,t)})):k.none()}},yn=function(t){return bn(hn)(t)},wn=function(t){return A(t,"items")},xn=function(t,n){return I(t,(function(t){return wn(t)?xn(t.items,n):t.value===n?k.some(t):k.none()}))},Sn=function(t,n){return t.bind((function(t){return xn(t,n)}))},Cn={sanitizer:bn,sanitize:yn,findEntry:Sn},kn=function(t){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},On={makeTab:kn},zn=function(t){var n=Cn.sanitizer((function(n){return t.convertURL(n.value||n.url,"src")})),e=new X((function(e){ht(t,(function(t){e(n(t).map((function(t){return R([[{text:"None",value:""}],t])})))}))})),r=Cn.sanitize(nt(t)),o=Q(t),i=Z(t),a=ut(t),c=at(t),s=nn(t),l=et(t),f=rt(t),d=J(t),m=ot(t),g=ct(t),h=st(t),v=k.some(tt(t)).filter((function(t){return u(t)&&t.length>0}));return e.then((function(t){return{image:s,imageList:t,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:c,hasDescription:l,hasImageTitle:f,hasDimensions:d,hasImageCaption:m,prependURL:v,hasAccessibilityOptions:g,automaticUploads:h}}))},Tn=function(t){var e={name:"src",type:"urlinput",filetype:"image",label:"Source"},r=t.imageList.map((function(t){return{name:"images",type:"listbox",label:"Image list",items:t}})),o={name:"alt",type:"input",label:"Alternative description",disabled:t.hasAccessibilityOptions&&t.image.isDecorative},i={name:"title",type:"input",label:"Image title"},u={name:"dimensions",type:"sizeinput"},a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},c=t.classList.map((function(t){return{name:"classes",type:"listbox",label:"Class",items:t}})),s={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},l=function(t){return t?{type:"grid",columns:2}:{type:"panel"}};return R([[e],r.toArray(),t.hasAccessibilityOptions&&t.hasDescription?[a]:[],t.hasDescription?[o]:[],t.hasImageTitle?[i]:[],t.hasDimensions?[u]:[],[n(n({},l(t.classList.isSome()&&t.hasImageCaption)),{items:R([c.toArray(),t.hasImageCaption?[s]:[]])})]])},Mn=function(t){return{title:"General",name:"general",items:Tn(t)}},Dn={makeTab:Mn,makeItems:Tn},_n=function(t){var n=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:n}},An={makeTab:_n},Hn=function(t){return{prevImage:Cn.findEntry(t.imageList,t.image.src),prevAlt:t.image.alt,open:!0}},En=function(t){return{src:{value:t.src,meta:{}},images:t.src,alt:t.alt,title:t.title,dimensions:{width:t.width,height:t.height},classes:t.class,caption:t.caption,style:t.style,vspace:t.vspace,border:t.border,hspace:t.hspace,borderstyle:t.borderStyle,fileinput:[],isDecorative:t.isDecorative}},Rn=function(t,n){return{src:t.src.value,alt:0===t.alt.length&&n?null:t.alt,title:t.title,width:t.dimensions.width,height:t.dimensions.height,class:t.classes,style:t.style,caption:t.caption,hspace:t.hspace,vspace:t.vspace,border:t.border,borderStyle:t.borderstyle,isDecorative:t.isDecorative}},Bn=function(t,n){return/^(?:[a-zA-Z]+:)?\/\//.test(n)?k.none():t.prependURL.bind((function(t){return n.substring(0,t.length)!==t?k.some(t+n):k.none()}))},Vn=function(t,n){var e=n.getData();Bn(t,e.src.value).each((function(t){n.setData({src:{value:t,meta:e.src.meta}})}))},In=function(t,n,e){t.hasDescription&&u(e.alt)&&(n.alt=e.alt),t.hasAccessibilityOptions&&(n.isDecorative=e.isDecorative||n.isDecorative||!1),t.hasImageTitle&&u(e.title)&&(n.title=e.title),t.hasDimensions&&(u(e.width)&&(n.dimensions.width=e.width),u(e.height)&&(n.dimensions.height=e.height)),u(e.class)&&Cn.findEntry(t.classList,e.class).each((function(t){n.classes=t.value})),t.hasImageCaption&&l(e.caption)&&(n.caption=e.caption),t.hasAdvTab&&(u(e.style)&&(n.style=e.style),u(e.vspace)&&(n.vspace=e.vspace),u(e.border)&&(n.border=e.border),u(e.hspace)&&(n.hspace=e.hspace),u(e.borderstyle)&&(n.borderstyle=e.borderstyle))},Pn=function(t,n){var e=n.getData(),r=e.src.meta;if(void 0!==r){var o=fn({},e);In(t,o,r),n.setData(o)}},Ln=function(t,n,e,r){var o=r.getData(),i=o.src.value,u=o.src.meta||{};u.width||u.height||!n.hasDimensions||(dn(i)?t.imageSize(i).then((function(t){e.open&&r.setData({dimensions:t})})).catch((function(t){return console.error(t)})):r.setData({dimensions:{width:"",height:""}}))},Fn=function(t,n,e){var r=e.getData(),o=Cn.findEntry(t.imageList,r.src.value);n.prevImage=o,e.setData({images:o.map((function(t){return t.value})).getOr("")})},Nn=function(t,n,e,r){Vn(n,r),Pn(n,r),Ln(t,n,e,r),Fn(n,e,r)},jn=function(t,n,e,r){var o=r.getData(),i=Cn.findEntry(n.imageList,o.images);i.each((function(t){var n=""===o.alt||e.prevImage.map((function(t){return t.text===o.alt})).getOr(!1);n?""===t.value?r.setData({src:t,alt:e.prevAlt}):r.setData({src:t,alt:t.text}):r.setData({src:t})})),e.prevImage=i,Nn(t,n,e,r)},Un=function(t){var n=t["margin-top"]&&t["margin-bottom"]&&t["margin-top"]===t["margin-bottom"];return n?dt(String(t["margin-top"])):""},Wn=function(t){var n=t["margin-right"]&&t["margin-left"]&&t["margin-right"]===t["margin-left"];return n?dt(String(t["margin-right"])):""},Gn=function(t){return t["border-width"]?dt(String(t["border-width"])):""},$n=function(t){return t["border-style"]?String(t["border-style"]):""},qn=function(t,n,e){return n(t(n(e)))},Xn=function(t,n,e){var r=gt(t(e.style)),o=fn({},e);return o.vspace=Un(r),o.hspace=Wn(r),o.border=Gn(r),o.borderstyle=$n(r),o.style=qn(t,n,r),o},Kn=function(t,n){var e=n.getData(),r=Xn(t.parseStyle,t.serializeStyle,e);n.setData(r)},Yn=function(t,n,e){var r=fn(En(n.image),e.getData()),o=Wt(t.normalizeCss,Rn(r,!1));e.setData({style:o})},Jn=function(t,n,e,r){var o=r.getData();r.block("Uploading image"),V(o.fileinput).fold((function(){r.unblock()}),(function(o){var i=URL.createObjectURL(o),u=function(){r.unblock(),URL.revokeObjectURL(i)},a=function(o){r.setData({src:{value:o,meta:{}}}),r.showTab("general"),Nn(t,n,e,r)};pt(o).then((function(e){var c=t.createBlobCache(o,i,e);n.automaticUploads?t.uploadImage(c).then((function(t){a(t.url),u()})).catch((function(n){u(),t.alertErr(n)})):(t.addToBlobCache(c),a(c.blobUri()),r.unblock())}))}))},Qn=function(t,n,e){return function(r,o){"src"===o.name?Nn(t,n,e,r):"images"===o.name?jn(t,n,e,r):"alt"===o.name?e.prevAlt=r.getData().alt:"style"===o.name?Kn(t,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?Yn(t,n,r):"fileinput"===o.name?Jn(t,n,e,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},Zn=function(t){return function(){t.open=!1}},te=function(t){if(t.hasAdvTab||t.hasUploadUrl||t.hasUploadHandler){var n={type:"tabpanel",tabs:R([[Dn.makeTab(t)],t.hasAdvTab?[On.makeTab(t)]:[],t.hasUploadTab&&(t.hasUploadUrl||t.hasUploadHandler)?[An.makeTab(t)]:[]])};return n}var e={type:"panel",items:Dn.makeItems(t)};return e},ne=function(t){return function(n){var e=Hn(n);return{title:"Insert/Edit Image",size:"normal",body:te(n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:En(n.image),onSubmit:t.onSubmit(n),onChange:Qn(t,n,e),onClose:Zn(e)}}},ee=function(t){return function(n){return function(e){var r=fn(En(n.image),e.getData());t.execCommand("mceUpdateImage",!1,Rn(r,n.hasAccessibilityOptions)),t.editorUpload.uploadImagesAuto(),e.close()}}},re=function(t){return function(n){return yt(t,n)?ft(t.documentBaseURI.toAbsolute(n)).then((function(t){return{width:String(t.width),height:String(t.height)}})):X.resolve({width:"",height:""})}},oe=function(t){return function(n,e,r){return t.editorUpload.blobCache.create({blob:n,blobUri:e,name:n.name?n.name.replace(/\.[^\.]+$/,""):null,filename:n.name,base64:r.split(",")[1]})}},ie=function(t){return function(n){t.editorUpload.blobCache.add(n)}},ue=function(t){return function(n){t.windowManager.alert(n)}},ae=function(t){return function(n){return Qt(t,n)}},ce=function(t){return function(n){return t.dom.parseStyle(n)}},se=function(t){return function(n,e){return t.dom.serializeStyle(n,e)}},le=function(t){return function(n){return mn(t).upload([n],!1).then((function(t){return 0===t.length?X.reject("Failed to upload image"):!1===t[0].status?X.reject(t[0].error.message):t[0]}))}},fe=function(t){var n={onSubmit:ee(t),imageSize:re(t),addToBlobCache:ie(t),createBlobCache:oe(t),alertErr:ue(t),normalizeCss:ae(t),parseStyle:ce(t),serializeStyle:se(t),uploadImage:le(t)},e=function(){zn(t).then(ne(n)).then(t.windowManager.open)};return{open:e}},de=function(t){t.addCommand("mceImage",fe(t).open),t.addCommand("mceUpdateImage",(function(n,e){t.undoManager.transact((function(){return cn(t,e)}))}))},me=function(t){var n=t.attr("class");return n&&/\bimage\b/.test(n)},ge=function(t){return function(n){var e=n.length,r=function(n){n.attr("contenteditable",t?"true":null)};while(e--){var o=n[e];me(o)&&(o.attr("contenteditable",t?"false":null),gn.each(o.getAll("figcaption"),r))}}},he=function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("figure",ge(!0)),t.serializer.addNodeFilter("figure",ge(!1))}))},ve=function(t){t.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:fe(t).open,onSetup:function(n){return n.setActive(d(Zt(t))),t.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",n.setActive).unbind}}),t.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:fe(t).open}),t.ui.registry.addContextMenu("image",{update:function(t){return Lt(t)||Ft(t)&&!bt(t)?["image"]:[]}})};function pe(){t.add("image",(function(t){he(t),ve(t),de(t)}))}pe()})()},cfb0:function(t,n,e){e("43fc")},e1f4:function(t,n){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,n=0;n<16;n++)0===(3&n)&&(t=4294967296*Math.random()),o[n]=t>>>((3&n)<<3)&255;return o}}},ec27:function(t,n,e){e("fc39")},ef1f:function(t,n){(function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t,n){t.focus(),t.undoManager.transact((function(){t.setContent(n)})),t.selection.setCursorLocation(),t.nodeChanged()},e=function(t){return t.getContent({source_view:!0})},r=function(t){var r=e(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:r},onSubmit:function(e){n(t,e.getData().code),e.close()}})},o=function(t){t.addCommand("mceCodeEditor",(function(){r(t)}))},i=function(t){var n=function(){return t.execCommand("mceCodeEditor")};t.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:n}),t.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:n})};function u(){t.add("code",(function(t){return o(t),i(t),{}}))}u()})()},f872:function(t,n,e){"use strict";e.r(n),function(t){var n=e("b85c"),r=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("99af"),e("e562")),o=e.n(r),i=(e("0d68"),e("ec27"),e("4237"),e("84ec"),e("4ea8"),e("07d1"),e("64d8"),e("bc54"),e("3aea"),e("cfb0"),e("1123"));window.tinymce=o.a;var u=window.VERIFIED||window.SUP;function a(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e="".concat(t.type,"#").concat(t.id),r=Object(i["a"])(e,u,n);return o.a.init(r)}var c,s=Object(n["a"])(document.querySelectorAll(".richtext-editor"));try{for(s.s();!(c=s.n()).done;){var l=c.value;a(l)}}catch(g){s.e(g)}finally{s.f()}var f,d=Object(n["a"])(document.querySelectorAll(".richtext-editor-src"));try{for(d.s();!(f=d.n()).done;){var m=f.value;a(m,!0)}}catch(g){d.e(g)}finally{d.f()}t.initRichTextEditor=a}.call(this,e("c8ba"))},fc39:function(t,n){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})}});
//# sourceMappingURL=rich_text_editor.97659da1.js.map