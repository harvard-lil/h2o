{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./frontend/libs/tinymce_extensions.js","webpack:///./frontend/legacy/lib/helpers.js","webpack:///./frontend/config/axios.js","webpack:///./frontend/pages/rich_text_editor.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","defaultDescription","handleImageUpload","blobInfo","success","failure","progress","config","onUploadProgress","event","Math","round","loaded","total","formData","FormData","append","blob","filename","Axios","post","then","response","location","remove","firstInaccessibleImage","editor","images","getDoc","getElementsByTagName","ii","image","alt","checkAllyShip","tinymceEditor","ui","registry","addToggleButton","text","classes","onSetup","api","handleChange","inaccessible","setActive","setDisabled","dirtyWatcher","on","changeWatcher","off","onAction","execCommand","imageAltContextForm","isImage","node","nodeName","toLowerCase","addContextForm","launch","type","icon","label","predicate","position","initValue","arg","selection","getNode","commands","tooltip","primary","formApi","getValue","setDirty","hide","active","installFootnotes","isFootnote","classList","contains","getFootnoteNodePair","id","refNode","dom","bodyNode","footnoteIntegrity","candidates","$","filter","_","e","refs","bodies","candidate","getFootnoteId","mark","innerText","getElementsByClassName","trim","refsById","chain","groupBy","mapValues","x","bodiesById","orphanedRefs","differenceBy","orphanedBodies","forEach","unset","values","bodyMark","bodyDom","labelDom","firstChild","createFragment","prepend","labelsDom","labels","parent","parentElement","parentText","space","document","createTextNode","appendChild","setCursorLocation","getStart","getEnd","footer","lastElementChild","getFooter","footnoteDiv","console","error","add","getBody","class","createFootnote","uuid","refHTML","footnote","updateFootnote","bodyContent","getFootnoteData","redundantMark","substr","htmlID","openDialog","currentNode","isEditingNode","nextFootnote","currentData","windowManager","open","title","size","body","items","multiline","minWidth","minHeight","buttons","initialData","onSubmit","dialog","getData","close","onCancel","details","Dialog","addMenuItem","addCommand","getInitConfig","selector","enhanced","code","semanticStyles","plugins","toolbar","extend_valid_elements","map","join","image_class_list","height","skin_url","content_style","menubar","branding","image_uploadtab","images_upload_handler","images_upload_credentials","image_dimensions","automatic_uploads","contextmenu_never_use_native","contextmenu","paste_auto_cleanup_on_paste","paste_remove_styles","paste_remove_styles_if_webkit","paste_strip_class_attributes","media_dimensions","extended_valid_elements","setup","getCookie","cookieValue","cookie","cookies","split","substring","decodeURIComponent","get_csrf_token","rails_csrf_el","querySelector","django_csrftoken","csrf_token","undefined","getAttribute","headers","AxiosConfig","interceptors","request","use","method","toUpperCase","includes","tinymce","ENHANCED","VERIFIED","SUP","initRichTextEditor","element","init","querySelectorAll","textArea","global"],"mappings":"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","file":"js/rich_text_editor.3fc72fd6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"rich_text_editor\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Axios from '../config/axios';\nimport _ from 'lodash';\nimport uuid from 'uuid';\n\nconst defaultDescription = 'Image description';\n\nexport function handleImageUpload(blobInfo, success, failure, progress) {\n  const config = {\n    onUploadProgress: function onUploadProgress(event) {\n      progress(Math.round(event.loaded / event.total * 100));\n    }\n  };\n  let formData = new FormData();\n  formData.append('image', blobInfo.blob(), blobInfo.filename());\n  formData.append('name', blobInfo.name());\n  Axios.post('/image/', formData, config).then((response) => {\n    success(response.data.location);\n  }, (result) => failure(result, {remove: true}));\n}\n\nfunction firstInaccessibleImage(editor) {\n  let images = editor.getDoc().getElementsByTagName(\"IMG\");\n  for(let ii= 0; ii < images.length; ii++) {\n    let image = images[ii];\n    if (!image.alt) {\n      return image;\n    }\n  }\n  return null;\n}\n\nexport function checkAllyShip(editor) {\n  let tinymceEditor = editor;\n  editor.ui.registry.addToggleButton('checkAlly', {\n    text: 'Check Accessibility',\n    classes: \"a11y-check\",\n    onSetup: function(api) {\n      function handleChange() {\n        let inaccessible = !!firstInaccessibleImage(editor);\n        if (inaccessible) {\n          api.setActive(inaccessible);\n          api.setDisabled(false);\n        } else {\n          api.setActive(false);\n          api.setDisabled(true);\n        }\n      }\n      const dirtyWatcher = tinymceEditor.on('Dirty', handleChange);\n      const changeWatcher = tinymceEditor.on('change', handleChange);\n      return function() {\n        tinymceEditor.off('Dirty', dirtyWatcher);\n        tinymceEditor.off('change', changeWatcher);\n      };\n\n    },\n    onAction: function () {\n      let image = firstInaccessibleImage(editor);\n      if(image) {\n        tinymceEditor.execCommand('mceSelectNode', false, image);\n      }\n    }});\n}\n\nexport function imageAltContextForm(editor) {\n  function isImage (node) {\n    return node.nodeName.toLowerCase() === 'img';\n  }\n\n  editor.ui.registry.addContextForm('image-alt', {\n    launch: {\n      type: 'contextformtogglebutton',\n      icon: 'accessibility-check'\n    },\n    label: 'description',\n    predicate: isImage,\n    position: 'node',\n    initValue: function (arg) {\n      return editor.selection.getNode().alt || defaultDescription;\n    },\n    commands: [\n      {\n        type: 'contextformtogglebutton',\n        tooltip: 'Save',\n        icon: 'save',\n        primary: true,\n        onAction: function (formApi) {\n          var value = formApi.getValue();\n          if (value !== defaultDescription) {\n            editor.selection.getNode().alt = value;\n            editor.setDirty(false);\n            editor.setDirty(true);\n          }\n          formApi.hide();\n        }\n      },\n      {\n        type: 'contextformtogglebutton',\n        icon: 'image',\n        tooltip: 'More image options',\n        active: true,\n        onAction: function (formApi) {\n          formApi.hide();\n          editor.execCommand('mceImage');\n        }\n      }\n    ]\n  });\n}\n\n\nexport function installFootnotes(editor) {\n  function _isFootnoteRef(node) {\n    return node.classList.contains('footnote-ref');\n  }\n\n  function _isFootnoteBody(node) {\n    return node.classList.contains('footnote-label') || node.classList.contains('footnote-body');\n  }\n\n  function isFootnote(node) {\n    return node.classList.contains('footnote');\n  }\n\n\n  function getFootnoteNodePair(id) {\n    let refNode = editor.dom.get(`footnote-${id}-ref`);\n    let bodyNode = editor.dom.get(`footnote-${id}`);\n    return { refNode, bodyNode };\n  }\n\n  function footnoteIntegrity() {\n    // On nodechanges, search for every footnote, and make sure it's paired up properly to check for deletions.\n    let candidates = editor.dom.$('.footnote').filter((_,e) => !e.classList.contains('footnote-footer'));\n    // Association lists to maintain order\n    let refs = [];\n    let bodies = [];\n    for(let ii = 0; ii < candidates.length; ii++) {\n      let candidate = candidates[ii];\n      let id = getFootnoteId(candidate);\n      if(candidate.classList.contains('footnote-ref')) {\n        let mark = candidate.innerText;\n        refs.push({id,candidate,mark});\n      } else if (candidate.classList.contains('footnote-body')) {\n        let label = candidate.getElementsByClassName('footnote-label');\n        let mark;\n        if (!label || label.length == 0) {\n          if (candidate.innerText.trim() !== \"\") {\n            mark = '';\n            bodies.push({id,candidate,mark});\n          }\n        } else {\n          mark = label[0].innerText;\n          bodies.push({id,candidate,mark});\n        }\n\n      }\n    }\n\n    let refsById = _.chain(refs).groupBy('id').mapValues(x => x[0]).value();\n    let bodiesById = _.chain(bodies).groupBy('id').mapValues(x => x[0]).value();\n    let orphanedRefs = _.differenceBy(refs, bodies, 'id');\n    let orphanedBodies = _.differenceBy(bodies, refs, 'id');\n\n    // Delete the other half of orphaned Refs.\n    orphanedRefs.forEach(function({id, candidate}) {\n      editor.dom.remove(candidate);\n      _.unset(refsById, id);\n    });\n    orphanedBodies.forEach(function({id, candidate}) {\n      editor.dom.remove(candidate);\n      _.unset(bodiesById, id);\n    });\n\n    // Adjust marks if necessary\n    _.values(refsById).forEach(function({id, mark, candidate}) {\n      let bodyMark = bodiesById[id].mark;\n      if (mark !== bodyMark) {\n        let bodyDom = bodiesById[id].candidate;\n        let labelDom = bodyDom.getElementsByClassName('footnote-label');\n        if(! labelDom || labelDom.length == 0) {\n          if (bodyDom.firstChild) {\n            labelDom = editor.dom.createFragment(`<span class=\"footnote-label\" data-extra-export-offset=\"2\">${mark}</span>`);\n            bodyDom.firstChild.prepend(labelDom);\n          }\n        } else {\n          labelDom[0].innerText = mark;\n        }\n        // let dataMark = bodyDom.attributes['data-mark'];\n        // dataMark.value = mark;\n        // bodyDom.attributes.setNamedItem(dataMark);\n      }\n    });\n\n    // Clean up orphaned labels\n    let labelsDom = editor.dom.$('.footnote-label');\n    let labels = [];\n    for(let ii=0; ii < labelsDom.length; ii++) {\n      labels.push(labelsDom[ii]);\n    }\n    labels.forEach(label => {\n      let parent = label;\n      while (parent) {\n        if (parent.classList.contains('footnote-footer')) {\n          return;\n        }\n        parent = parent.parentElement;\n      }\n      editor.dom.remove(label);\n    });\n\n    // Ensure footnotes have at least one space\n    // So that the cursor doesn't jump to the start of a label\n    labelsDom = editor.dom.$('.footnote-label');\n    labels = [];\n    for(let ii=0; ii < labelsDom.length; ii++) {\n      labels.push(labelsDom[ii]);\n    }\n    labels.forEach(label => {\n      let parentText = label.parentElement.innerText;\n      if (parentText.trim() == label.innerText) {\n        let space = document.createTextNode(\" \");\n        label.parentElement.appendChild(space);\n        editor.selection.setCursorLocation(label.parentElement, parentText.length);\n      }\n    });\n\n    // Make sure selection isn't inside of label\n    if (editor.selection.getStart() == editor.selection.getEnd() && editor.selection.getStart().classList.contains('footnote-label')) {\n      let label = editor.selection.getStart();\n      editor.selection.setCursorLocation(label.parentElement, label.innerText.length);\n    }\n\n    // Move footer to bottom of page\n    let footer = editor.dom.$('.footnote-footer');\n    if(footer.length === 1) {\n      footer = footer[0];\n      if (footer !== footer.parentElement.lastElementChild) {\n        footer.parentElement.appendChild(footer);\n      }\n    }\n  }\n\n  function getFooter() {\n    let footnoteDiv = editor.dom.$(\".footnote-footer\");\n    if (footnoteDiv.length == 1) {\n      return footnoteDiv[0];\n    }\n    if(footnoteDiv.length > 1) {\n      console.error(\"Multiple footers present.\");\n      return null;\n    }\n\n    let footer = editor.dom.add(editor.getBody(), 'div', {class: 'footnote footnote-footer'}, '');\n    return footer;\n  }\n\n  function createFootnote(data) {\n    data.id = uuid();\n    let refHTML = `<span class=\"footnote footnote-ref\" data-custom-style=\"Footnote Reference\" id=\"footnote-${data.id}-ref\">${data.mark}</span>`;\n    let bodyNode = editor.dom.createFragment(`<div class=\"footnote footnote-body\" id=\"footnote-${data.id}\"><p><span class=\"footnote-label\" data-extra-export-offset=\"2\" data-custom-style=\"Footnote Text\" contenteditable=\"false\">${data.mark}</span>${data.footnote}</p></div>`);\n\n    let footer = getFooter();\n    footer.appendChild(bodyNode);\n    editor.execCommand(\"mceInsertContent\", false, refHTML);\n  }\n\n  function updateFootnote(data) {\n    let {refNode, bodyNode} = getFootnoteNodePair(data.id);\n    refNode.innerText = data.mark;\n    let bodyContent = editor.dom.createFragment(`<p><span class=\"footnote-label\" data-extra-export-offset=\"2\" data-custom-style=\"Footnote Text\" contenteditable=\"false\">${data.mark}</span>${data.footnote}</p>`);\n    while(bodyNode.firstChild) {bodyNode.firstChild.remove();}\n    bodyNode.appendChild(bodyContent);\n  }\n\n  function getFootnoteData(id) {\n    let {refNode, bodyNode} = getFootnoteNodePair(id);\n    let mark = refNode.innerText;\n    let redundantMark = bodyNode.firstChild.firstChild.innerText;\n    let footnote = bodyNode.innerText.substr(redundantMark.length).trim();\n    return {mark, footnote, id};\n  }\n\n  function getFootnoteId(node) {\n    let htmlID = node.id || node.parentElement.id;\n    if(htmlID) {\n      return htmlID.substr(9,36);\n    }\n    return null;\n  }\n\n  function openDialog() {\n    let currentNode = editor.selection.getNode();\n    let isEditingNode = isFootnote(currentNode);\n    let nextFootnote = editor.dom.$(\".footnote-ref\").length + 1;\n    let currentData = {mark: \"\"+nextFootnote, footnote: \"\"};\n\n    if(isEditingNode) {\n      let id = getFootnoteId(currentNode);\n      currentData = getFootnoteData(id);\n    }\n    editor.windowManager.open({\n      title: 'Footnote',\n      size: 'normal',\n      body: {\n        type: 'panel',\n        items : [\n          {\n            label: 'Mark',\n            type: 'input',\n            name: 'mark'\n          },\n          {\n            label: 'Footnote',\n            type:'textarea',\n            name: 'footnote',\n            multiline: true,\n            minWidth: 520,\n            minHeight: 100,\n          }\n        ],\n      },\n      buttons: [\n        {\n          type: 'cancel',\n          name: 'cancel',\n          text: 'Cancel'\n        },\n        {\n          type: 'submit',\n          name: 'save',\n          text: 'Save',\n          primary: true\n        },\n        {\n          type: 'custom',\n          name: 'delete',\n          text: 'Delete'\n        }\n      ],\n      initialData: currentData,\n      onSubmit: function (dialog) {\n        let data = dialog.getData();\n        if (isEditingNode) {\n          data.id = currentData.id;\n          updateFootnote(data);\n        } else {\n          createFootnote(data);\n        }\n        dialog.close();\n      },\n      onCancel: function(dialog) {\n        dialog.close();\n      },\n      onAction: function(dialog, details) {\n        if (details && details.name == \"delete\") {\n          let {refNode, bodyNode} = getFootnoteNodePair(currentData.id);\n          refNode.remove();\n          bodyNode.remove();\n        }\n        dialog.close();\n      }\n    });\n  }\n\n  var Dialog = { open: openDialog };\n\n  editor.ui.registry.addToggleButton('footnote', {\n    text: 'Footnote',\n    tooltip : 'Footnote',\n    onAction: function () {\n      return editor.execCommand('openFootnote');\n    }\n  });\n  editor.ui.registry.addMenuItem('footnote', {\n    text: 'Footnote',\n    onAction: function () {\n      return editor.execCommand('openFootnote');\n    }\n  });\n  editor.addCommand('openFootnote', function () {\n    Dialog.open(editor);\n  });\n\n  editor.on(\"NodeChange\", function(e) {\n    footnoteIntegrity();\n  });\n}\n\n\n\nexport function getInitConfig(selector, enhanced, code) {\n\n  const semanticStyles = 'img[alt=\"\"] {outline: 4px solid red;}.footnote-ref {font-size: 16px;vertical-align: super;}.footnote-body {margin-left: 2rem;}.footnote-label {float:left;margin-left:-1rem;} .footnote-label::after{content: \".\";} .footnote-footer {border-top: 1px solid black;clear:both;}.image-center-large{width:80%;object-fit:contain;margin:0auto;display:block;}.image-center-medium{width:50%;object-fit:contain;margin:0 auto;display:block;}.image-left-medium{width:50%;object-fit:contain;margin:0 2rem;float:left;display:block;}.image-right-medium{width:50%;object-fit:contain;margin:0 2rem;float:right;display:block;}';\n\n  let plugins = ['link', 'lists', 'image', 'table', 'paste'];\n  // toolbar options: https://www.tiny.cloud/docs/advanced/editor-control-identifiers/#toolbarcontrols\n\n  let toolbar = 'undo redo removeformat | styleselect | h1 h2 | bold italic underline | numlist bullist indent outdent | table blockquote link image removeformat';\n  if (enhanced) {\n    toolbar += ' media footnote | checkAlly';\n    plugins.push('media');\n  }\n  if (code){\n    plugins.push('code');\n    toolbar += ' | code';\n  }\n\n  let extend_valid_elements = [['div', ['class', 'title', 'style', 'tabindex', 'id', 'class', 'data-custom-style']],\n                               ['span', ['class', 'title', 'style', 'tabindex', 'id', 'class', 'data-custom-style'],\n                                ['img', ['class', 'alt', 'title', 'id', 'data-custom-style']]]]\n      .map(x => `${x[0]}[${x[1].join('|')}]`)\n      .join(',');\n\n  let image_class_list = [{title: 'Large centered', value: 'image-center-large'},\n                          {title: 'Center aligned', value: 'image-center-medium'},\n                          {title: 'Left aligned', value: 'image-left-medium'},\n                          {title: 'Right aligned', value: 'image-right-medium'}\n                         ];\n  let config = {\n    height:'25vh',\n    plugins: plugins,\n    skin_url: '/static/tinymce_skin',\n    content_style: semanticStyles,\n    menubar: false,\n    branding: false,\n    toolbar: toolbar,\n    image_uploadtab: enhanced,\n    images_upload_handler: handleImageUpload,\n    images_upload_credentials: true,\n    image_dimensions: false,\n    image_class_list: image_class_list,\n    automatic_uploads: true,\n    contextmenu_never_use_native: false,\n    contextmenu:false,\n    paste_auto_cleanup_on_paste : true,\n    paste_remove_styles: true,\n    paste_remove_styles_if_webkit: true,\n    paste_strip_class_attributes: \"all\",\n    media_dimensions: false,\n    extended_valid_elements: extend_valid_elements,\n    setup: (editor) => {\n      if (enhanced) {\n        installFootnotes(editor);\n        checkAllyShip(editor);\n        imageAltContextForm(editor);\n      }\n    }\n  };\n\n  if (selector) {\n    config.selector = selector;\n  }\n  return config;\n}\n","\nexport function getQueryStringDict(){\n  let queryString = window.location.search.substring(1);\n  if (queryString){\n      let queryDict = {};\n      let queries = queryString.split(\"&\");\n      queries.forEach((query) =>{\n        let split = query.split('=');\n        queryDict[split[0]] = split[1];\n      })\n      return queryDict;\n  } else {\n      return {};\n  }\n}\n\n// from https://docs.djangoproject.com/en/2.2/ref/csrf/#ajax\nfunction getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\nexport function get_csrf_token(){\n  // For now, separate handling of csrf in the Rails and Django apps.\n  const rails_csrf_el = document.querySelector('meta[name=csrf-token]');\n  const django_csrftoken = getCookie('csrftoken');\n  let csrf_token = undefined;\n  if (rails_csrf_el){\n    csrf_token = rails_csrf_el.getAttribute('content');\n  } else if (django_csrftoken){\n    csrf_token = django_csrftoken;\n  }\n  return csrf_token;\n}\n","import AxiosConfig from \"axios\";\nimport {get_csrf_token} from 'legacy/lib/helpers';\n\nlet headers = {\"Content-Type\": \"application/json\",\n               \"Accept\": \"application/json\"};\nconst csrf_token = get_csrf_token();\nif(csrf_token) headers[\"X-CSRF-Token\"] = csrf_token;\n\nconst Axios = AxiosConfig.create({headers: headers});\n\n// Add method override to request\nAxios.interceptors.request.use(config => {\n  const method = config.method.toUpperCase();\n  if ([\"PUT\", \"DELETE\", \"PATCH\"].includes(method)) {\n    config.headers = {\n      ...config.headers,\n      [\"X-HTTP-Method-Override\"]: method,\n    };\n    config.method = \"post\";\n  }\n  return config;\n});\n\nexport default Axios;\n","import tinymce from 'tinymce/tinymce';\nwindow.tinymce = tinymce;\nimport 'tinymce/themes/silver';\nimport 'tinymce/icons/default';\nimport 'tinymce/plugins/link';\nimport 'tinymce/plugins/lists';\nimport 'tinymce/plugins/image';\nimport 'tinymce/plugins/table';\nimport 'tinymce/plugins/code';\nimport 'tinymce/plugins/paste';\nimport 'tinymce/plugins/media';\nimport 'tinymce/plugins/noneditable';\nimport {getInitConfig} from '../libs/tinymce_extensions';\n\nconst ENHANCED = window.VERIFIED || window.SUP;\n\nfunction initRichTextEditor(element, code=false) {\n  // Vue rebuilds the whole dom in between the call to init and tinymce actually doing the init\n  // so we use a selector here until we use vue to init tinymce\n  const selector=`${element.type}#${element.id}`;\n  let config = getInitConfig(selector, ENHANCED, code);\n\n  return tinymce.init(config);\n}\n\nfor (const textArea of document.querySelectorAll('.richtext-editor'))\n  initRichTextEditor(textArea);\n\nfor (const textArea of document.querySelectorAll('.richtext-editor-src'))\n  initRichTextEditor(textArea, true);\n\nglobal.initRichTextEditor = initRichTextEditor;\n"],"sourceRoot":""}