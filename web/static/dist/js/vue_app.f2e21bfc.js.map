{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./frontend/components/TheResourceBody.vue?79a9","webpack:///./frontend/libs/urls.js","webpack:///./frontend/components/ContextMenu.vue?841f","webpack:///./frontend/components/CaseResults.vue?4143","webpack:///./frontend/components/SectionCloner.vue?e88b","webpack:///./frontend/components/SideMenu.vue?db28","webpack:///./frontend/components/TableOfContents/EntryTransmuter.vue?744f","webpack:///./frontend/legacy/lib/helpers.js","webpack:///./frontend/components/SpacePreserver.vue?163a","webpack:///./frontend/components/QuickAdd.vue?0932","webpack:///./frontend/components/CollapseTriangle.vue?3557","webpack:///./frontend/components/AuditButton.vue?aac7","webpack:///frontend/components/PublishButton.vue","webpack:///./frontend/config/axios.js","webpack:///./frontend/components/Dashboard.vue?1bd0","webpack:///./frontend/components/CaseSearcher.vue?6f8b","webpack:///./frontend/components/AnnotationHandle.vue?6de5","webpack:///./frontend/components/AddContent.vue?4031","webpack:///./frontend/directives/selectionchange.js","webpack:///./frontend/components/AddContent.vue?46d3","webpack:///./frontend/components/CaseSearcher.vue?4af3","webpack:///./frontend/libs/text_outline_parser.js","webpack:///frontend/components/CaseSearcher.vue","webpack:///./frontend/components/CaseSearcher.vue?cc6d","webpack:///./frontend/components/CaseSearcher.vue","webpack:///./frontend/components/CaseResults.vue?5000","webpack:///./frontend/components/LoadingSpinner.vue?00b2","webpack:///./frontend/components/LoadingSpinner.vue","webpack:///frontend/components/CaseResults.vue","webpack:///./frontend/components/CaseResults.vue?a38e","webpack:///./frontend/components/CaseResults.vue","webpack:///./frontend/components/TinyMCEEditor.vue?370d","webpack:///frontend/components/TinyMCEEditor.vue","webpack:///./frontend/components/TinyMCEEditor.vue?cd3e","webpack:///./frontend/components/TinyMCEEditor.vue","webpack:///frontend/components/AddContent.vue","webpack:///./frontend/components/AddContent.vue?5a0b","webpack:///./frontend/components/AddContent.vue","webpack:///./frontend/components/AuditButton.vue?3ae7","webpack:///./frontend/components/PublishButton.vue?c6e0","webpack:///./frontend/components/PublishButton.vue?0ab5","webpack:///./frontend/components/PublishButton.vue","webpack:///frontend/components/AuditButton.vue","webpack:///./frontend/components/AuditButton.vue?bfae","webpack:///./frontend/components/AuditButton.vue","webpack:///./frontend/components/Dashboard.vue?08af","webpack:///./frontend/components/Dashboard/Casebook.vue?4a5c","webpack:///frontend/components/Dashboard/Casebook.vue","webpack:///./frontend/components/Dashboard/Casebook.vue?ab95","webpack:///./frontend/components/Dashboard/Casebook.vue","webpack:///frontend/components/Dashboard.vue","webpack:///./frontend/components/Dashboard.vue?75c6","webpack:///./frontend/components/Dashboard.vue","webpack:///./frontend/components/Globals.vue?6af9","webpack:///frontend/components/Globals.vue","webpack:///./frontend/components/Globals.vue?2212","webpack:///./frontend/components/Globals.vue","webpack:///./frontend/components/QuickAdd.vue?8d00","webpack:///frontend/components/QuickAdd.vue","webpack:///./frontend/components/QuickAdd.vue?0a50","webpack:///./frontend/components/QuickAdd.vue","webpack:///./frontend/components/ResourceTypePicker.vue?40fb","webpack:///frontend/components/ResourceTypePicker.vue","webpack:///./frontend/components/ResourceTypePicker.vue?750f","webpack:///./frontend/components/ResourceTypePicker.vue","webpack:///./frontend/components/SectionCloner.vue?710b","webpack:///frontend/components/SectionCloner.vue","webpack:///./frontend/components/SectionCloner.vue?9b8e","webpack:///./frontend/components/SectionCloner.vue","webpack:///./frontend/components/TakeNotesCloner.vue?e908","webpack:///frontend/components/TakeNotesCloner.vue","webpack:///./frontend/components/TakeNotesCloner.vue?af41","webpack:///./frontend/components/TakeNotesCloner.vue","webpack:///./frontend/components/TheResource.vue?3ec3","webpack:///./frontend/libs/html_helpers.js","webpack:///./frontend/libs/resource_node_parsing.js","webpack:///./frontend/components/SpacePreserver.vue?2eb8","webpack:///frontend/components/SpacePreserver.vue","webpack:///./frontend/components/SpacePreserver.vue?4eec","webpack:///./frontend/components/SpacePreserver.vue","webpack:///./frontend/components/ElisionAnnotation.vue?49f3","webpack:///./frontend/components/AnnotationBase.vue?0430","webpack:///./frontend/components/AnnotationHandle.vue?17f6","webpack:///./frontend/components/ContextMenu.vue?da7f","webpack:///frontend/components/ContextMenu.vue","webpack:///./frontend/components/ContextMenu.vue?c9ab","webpack:///./frontend/components/ContextMenu.vue","webpack:///./frontend/store/modules/annotations_ui.js","webpack:///frontend/components/AnnotationHandle.vue","webpack:///./frontend/components/AnnotationHandle.vue?3d0e","webpack:///./frontend/components/AnnotationHandle.vue","webpack:///frontend/components/AnnotationBase.vue","webpack:///./frontend/components/AnnotationBase.vue?463a","webpack:///./frontend/components/AnnotationBase.vue","webpack:///./frontend/components/AnnotationExpansionToggle.vue?4212","webpack:///frontend/components/AnnotationExpansionToggle.vue","webpack:///./frontend/components/AnnotationExpansionToggle.vue?6ce9","webpack:///./frontend/components/AnnotationExpansionToggle.vue","webpack:///frontend/components/ElisionAnnotation.vue","webpack:///./frontend/components/ElisionAnnotation.vue?19b1","webpack:///./frontend/components/ElisionAnnotation.vue","webpack:///./frontend/components/ReplacementAnnotation.vue?a5a8","webpack:///./frontend/components/SideMenu.vue?b0c6","webpack:///frontend/components/SideMenu.vue","webpack:///./frontend/components/SideMenu.vue?629c","webpack:///./frontend/components/SideMenu.vue","webpack:///frontend/components/ReplacementAnnotation.vue","webpack:///./frontend/components/ReplacementAnnotation.vue?0ce4","webpack:///./frontend/components/ReplacementAnnotation.vue","webpack:///./frontend/components/HighlightAnnotation.vue?271e","webpack:///frontend/components/HighlightAnnotation.vue","webpack:///./frontend/components/HighlightAnnotation.vue?4503","webpack:///./frontend/components/HighlightAnnotation.vue","webpack:///./frontend/components/LinkAnnotation.vue?c1eb","webpack:///./frontend/components/LinkInput.vue?69d2","webpack:///frontend/components/LinkInput.vue","webpack:///./frontend/components/LinkInput.vue?ed93","webpack:///./frontend/components/LinkInput.vue","webpack:///frontend/components/LinkAnnotation.vue","webpack:///./frontend/components/LinkAnnotation.vue?692a","webpack:///./frontend/components/LinkAnnotation.vue","webpack:///./frontend/components/NoteAnnotation.vue?dfe5","webpack:///frontend/components/NoteAnnotation.vue","webpack:///./frontend/components/TheResourceBody.vue","webpack:///./frontend/components/NoteAnnotation.vue?d1c7","webpack:///./frontend/components/NoteAnnotation.vue","webpack:///./frontend/components/CorrectionAnnotation.vue?097e","webpack:///frontend/components/CorrectionAnnotation.vue","webpack:///./frontend/components/CorrectionAnnotation.vue?8573","webpack:///./frontend/components/CorrectionAnnotation.vue","webpack:///./frontend/components/FootnoteLink.vue?703c","webpack:///frontend/components/FootnoteLink.vue","webpack:///./frontend/components/FootnoteLink.vue?4621","webpack:///./frontend/components/FootnoteLink.vue","webpack:///frontend/components/TheResourceBody.vue","webpack:///./frontend/components/TheResourceBody.vue?ef65","webpack:///./frontend/components/TheAnnotator.vue?7782","webpack:///frontend/components/TheAnnotator.vue","webpack:///./frontend/components/TheAnnotator.vue?b3f9","webpack:///./frontend/components/TheAnnotator.vue","webpack:///./frontend/components/TheGlobalElisionExpansionButton.vue?7a43","webpack:///frontend/components/TheGlobalElisionExpansionButton.vue","webpack:///./frontend/components/TheGlobalElisionExpansionButton.vue?f853","webpack:///./frontend/components/TheGlobalElisionExpansionButton.vue","webpack:///frontend/components/TheResource.vue","webpack:///./frontend/components/TheResource.vue?ffdc","webpack:///./frontend/components/TheResource.vue","webpack:///./frontend/components/TheTableOfContents.vue?4aee","webpack:///./frontend/components/TableOfContents/PlaceHolder.vue?ce2a","webpack:///frontend/components/TableOfContents/PlaceHolder.vue","webpack:///./frontend/components/TableOfContents/PlaceHolder.vue?e12e","webpack:///./frontend/components/TableOfContents/PlaceHolder.vue","webpack:///./frontend/components/TableOfContents/Entry.vue?54db","webpack:///./frontend/components/TableOfContents/EntryAuditor.vue?4e98","webpack:///frontend/components/TableOfContents/EntryAuditor.vue","webpack:///./frontend/components/TableOfContents/EntryAuditor.vue?a503","webpack:///./frontend/components/TableOfContents/EntryAuditor.vue","webpack:///./frontend/components/TableOfContents/EntryTransmuter.vue?1459","webpack:///frontend/components/TableOfContents/EntryTransmuter.vue","webpack:///./frontend/components/TableOfContents/EntryTransmuter.vue?0b1f","webpack:///./frontend/components/TableOfContents/EntryTransmuter.vue","webpack:///./frontend/components/CollapseTriangle.vue?6de7","webpack:///frontend/components/CollapseTriangle.vue","webpack:///./frontend/components/CollapseTriangle.vue?a542","webpack:///./frontend/components/CollapseTriangle.vue","webpack:///frontend/components/TableOfContents/Entry.vue","webpack:///./frontend/components/TableOfContents/Entry.vue?f7d0","webpack:///./frontend/components/TableOfContents/Entry.vue","webpack:///frontend/components/TheTableOfContents.vue","webpack:///./frontend/components/TheTableOfContents.vue?3355","webpack:///./frontend/components/TheTableOfContents.vue","webpack:///./frontend/store/modules/annotations.js","webpack:///./frontend/store/modules/footnotes_ui.js","webpack:///./frontend/store/modules/resources_ui.js","webpack:///./frontend/store/modules/table_of_contents.js","webpack:///./frontend/store/modules/case_search.js","webpack:///./frontend/store/modules/globals.js","webpack:///./frontend/store/index.js","webpack:///./frontend/pages/vue_app.js","webpack:///./frontend/components/ReplacementAnnotation.vue?5e30","webpack:///./frontend/components/PublishButton.vue?c980","webpack:///./frontend/components/HighlightAnnotation.vue?efd7","webpack:///./frontend/components/TheAnnotator.vue?b1d9","webpack:///./frontend/components/Dashboard/Casebook.vue?fbab","webpack:///./frontend/components/LinkAnnotation.vue?95c6","webpack:///./frontend/components/TableOfContents/EntryAuditor.vue?c699","webpack:///./frontend/components/TheGlobalElisionExpansionButton.vue?d769","webpack:///./frontend/components/Modal.vue?77af","webpack:///frontend/components/Modal.vue","webpack:///./frontend/components/Modal.vue?cfe6","webpack:///./frontend/components/Modal.vue","webpack:///./frontend/components/TheTableOfContents.vue?c381","webpack:///./frontend/components/NoteAnnotation.vue?ebec","webpack:///./frontend/components/Modal.vue?93b5","webpack:///./frontend/components/ElisionAnnotation.vue?73e8","webpack:///./frontend/components/TakeNotesCloner.vue?8fc8","webpack:///./frontend/components/AnnotationExpansionToggle.vue?086a","webpack:///./frontend/components/LoadingSpinner.vue?5d90","webpack:///./frontend/components/ResourceTypePicker.vue?3d75","webpack:///./frontend/components/TableOfContents/Entry.vue?a51b","webpack:///./frontend/components/CorrectionAnnotation.vue?9722","webpack:///./frontend/components/TheResource.vue?f4be"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","url","urlName","arr","FRONTEND_URLS","console","error","urlParts","params","map","part","_","substr","join","matcher","RegExp","location","origin","x","reverser","path","split","ret","zip","forEach","template","actual","getCookie","cookieValue","document","cookie","cookies","trim","substring","decodeURIComponent","get_csrf_token","rails_csrf_el","querySelector","django_csrftoken","csrf_token","undefined","getAttribute","jQuery","components","Modal","props","disabled","publishCheck","showModal","csrftoken","liCheck","text","val","computed","casebook","methods","attemptPublish","this","cancelPublish","confirmPublish","content_casebook","public","Axios","handleSubmitResponse","errors","handleSubmitErrors","response","headers","AxiosConfig","interceptors","request","use","config","method","toUpperCase","includes","handlers","WeakMap","prev_in_el","Vue","directive","inserted","el","binding","set","evt","sel","getSelection","in_el","contains","anchorNode","lost_focus","addEventListener","unbind","removeEventListener","delete","_vm","_h","$createElement","_c","_self","staticClass","on","$event","stopPropagation","preventDefault","displayModal","_v","attrs","focusTarget","slot","class","active","caseTab","setTab","textTab","linkTab","selectCase","model","callback","$$v","caseQueryObj","expression","ref","submitTextForm","directives","rawName","domProps","target","composing","textTitle","_s","message","_e","content","textContent","pendingSubmit","submitLinkForm","linkTarget","staticRenderFns","staticStyle","searchLabel","passThrough","runCaseSearch","arguments","showingLimits","hideLimits","$$selectedVal","Array","filter","options","selected","_value","searchLimit","multiple","_l","source","id","long_description","jurisdiction","reformatDates","after_date","before_date","showLimits","enumeration_stop_prefixes","arabic","test","level","parseInt","roman","roman_to_int","letter","string","enumeration_prefix_identifier","cuckoo_starts","enumeration_delimiter","enumeration_identification","line","candidate","prefix_check","toLowerCase","top","match","numeral_stack","title","stop","startsWith","prefixes","exec","prefix","fromPairs","toPairs","pop","suffix_length","char_to_int","pre","curr","num","charAt","guess_line_depth","lines","guess","frontier","guessed_lines","to_depth","front","smallest_numeral","en","minBy","check_for_match","check","cond","test_frontier","top_test","top_type","keys","guess_a_line","new_line","enum","blank","last_frontier","depth","warn","some","values","exact_expected","f","last","approx_expected","last_key","ind","pick","gal","linkLike","looksLikeLink","str","extractLink","grabLink","looksLikeSelfLink","indexOf","findSelfLinkMatch","urlFns","urls","cands","u","sourceMatches","search_regexes","regex","fuzzy","resource_type","display_type","query","guessLineType","sources","sms","matches","guesses","flatten","has","resource_id","caseId","casebookId","sectionId","resourceId","sectionOrd","resourceOrd","userSlug","titleSlug","ordSlug","cleanDocLines","merged_lines","enumerated_lines","deep_lines","structureOutline","getPath","node","rest","children","root","type","stats","ii","previous_depth","next_depth","currentNode","lineGuess","hasChildren","merge","omit","parent","jurisdictions","chosenSource","overrideSource","watch","mapActions","updateValue","completeDates","v","k","year","month","day","iMonth","$emit","newValue","searchQ","fetchForSource","queryObj","fetchForAllSources","emitCancel","emitChoice","guessSource","getSources","sourceIndex","newVal","cleaned","pickBy","mapGetters","displayedSearchLabel","cleanQuery","mounted","component","searchResults","_m","fullName","shortName","fullCitations","shortCitations","effectiveDate","sourceName","script","LoadingSpinner","delayedObj","getSearch","internalToggleSource","toggleSource","source_id","taID","editor","editorInstance","self","beforeDestroy","CaseSearcher","CaseResults","currentTab","$refs","case_search","text_body","link_body","docImportUrl","docAddUrl","properType","sectionType","tryFocus","tries","$nextTick","newTab","caseQuery","fetch","submitCaseForm","formData","sourceId","noSave","save","allNodesSpecified","startAudit","PublishButton","autoAudited","form","bulkAddUrl","slowSearches","nodes","popAndSearch","setTimeout","inAuditMode","auditStep","$store","dispatch","then","behavior","subsection","allSearchResults","from","to","currentAuditId","getters","commit","needingAudit","section","allNodesNeedingSearch","allNodes","finalizingGroup","createGroup","selectedCoAuthors","newGroupTitle","newGroupCurrent","user","newPublicUrl","takenTitle","pronouns","personal_site","short","bio","short_bio","managingCasebooks","startManagement","canArchive","archiveCasebooks","activateHelp","archiveHelp","deactivateHelp","canUngroup","unTitle","ungroupHelp","canGroup","finalizeGroup","groupHelp","stopManagement","currentHelp","selectedCasebooks","titleUrl","canAddToGroup","addToTitle","activateTitleHelp","addToGroupHelp","deactivateTitleHelp","canSetCurrent","setCurrent","setCurrentTitleHelp","deleteTitle","titleHelp","current","outDated","casebooks","expandTitle","isArray","selectionIndirection","_i","$$a","$$el","$$c","checked","$$i","concat","clickAction","tag","outerUrl","selectBook","is_archived","is_public","displayState","cover_image","subtitle","attributed","authors","author","verified_professor","attribution","has_draft","user_editable","draft_url","Casebook","currentTitleHelp","currentTitleHelpId","titles","allTitleUrls","uniqueSelection","hasTitledCasebooks","slugifyNewTitle","titledCasebookSelected","allCasebooks","resetManagement","isSelected","handleTitlePostResponse","newTitle","handleTitleCreateErrors","handleArchiveResponse","selectionWithinTitle","updateTitle","emptyTitles","truncatedTitles","defaultCurrent","handleTitleDeleteResponse","handleTitleDeleteError","removeCasebooks","casebookArray","index","removeFromArray","handleTitleUpdateResponse","freedCasebooks","handleTitleUpdateError","created","setCasebook","setSection","searchSources","setSources","searchStore","handleSubmit","handlePaste","resource_info","option","waitingFor","resource_info_options","unWait","globals","search","totalIdentified","reduce","lineInfo","desiredOrdinal","ordinalGuess","uniqBy","newOptions","optionsWithoutCloning","resetForm","manualResourceType","nodeData","postData","post","handleSuccess","newToc","handleFailure","pasted","searchForCase","caseSearchDelay","cap_id","h2o_case_id","sectionSource","cb","form_target","casebookTargets","collapsible","resource","BLOCK_LEVEL_ELEMENTS","isBlockLevel","tagName","isElement","nodeType","ELEMENT_NODE","isText","TEXT_NODE","getLength","getAttrsMap","nodelist","attributes","attrmap","getClosestElement","parentNode","getOffsetWithinParent","child","accept","acceptNode","NodeFilter","FILTER_ACCEPT","FILTER_REJECT","walker","createTreeWalker","SHOW_ALL","continueCondition","offset","nextNode","kindToComponent","kind","elide","replace","isFootnoteLink","Boolean","hash","pathname","getTagName","array","nodeToTuple","prevEnd","nodesToTuples","parentStart","tuples","splitTextAt","breakpoints","start","end","breakpoint","prevNode","prevStart","splitText","annotateAndConvertToVNodes","h","annotations","insertAnnotations","tupleToVNode","sequentialInlineNodesWithinRange","inRange","firstBlock","findIndex","groupIntoAnnotation","prevTuple","annotation","childTuples","end_offset","createElement","setAttribute","startOffset","endOffset","isHead","used","a","modifiedTuples","tuple","idx","orgTuples","obj","start_offset","sort","b","annotationBreakpoints","splitNodeList","nodeList","isFullyElided","isString","endsWith","classList","is","childNodes","presentChildren","every","uiState","_t","isTail","expanded","toggleExpansion","destroy","style","right","offsetRight","menu","open","onFocusout","onClick","closeOnClick","default","closeOnScroll","offsetParent","leftPadding","leftSib","left","show","addScrollEventListener","e","close","event","positionMenu","removeScrollEventListener","oldValue","COLLAPSIBLE_KINDS","Y_FIDELITY","state","all","getById","find","getByKind","rootState","rootGetters","kinds","getByHeadY","headY","Math","max","abs","areAllExpanded","allExpanded","actions","payload","vals","toggleAllExpansions","expandById","mutations","append","update","assign","namespaced","ContextMenu","required","updateHeadY","newHeadY","updated","AnnotationHandle","expandedDefault","isNew","sign","isEditable","hasHandle","createAndUpdate","_k","keyCode","extends","AnnotationExpansionToggle","head","tail","addTailClass","scopedSlots","_u","fn","proxy","arg","revert","submit","blur","isModified","replacementText","SideMenu","newVals","mapUIActions","innerText","focus","editMenu","submitUpdate","focusOut","LinkInput","linkInput","handleClick","editNote","isEditing","noteSubmitButton","click","preventScroll","input","dismissNote","noteInput","correctionText","$attrs","siblingId","href","enclosingAnnotationIds","relatedAnnotationIds","annotationIds","SpacePreserver","ElisionAnnotation","ReplacementAnnotation","HighlightAnnotation","LinkAnnotation","NoteAnnotation","CorrectionAnnotation","FootnoteLink","body","render","topDistance","ranges","selection","min","targetRect","wrapperRect","viewportTop","toString","dataset","hasValidRanges","offsets","sp","ep","tempId","floor","random","contributesToOffsets","Node","closest","selectionchange","createNamespacedHelpers","TheResourceBody","TheAnnotator","TheGlobalElisionExpansionButton","editable","selectionchangeHandler","annotator","editing","toc","tocCollapsed","toggleToc","canMove","collapsedSections","moveSubsection","item","rootOrdinalDisplay","modifiers","showDelete","animated","dimmed","anchor","is_instructional_material","ordinal_string","citation","decision_date","auditThisCase","is_transmutable","confirmDeletion","cancelDeletion","markForDeletion","collapsed","toggleSectionExpanded","audit","searchOptions","rootNode","edit_url","selectText","extraErrorHandler","changeType","refreshTOC","EntryAuditor","EntryTransmuter","VueNestableHandle","CollapseTriangle","autoSpecifyCandidate","needsToSpecifyCase","animationState","animatingLoading","animatingLoaded","isResource","url_parts","isLegalDoc","dismissAudit","deleteNode","targetId","VueNestable","Placeholder","Entry","needsDeleteConfirmation","rootOrdinals","shuffle","dataReady","waitForID","getElementById","attempts","mapMutations","pathTo","res_path","findIn","tree","candidates","moveNode","moverId","collapseToc","ids","expandToc","helpers","resourcePath","getCount","getStartingAtOrAfter","getSpanningOffsets","getWithinOffsets","list","resp","patch","register","getEditability","setEditability","augments","augmentNode","traits","addCSSClass","cls","cssClasses","removeCSSClass","addFlag","flagName","removeFlag","flatFilter","filterFn","dive","flatMap","pruneFilter","firstMatching","pred","identity","findPath","nextPath","findNode","matchingNode","trees","auditIDs","isTemp","collapsedIDs","isCollapsed","openIDs","isOpen","topLevelIDs","augmentNodes","base","getNode","auditTargets","collapsedNodes","openNodes","topLevelNodes","collapseNode","expandNode","setLoaded","setAudit","removeAudit","overwrite","deleteRecursive","childStream","modifyAugment","modifyFn","toUpdate","updatedNode","revealNode","toggleCollapsed","collapseAll","expandAll","currentAudits","clearAudit","slowMerge","notInPreviousTree","newNodes","delayGap","sourcesURL","searchUsingURL","searches","normalize","encodeQuery","encodeURI","qKey","unRun","results","groupBy","allDisabled","allCompleted","allPending","mixedResults","status","emptyResults","search_regex","setPending","setDisabled","scrub","initializeSearch","toggleSourceEnabled","enabled","hasIn","searchUrlRoot","fetchSources","timeOutSearch","searchTimeout","setAuditMode","Vuex","debug","process","Store","annotations_ui","footnotes_ui","resources_ui","table_of_contents","strict","plugins","createLogger","VueRouter","productionTip","contenteditableDirective","library","add","faCheck","faXmark","FontAwesomeIcon","routes","TheResource","router","app","store","SectionCloner","TakeNotesCloner","AddContent","TheTableOfContents","PortalVue","QuickAdd","ResourceTypePicker","Globals","AuditButton","Dashboard","sentry","USE_SENTRY","log","Sentry","dsn","DSN","environment","ENVIRONMENT","tracesSampleRate","TRACES_SAMPLE_RATE","hasFocusTarget","wrappedFocus","currentTarget","FocusTrap","initialFocus","onKey","nm"],"mappings":"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","file":"js/vue_app.f2e21bfc.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"vue_app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([4,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheResourceBody.vue?vue&type=style&index=0&id=1b62bdcc&lang=scss&scoped=true&\"","import _ from 'lodash';\n\nfunction url(urlName) {\n    const arr = FRONTEND_URLS[urlName];\n    if (!arr) {\n        console.error(`${urlName} not present in FRONTEND_URLS`);\n        return false;\n    }\n    const urlParts = arr;\n    return (params) => {\n        return '/' + urlParts.map(part => _.get(params, part.substr(1), part)).join(\"/\");\n    };\n}\n\nfunction matcher(urlName) {\n    const arr = FRONTEND_URLS[urlName];\n    if (!arr) {\n        console.error(`${urlName} not present in FRONTEND_URLS`);\n        return false;\n    }\n    return new RegExp('^'+ location.origin + '/' + _.map(arr, x => x.length > 0 && x[0] === '_' ? '[^/]*' : x).join(\"/\") + '$');\n}\n\nfunction reverser(urlName) {\n    const arr = FRONTEND_URLS[urlName];\n    if (!arr) {\n        console.error(`${urlName} not present in FRONTEND_URLS`);\n        return false;\n    }\n    return (url) => {\n        let path = url.split('/').splice(3);\n        let ret = {};\n        _.zip(arr,path).forEach(([template, actual]) => {\n            if (template.length > 0 && template[0] === \"_\") {\n                let key = template.substr(1);\n                ret[key] = actual;\n            }\n        });\n        return ret;\n    };\n}\n\nexport default { url, matcher, reverser };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseResults.vue?vue&type=style&index=0&id=57d7b90d&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionCloner.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=style&index=0&id=66587456&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryTransmuter.vue?vue&type=style&index=0&id=20c1b9bd&lang=scss&scoped=true&\"","\nexport function getQueryStringDict(){\n  let queryString = window.location.search.substring(1);\n  if (queryString){\n      let queryDict = {};\n      let queries = queryString.split(\"&\");\n      queries.forEach((query) =>{\n        let split = query.split('=');\n        queryDict[split[0]] = split[1];\n      })\n      return queryDict;\n  } else {\n      return {};\n  }\n}\n\n// from https://docs.djangoproject.com/en/2.2/ref/csrf/#ajax\nfunction getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\nexport function get_csrf_token(){\n  // For now, separate handling of csrf in the Rails and Django apps.\n  const rails_csrf_el = document.querySelector('meta[name=csrf-token]');\n  const django_csrftoken = getCookie('csrftoken');\n  let csrf_token = undefined;\n  if (rails_csrf_el){\n    csrf_token = rails_csrf_el.getAttribute('content');\n  } else if (django_csrftoken){\n    csrf_token = django_csrftoken;\n  }\n  return csrf_token;\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacePreserver.vue?vue&type=style&index=0&id=5ff42c12&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuickAdd.vue?vue&type=style&index=0&id=2b058145&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapseTriangle.vue?vue&type=style&index=0&id=52227b04&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuditButton.vue?vue&type=style&index=0&lang=scss&\"","<template>\n  <div id=\"publish-button\">\n    <button type=\"button\" \n            class=\"action publish one-line\" \n            :disabled=\"disabled\"\n            :title=\"disabled ? 'Some resources are incomplete. Finalize Entries below.' : 'Publish'\"\n            @click=\"attemptPublish\">\n            Publish\n    </button>\n    <Modal v-if=\"showModal\" @close=\"showModal = false\">\n      <template slot=\"title\">Confirm Publish</template>\n      <template slot=\"body\">\n        <p>Are you ready to publish your book?</p>\n        \n        <div v-if=publishCheck.isVerifiedProfessor id=\"prof-prompt\">\n          You're almost ready to publish your book! The following elements are\n          optional, but can make your book more discoverable by students and\n          colleagues:\n          <ul class=\"fa-ul\">\n            <li v-if=\"this.publishCheck.coverImageFlag\">\n              <span v-if=\"this.publishCheck.coverImageExists\" class=\"fa-li\"><font-awesome-icon icon=\"fa-solid fa-check fa-fw\" /></span>\n              <span v-else class=\"fa-li\"><font-awesome-icon icon=\"fa-solid fa-xmark fa-fw\" /></span>\n              Cover Photo\n            </li>\n            <li>\n              <span v-if=\"this.publishCheck.descriptionExists\" class=\"fa-li\"><font-awesome-icon icon=\"fa-solid fa-check fa-fw\" /></span>\n              <span v-else class=\"fa-li\"><font-awesome-icon icon=\"fa-solid fa-xmark fa-fw\" /></span>\n              Description \n            </li>\n          </ul>\n          We also encourage you to share your work with your colleagues or on\n          social media! Your book is an important contribution to open education\n          for law and we hope you'll help others find it and use it in their own\n          classrooms. Because you are a verified professor, your book will\n          automatically be surfaced on H2O's search page and will appear in web\n          searches.\n        </div>\n\n        <div class=\"modal-footer\">\n          <button class=\"modal-button cancel\" @click=\"cancelPublish\">Go Back</button>\n          <button class=\"modal-button confirm\" @click=\"confirmPublish\">Publish</button>\n        </div>\n      </template>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport Modal from \"./Modal\";\nimport Axios from \"../config/axios\";\n\nfunction getCookie(name) {\n  var cookieValue = null;\n  if (document.cookie && document.cookie !== \"\") {\n    var cookies = document.cookie.split(\";\");\n    for (var i = 0; i < cookies.length; i++) {\n      var cookie = jQuery.trim(cookies[i]);\n      if (cookie.substring(0, name.length + 1) === name + \"=\") {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\n\nexport default {\n  components: {\n    Modal\n  },\n  props: {\n    disabled: Boolean,\n    publishCheck: Object\n  },\n  data() {\n    return {\n    showModal: false,\n    csrftoken: getCookie(\"csrftoken\"),\n    liCheck: [\n      {text: \"Cover image added\", val: this.publishCheck.coverImageExists},\n      {text: \"Description added\", val: this.publishCheck.descriptionExists},\n    ]\n      \n  }},\n  computed: {\n      casebook: function() {\n          return this.$store.getters['globals/casebook']();\n      }\n  },\n  methods: {\n    attemptPublish: function() {\n      this.showModal = true;\n    },\n    cancelPublish: function() {\n      this.showModal = false;\n    },\n    confirmPublish: function() {\n      const url = `/casebooks/${this.casebook}`;\n      const data = {content_casebook: {public: true}};\n      Axios.patch(url, data).then(\n        this.handleSubmitResponse,\n        this.handleSubmitErrors\n      );\n    },\n    handleSubmitResponse: function handleSubmitResponse(response) {\n      let location = response.request.responseURL;\n      window.location.href = location;\n      this.errors = {};\n    },\n    handleSubmitErrors: function handleSubmitErrors(error) {\n      if (error.response.data) {\n        this.errors = error.response.data;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.casebook-actions button.action.clone-casebook-nodes {\n  background-image: url('~static/images/ui/casebook/clone.svg');\n  border: none;\n}\n\n.casebook-actions button.action.publish[disabled] {\n  filter: grayscale(1.0);    \n}\n\nul.clone-target-list {\n  list-style: none;\n  overflow: scroll;\n  max-height: 600px;\n  padding-top: 4px;\n  li {\n    margin-bottom: 0.5rem;\n    margin-right: 40px;\n\n    button.link {\n      padding: 8px;\n      border: 1px solid grey;\n      font-weight: bold;\n      text-align: left;\n      width: 100%;\n      background-color: white;\n      &:hover {\n        background-color: #eeeeee;\n      }\n    }\n  }\n}\n</style>\n","import AxiosConfig from \"axios\";\nimport {get_csrf_token} from 'legacy/lib/helpers';\n\nlet headers = {\"Content-Type\": \"application/json\",\n               \"Accept\": \"application/json\"};\nconst csrf_token = get_csrf_token();\nif(csrf_token) headers[\"X-CSRF-Token\"] = csrf_token;\n\nconst Axios = AxiosConfig.create({headers: headers});\n\n// Add method override to request\nAxios.interceptors.request.use(config => {\n  const method = config.method.toUpperCase();\n  if ([\"PUT\", \"DELETE\", \"PATCH\"].includes(method)) {\n    config.headers = {\n      ...config.headers,\n      [\"X-HTTP-Method-Override\"]: method,\n    };\n    config.method = \"post\";\n  }\n  return config;\n});\n\nexport default Axios;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseSearcher.vue?vue&type=style&index=0&id=33e9ba74&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationHandle.vue?vue&type=style&index=0&id=5200425b&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddContent.vue?vue&type=style&index=0&lang=scss&\"","import Vue from 'vue';\n\nconst handlers = new WeakMap();\nconst prev_in_el = new WeakMap();\n\n// Accepts a handler in the form of function(event, selection)\n// where selection will be null in the event the user has selected\n// something outside of the element on which this directive has been placed.\nVue.directive('selectionchange', {\n  inserted(el, binding) {\n    handlers.set(el, function (evt) {\n      const sel = document.getSelection();\n      const in_el = el.contains(sel.anchorNode);\n      const lost_focus = prev_in_el.get(el) && !in_el;\n      if (in_el || lost_focus) {\n        binding.value(evt, lost_focus ? null : sel);\n      }\n      prev_in_el.set(el, in_el);\n    });\n    document.addEventListener('selectionchange', handlers.get(el));\n  },\n  unbind(el, binding) {\n    document.removeEventListener('selectionchange', handlers.get(el));\n    handlers.delete(el);\n    prev_in_el.delete(el);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{staticClass:\"action one-line add-resource\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.displayModal()}}},[_vm._v(\"Add Content\")]),(_vm.showModal)?_c('Modal',{attrs:{\"initial-focus\":_vm.focusTarget},on:{\"close\":function($event){_vm.showModal = false}}},[_c('template',{slot:\"title\"},[_vm._v(\"Add Resource\")]),_c('template',{slot:\"body\"},[_c('div',{staticClass:\"search-tabs\"},[_c('a',{class:{ active: _vm.caseTab, 'search-tab': true },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.setTab('case')}}},[_vm._v(\"Find a Legal Document\")]),_c('a',{class:{ active: _vm.textTab, 'search-tab': true },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.setTab('text')}}},[_vm._v(\"Create Custom Content\")]),_c('a',{class:{ active: _vm.linkTab, 'search-tab': true },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.setTab('link')}}},[_vm._v(\"Add Link\")])]),(_vm.caseTab)?_c('div',{staticClass:\"add-resource-body\"},[_c('case-searcher',{attrs:{\"search-on-top\":false,\"can-cancel\":true},on:{\"choose\":_vm.selectCase},model:{value:(_vm.caseQueryObj),callback:function ($$v) {_vm.caseQueryObj=$$v},expression:\"caseQueryObj\"}}),_c('case-results',{attrs:{\"queryObj\":_vm.caseQueryObj},on:{\"choose\":_vm.selectCase}})],1):(_vm.textTab)?_c('div',{staticClass:\"add-resource-body\"},[_c('form',{ref:\"textForm\",staticClass:\"new-text\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitTextForm()}}},[_c('div',{class:{'form-group': true, 'has-error': _vm.errors.name}},[_c('label',{staticClass:\"title\"},[_vm._v(\" Title \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.textTitle),expression:\"textTitle\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"form-control\",attrs:{\"name\":\"name\",\"type\":\"text\"},domProps:{\"value\":(_vm.textTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.textTitle=$event.target.value}}}),(_vm.errors.name)?_c('span',{staticClass:\"help-block\"},[_c('strong',[_vm._v(_vm._s(_vm.errors.name[0].message))])]):_vm._e()])]),_c('div',{class:{'form-group': true, 'has-error': _vm.errors.content}},[_c('label',{staticClass:\"textarea\"},[_vm._v(\" Body \"),_c('editor',{model:{value:(_vm.textContent),callback:function ($$v) {_vm.textContent=$$v},expression:\"textContent\"}}),(_vm.errors.content)?_c('span',{staticClass:\"help-block has-error\"},[_c('strong',[_vm._v(_vm._s(_vm.errors.content[0].message))])]):_vm._e()],1)]),_c('input',{staticClass:\"save-button\",attrs:{\"type\":\"submit\",\"disabled\":_vm.pendingSubmit},domProps:{\"value\":_vm.pendingSubmit ? 'Save in progress' : 'Save Text'}})])]):(_vm.linkTab)?_c('div',{staticClass:\"add-resource-body\"},[_c('h3',[_vm._v(\"Enter the URL of any asset to link from the web.\")]),_c('h4',[_vm._v(\"Some examples: YouTube videos, PDFs, JPG, PNG, or GIF images\")]),_c('form',{ref:\"linkForm\",staticClass:\"new-link\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitLinkForm()}}},[_c('div',{class:{'form-group': true, 'has-error': _vm.errors.url}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkTarget),expression:\"linkTarget\"},{name:\"focus\",rawName:\"v-focus\"}],ref:\"link_body\",staticClass:\"form-control\",attrs:{\"name\":\"url\",\"type\":\"text\",\"placeholder\":\"Enter a URL to add it to your casebook\"},domProps:{\"value\":(_vm.linkTarget)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.linkTarget=$event.target.value}}}),(_vm.errors.url)?_c('span',{staticClass:\"help-block has-error\"},[_c('strong',[_vm._v(_vm._s(_vm.errors.url[0].message))])]):_vm._e()]),_c('input',{staticClass:\"search-button\",attrs:{\"type\":\"submit\",\"disabled\":_vm.pendingSubmit},domProps:{\"value\":_vm.pendingSubmit ? 'Save in progress' : 'Add Link'}})])]):_vm._e()])],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-results\"},[_c('form',{staticClass:\"case-search\"},[_c('div',{staticClass:\"form-control-group\"},[_c('label',{staticStyle:{\"width\":\"66%\"}},[_vm._v(\" \"+_vm._s(_vm.searchLabel)+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passThrough),expression:\"passThrough\"}],ref:\"case_search\",staticClass:\"form-control\",attrs:{\"id\":\"case_search\",\"name\":\"q\",\"type\":\"text\",\"placeholder\":\"Search for a case to import\"},domProps:{\"value\":(_vm.passThrough)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.passThrough=$event.target.value}}})]),_c('input',{staticClass:\"search-button btn btn-primary\",staticStyle:{\"margin-top\":\"-4px\"},attrs:{\"type\":\"submit\",\"value\":\"Search\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.runCaseSearch.apply(null, arguments)}}})]),(!_vm.showingLimits)?_c('div',[_c('a',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showLimits.apply(null, arguments)}}},[_vm._v(\"Advanced search options\")])]):_c('div',[_c('div',{staticClass:\"toggle-line\"},[_c('a',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.hideLimits.apply(null, arguments)}}},[_vm._v(\"Basic search\")])]),_c('div',{staticClass:\"source-row\"},[_c('label',[_vm._v(\" Source: \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchLimit),expression:\"searchLimit\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.searchLimit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"All Sources\")]),_vm._l((_vm.getSources),function(source){return _c('option',{key:source.id,domProps:{\"value\":source}},[_vm._v(_vm._s(source.name))])})],2)]),_c('div',{staticClass:\"about-source\"},[_vm._v(\" \"+_vm._s(_vm.searchLimit ? _vm.searchLimit.long_description : 'Search all sources')+\" \")])]),_c('div',{staticClass:\"jurisdiction-row\"},[_c('label',[_vm._v(\" Jurisdiction: \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.jurisdiction),expression:\"jurisdiction\"}],staticClass:\"form-control\",attrs:{\"name\":\"jurisdiction\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.jurisdiction=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.jurisdictions),function(j){return _c('option',{key:j.val,domProps:{\"value\":j.val}},[_vm._v(_vm._s(j.name))])}),0)])]),_c('label',[_vm._v(\" Decision Date \"),_c('div',{staticClass:\"date-row form-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.after_date),expression:\"after_date\"}],staticClass:\"form-control\",attrs:{\"name\":\"after_date\",\"type\":\"date\",\"placeholder\":\"YYYY-MM-DD\"},domProps:{\"value\":(_vm.after_date)},on:{\"blur\":_vm.reformatDates,\"input\":function($event){if($event.target.composing){ return; }_vm.after_date=$event.target.value}}}),_c('span',[_vm._v(\" - \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.before_date),expression:\"before_date\"}],staticClass:\"form-control\",attrs:{\"name\":\"before_date\",\"type\":\"date\",\"placeholder\":\"YYYY-MM-DD\"},domProps:{\"value\":(_vm.before_date)},on:{\"blur\":_vm.reformatDates,\"input\":function($event){if($event.target.composing){ return; }_vm.before_date=$event.target.value}}})])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _ from \"lodash\";\nimport urls from './urls';\n\nconst numeric_ending = /[0-9ivx]+$/;\nconst numeric_ending_stripper = /,?[ .]*[0-9ivx]+$/;\n\n// Some syllabi start with a \"Chapter\", \"Part\", or \"Unit\" stop word\nconst enumeration_stop_prefixes = ['chapter', 'unit', 'part'];\n\n// Arabic, or roman numerals, or letters\nconst arabic = { test: /^[0-9]+$/, level: parseInt };\nconst roman = { test: /^[ivxl]+$/, level: roman_to_int };\nconst letter = { test: /^[a-z]$/, level: string => parseInt(string, 36) - 9 };\nconst enumeration_prefix_identifier = /^(([0-9]+|[a-z]|[ivxl]+)[.:)])+/;\nconst cuckoo_starts = /^(a[.]l[.]a[.]|u[.]s[.])/;\n// Nesting delimiter, and termination character\nconst enumeration_delimiter = /[.:)]/;\n\nfunction enumeration_identification(line) {\n  let candidate = line.trim();\n  let prefix_check = candidate.toLowerCase();\n  let top = false;\n  if (prefix_check.match(cuckoo_starts)) {\n    return { numeral_stack: [], title: line };\n  }\n  for (let stop of enumeration_stop_prefixes) {\n    if (prefix_check.startsWith(stop)) {\n      top = true;\n      prefix_check = prefix_check.substr(stop.length).trim();\n    }\n  }\n  let prefixes = enumeration_prefix_identifier.exec(prefix_check);\n  if (!prefixes) {\n    return { numeral_stack: [], title: line };\n  }\n  let numeral_stack = [];\n\n  for (let prefix of prefixes[0].split(enumeration_delimiter)) {\n    numeral_stack.push({\n      arabic: prefix.match(arabic.test) ? arabic.level(prefix) : -1,\n      roman: prefix.match(roman.test) ? roman.level(prefix) : -1,\n      letter: prefix.match(letter.test) ? letter.level(prefix) : -1\n    });\n  }\n  if (top) {\n    numeral_stack = numeral_stack.map(\n      prefix => _.fromPairs(_.toPairs(prefix).map(x => ['top_' + x[0], x[1]]))\n    );\n  }\n  numeral_stack.pop();\n  const suffix_length = prefix_check.length - prefixes[0].length;\n  let title = candidate.substr(candidate.length - suffix_length).trim();\n  return { numeral_stack, title };\n}\n\nfunction starts_with_numeral(line) {\n  return enumeration_identification(line).numeral_stack.length > 0;\n}\n\nfunction _merge_wrapped_lines(lines) {\n  // Check if the majority of lines end in numbers\n  // If so, merge any lines that don't end in numbers into the previous line,\n  // unless they start with one of the numeral prefixes above\n  // This also strips the line endings (...XX) that generally point to no-longer-existent page numbers\n\n  const line_count = lines.length;\n  const numbered_line_count = lines.map(x => numeric_ending.test(x) ? 1 : 0).reduce((a, b) => a + b);\n  if (2 * numbered_line_count < line_count) {\n    return lines;\n  }\n  let merged_lines = [];\n  let accumulated_line = \"\";\n  for (let ii = 0; ii < line_count; ii++) {\n    const current_line = lines[ii].trim();\n\n    if (accumulated_line !== \"\" && starts_with_numeral(current_line)) {\n      merged_lines.push(accumulated_line.replace(numeric_ending_stripper, \"\").trim());\n      accumulated_line = \"\";\n    }\n    accumulated_line += current_line;\n    if (numeric_ending.test(current_line)) {\n      merged_lines.push(accumulated_line.replace(numeric_ending_stripper, \"\").trim());\n      accumulated_line = \"\";\n    } else {\n      accumulated_line += \" \";\n    }\n  }\n  if (accumulated_line !== \"\") {\n    merged_lines.push(accumulated_line);\n  }\n  return merged_lines;\n}\n\n\nfunction roman_to_int(string) {\n  const char_to_int = { 'i': 1, 'v': 5, 'x': 10, 'l': 50, 'c': 100 };\n  if (string == null) return -1;\n\n  let num = char_to_int[string.charAt(0)];\n  let pre, curr;\n\n  for (var i = 1; i < string.length; i++) {\n    curr = char_to_int[string.charAt(i)];\n    pre = char_to_int[string.charAt(i - 1)];\n    if (curr <= pre) {\n      num += curr;\n    } else {\n      num = num - pre * 2 + curr;\n    }\n  }\n  return num;\n}\n\nfunction guess_line_depth(lines) {\n  let frontier = [];\n  let guessed_lines = [];\n  function to_depth(front) {\n    return front.length;\n  }\n\n  function smallest_numeral(en) {\n    return _.fromPairs([_.minBy(_.toPairs(en).filter(x => x[1] > -1), x => x[1])]);\n  }\n\n  function check_for_match(frontier, check, cond) {\n    let test_frontier = frontier.slice();\n    while (test_frontier.length > 0) {\n      let top_test = test_frontier.pop();\n      let top_type = _.keys(top_test)[0];\n      if (cond(top_test[top_type], check[top_type])) {\n        test_frontier.push(top_test);\n        return test_frontier;\n      }\n    }\n    return false;\n  }\n\n  function guess_a_line(frontier, line) {\n    let { numeral_stack, title } = line;\n    let new_line = { title };\n    // Enum Stack has nothing on it\n    // if the top of the frontier was a blank, this is next in line.\n    // If the top of the frontier was numbered, this is a first child\n\n    if (numeral_stack.length === 0) {\n      if (frontier === []) {\n        new_line.enum = [1];\n        frontier = [{ blank: 1 }];\n        return [frontier, new_line];\n      }\n      const last_frontier = frontier[frontier.length - 1] || { blank: 0 };\n      if (last_frontier.blank) {\n        last_frontier.blank += 1;\n        new_line.depth = to_depth(frontier);\n        return [frontier, new_line];\n      } else {\n        frontier.push({ blank: 1 });\n        new_line.depth = to_depth(frontier);\n        return [frontier, new_line];\n      }\n    }\n\n    // Enum stack has one item\n    if (numeral_stack.length === 1) {\n      // If this is a top level section, clear out non-top frontier\n      if (_.keys(numeral_stack[0])[0].startsWith('top_')) {\n        try {\n          frontier = frontier.filter(x => _.keys(x)[0].startsWith('top_'));\n        } catch (error) {\n          console.warn(error);\n        }\n      }\n      // If this has a 1 value, it's a child of the current frontier\n      let en = _.some(_.values(numeral_stack[0]), x => x === 1);\n      if (en) {\n        let o = smallest_numeral(numeral_stack[0]);\n        frontier.push(o);\n        new_line.depth = to_depth(frontier);\n        return [frontier, new_line];\n      } else {\n        let check = numeral_stack.pop();\n        // Otherwise, go from top of frontier down to find first prior match\n        // Frontier becomes (stack-pop)+latest\n        let exact_expected = check_for_match(frontier, check, (f, c) => f + 1 === c);\n        if (exact_expected) {\n          frontier = exact_expected;\n          let last = frontier[frontier.length - 1];\n          last[_.keys(last)[0]] += 1;\n          new_line.depth = to_depth(frontier);\n          return [frontier, new_line];\n        }\n        // No matching type+level in frontier!\n        // Just look for an increase then.\n        let approx_expected = check_for_match(frontier, check, (f, c) => f < c);\n        if (approx_expected) {\n          frontier = approx_expected;\n          let last = frontier[frontier.length - 1];\n          let last_key = _.keys(last)[0];\n          last[last_key] = check[last_key];\n          new_line.depth = to_depth(frontier);\n          return [frontier, new_line];\n        }\n\n        let o = smallest_numeral(check);\n        frontier.push(o);\n        new_line.depth = to_depth(frontier);\n        return [frontier, new_line];\n      }\n    }\n    // Enum stack has more than one item\n    // Assume the line is fully enumed up front,\n    // make sure enum types align\n    frontier = numeral_stack.map((el, ind) => {\n      if (ind < frontier.length) {\n        return _.pick(el, _.keys(frontier[ind]));\n      }\n      return smallest_numeral(el);\n    });\n    new_line.depth = to_depth(frontier);\n    return [frontier, new_line];\n  }\n\n  let guess;\n  for (let line of lines) {\n    let gal = guess_a_line(frontier, line);\n    frontier = gal[0];\n    guess = gal[1];\n    guessed_lines.push(guess);\n  }\n  return guessed_lines;\n}\n\nconst linkLike = /https?:\\/\\/(?:[\\w]+\\.)(?:\\.?[\\w]{2,})[^ ]*/;\nfunction looksLikeLink(str) {\n  return !!(str.match(linkLike));\n}\n\nfunction extractLink(str) {\n  const grabLink = str.match(linkLike);\n  if (grabLink && grabLink.length === 1) {\n    return grabLink[0];\n  }\n  return str;\n}\n\nfunction looksLikeSelfLink(line) {\n  const origin = window.location.origin;\n  return line.indexOf(origin) >= 0;\n}\n\nfunction findSelfLinkMatch(line) {\n  const urlFns = _.keys(FRONTEND_URLS).map(urlName => (\n    {\n      name: urlName,\n      match: urls.matcher(urlName),\n      reverser: urls.reverser(urlName)\n    }));\n  let cands = urlFns.filter(u => u.match.exec(line)).map(u => u.reverser(line));\n  return cands.length > 0 && cands[0];\n}\n\nfunction sourceMatches(line, source) {\n  return source.search_regexes.map(({name, regex, fuzzy}) => regex.test(line) && {\n    resource_type: 'Temp',\n    display_type: name,\n    source: _.pick(source, ['id', 'sourceIndex']),\n    query: regex.exec(line)[0],\n    fuzzy: !!fuzzy}).filter(x => x);\n}\n\nfunction guessLineType(line, sources) {\n  let sms = sources.map(source => sourceMatches(line, source)).filter(matches => matches.length > 0);\n  if (sms.length > 0) {\n    return {resource_type: 'Temp', guesses:_.flatten(sms)};\n  }\n  if (looksLikeSelfLink(line)) {\n    let params = findSelfLinkMatch(line);\n    if (_.has(params, 'caseId')) {\n      return {resource_type: 'Case',\n              display_type: 'Case',\n              resource_id: params.caseId};\n    } else if (_.has(params, 'casebookId')) {\n      return {resource_type: 'Clone',\n              display_type: 'Clone',\n              casebookId: params.casebookId,\n              sectionId: params.sectionId || params.resourceId,\n              sectionOrd: params.sectionOrd || params.resourceOrd};\n    } else if (_.has(params, 'titleSlug')) {\n      return {resource_type: 'Clone',\n              display_type: 'Clone',\n              userSlug: params.userSlug,\n              titleSlug: params.titleSlug,\n              ordSlug: params.ordSlug};\n    }\n    return {resource_type: 'Link',\n            display_type: 'Link',\n            url: extractLink(line)};\n  } else if (looksLikeLink(line)) {\n    return {resource_type: 'Link',\n            display_type: 'Link',\n            url: extractLink(line)};\n  } else {\n    return {resource_type: 'TextBlock',\n            display_type: 'Custom Content',\n            title: line};\n  }\n}\n\nfunction cleanDocLines(text) {\n  // This is a group of heuristics that I think are reasonable based on a smattering of\n  // Tables of contents and syllabi that I pulled from online sources.\n  // It works by parsing one line at a time\n\n  let lines = text.split(\"\\n\").map(x => x.trim()).filter(x => x.length > 0);\n  let merged_lines = lines; // merge_wrapped_lines(lines);\n  let enumerated_lines = merged_lines.map(enumeration_identification);\n  let deep_lines = guess_line_depth(enumerated_lines);\n  return deep_lines;\n}\n\nfunction structureOutline(lines, sources) {\n\n  function getPath(node, path) {\n    if (path.length === 0 || !node) {\n      return node;\n    }\n    const key = path[0];\n    const rest = path.slice(1);\n    if (key >= node.children.length) {\n      return null;\n    }\n    return getPath(node.children[key], rest);\n  }\n  let root = {\n    title: \"Root\",\n    type: \"root\",\n    children: []\n  };\n  let stats = {};\n  let path = [];\n  for (let ii = 0; ii < lines.length; ii++) {\n    let previous_depth = (ii > 0 && lines[ii - 1].depth) || 1;\n    let next_depth = (ii + 1 < lines.length && lines[ii + 1].depth) || 1;\n    let { depth, title } = lines[ii];\n\n    while (previous_depth > depth) {\n      path.pop();\n      previous_depth--;\n    }\n\n    let currentNode = { title, resource_type: 'Temp', children: [] };\n      let lineGuess = guessLineType(title, sources);\n    let hasChildren = next_depth > depth;\n    if (hasChildren) {\n      currentNode.resource_type = 'Section';\n    } else {\n      _.merge(currentNode,_.omit(lineGuess, ['guesses']));\n    }\n    stats[currentNode.resource_type] = _.get(stats, currentNode.resource_type, 0) + 1;\n    let parent = getPath(root, path);\n    if (hasChildren) {\n      path.push(parent.children.length);\n    }\n    parent.children.push(currentNode);\n\n  }\n  return [root,stats];\n}\n\nexport default {\n  cleanDocLines,\n  structureOutline,\n  guessLineType\n};\n\n","<template>\n<div class=\"search-results\">\n  <form class=\"case-search\">\n    <div class=\"form-control-group\">\n      <label style=\"width:66%;\">\n        {{searchLabel}}\n        <input\n          id=\"case_search\"\n          ref=\"case_search\"\n          class=\"form-control\"\n          name=\"q\"\n          type=\"text\"\n          placeholder=\"Search for a case to import\"\n          v-model=\"passThrough\"\n          />\n      </label>\n      <input\n        style=\"margin-top:-4px;\"\n        class=\"search-button btn btn-primary\"\n        type=\"submit\"\n        value=\"Search\"\n        v-on:click.stop.prevent=\"runCaseSearch\"\n        />\n    </div>\n    <div v-if=\"!showingLimits\">\n      <a v-on:click.stop.prevent=\"showLimits\">Advanced search options</a>\n    </div>\n    <div v-else>\n      <div class=\"toggle-line\">\n        <a v-on:click.stop.prevent=\"hideLimits\">Basic search</a>\n      </div>\n      <div class=\"source-row\">\n      <label>\n        Source:\n          <select class=\"form-control\" v-model=\"searchLimit\">\n            <option :value=\"null\">All Sources</option>\n            <option :value=\"source\" v-for=\"source in getSources\" :key=\"source.id\">{{source.name}}</option>\n          </select>\n      </label>\n      <div class=\"about-source\">\n        {{searchLimit ? searchLimit.long_description : 'Search all sources'}}\n      </div>\n      </div>\n      <div class=\"jurisdiction-row\">\n        <label>\n          Jurisdiction:\n          <select class=\"form-control\" v-model=\"jurisdiction\" name=\"jurisdiction\">\n            <option :value=\"j.val\" v-for=\"j in jurisdictions\" :key=\"j.val\">{{j.name}}</option>\n          </select>\n        </label>\n      </div>\n      <label>\n          Decision Date\n      <div class=\"date-row form-control-inline\">\n          <input\n            name=\"after_date\"\n            type=\"date\"\n            class=\"form-control\"\n            placeholder=\"YYYY-MM-DD\"\n            v-model=\"after_date\"\n            @blur=\"reformatDates\"\n            />\n        <span> - </span>\n        <input\n            name=\"before_date\"\n            type=\"date\"\n            class=\"form-control\"\n            placeholder=\"YYYY-MM-DD\"\n            v-model=\"before_date\"\n            @blur=\"reformatDates\"\n            />\n      </div>\n        </label>\n    </div>\n  </form>\n</div>\n</template>\n\n<script>\nimport _ from \"lodash\";\nimport pp from \"libs/text_outline_parser\";\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions, mapGetters } = createNamespacedHelpers(\"case_search\");\n\n\nconst jurisdictions = [\n  { val: \"\", name: \"All Jurisdictions\" },\n  { val: \"ala\", name: \"Alabama\" },\n  { val: \"alaska\", name: \"Alaska\" },\n  { val: \"am-samoa\", name: \"American Samoa\" },\n  { val: \"ariz\", name: \"Arizona\" },\n  { val: \"ark\", name: \"Arkansas\" },\n  { val: \"cal\", name: \"California\" },\n  { val: \"colo\", name: \"Colorado\" },\n  { val: \"conn\", name: \"Connecticut\" },\n  { val: \"dakota-territory\", name: \"Dakota Territory\" },\n  { val: \"dc\", name: \"District of Columbia\" },\n  { val: \"del\", name: \"Delaware\" },\n  { val: \"fla\", name: \"Florida\" },\n  { val: \"ga\", name: \"Georgia\" },\n  { val: \"guam\", name: \"Guam\" },\n  { val: \"haw\", name: \"Hawaii\" },\n  { val: \"idaho\", name: \"Idaho\" },\n  { val: \"ill\", name: \"Illinois\" },\n  { val: \"ind\", name: \"Indiana\" },\n  { val: \"iowa\", name: \"Iowa\" },\n  { val: \"kan\", name: \"Kansas\" },\n  { val: \"ky\", name: \"Kentucky\" },\n  { val: \"la\", name: \"Louisiana\" },\n  { val: \"mass\", name: \"Massachusetts\" },\n  { val: \"md\", name: \"Maryland\" },\n  { val: \"me\", name: \"Maine\" },\n  { val: \"mich\", name: \"Michigan\" },\n  { val: \"minn\", name: \"Minnesota\" },\n  { val: \"miss\", name: \"Mississippi\" },\n  { val: \"mo\", name: \"Missouri\" },\n  { val: \"mont\", name: \"Montana\" },\n  { val: \"native-american\", name: \"Native American\" },\n  { val: \"navajo-nation\", name: \"Navajo Nation\" },\n  { val: \"nc\", name: \"North Carolina\" },\n  { val: \"nd\", name: \"North Dakota\" },\n  { val: \"neb\", name: \"Nebraska\" },\n  { val: \"nev\", name: \"Nevada\" },\n  { val: \"nh\", name: \"New Hampshire\" },\n  { val: \"nj\", name: \"New Jersey\" },\n  { val: \"nm\", name: \"New Mexico\" },\n  { val: \"n-mar-i\", name: \"Northern Mariana Islands\" },\n  { val: \"ny\", name: \"New York\" },\n  { val: \"ohio\", name: \"Ohio\" },\n  { val: \"okla\", name: \"Oklahoma\" },\n  { val: \"or\", name: \"Oregon\" },\n  { val: \"pa\", name: \"Pennsylvania\" },\n  { val: \"pr\", name: \"Puerto Rico\" },\n  { val: \"ri\", name: \"Rhode Island\" },\n  { val: \"sc\", name: \"South Carolina\" },\n  { val: \"sd\", name: \"South Dakota\" },\n  { val: \"tenn\", name: \"Tennessee\" },\n  { val: \"tex\", name: \"Texas\" },\n  { val: \"tribal\", name: \"Tribal Jurisdictions\" },\n  { val: \"uk\", name: \"United Kingdom\" },\n  { val: \"us\", name: \"United States\" },\n  { val: \"utah\", name: \"Utah\" },\n  { val: \"va\", name: \"Virginia\" },\n  { val: \"vi\", name: \"Virgin Islands\" },\n  { val: \"vt\", name: \"Vermont\" },\n  { val: \"wash\", name: \"Washington\" },\n  { val: \"wis\", name: \"Wisconsin\" },\n  { val: \"w-va\", name: \"West Virginia\" },\n  { val: \"wyo\", name: \"Wyoming\" }\n];\n\nexport default {\n  props: [\"searchOnTop\", \"canCancel\", \"value\", \"searchLabel\"],\n  data: () => ({\n    jurisdictions,\n    showingLimits: false,\n    chosenSource: null,\n    overrideSource: false\n  }),\n  watch: {\n    passThrough: function(newVal) {\n      \n    }\n  },\n  methods: {\n    ...mapActions([\"fetchForAllSources\", \"fetchForSource\", \"fetchSources\"]),\n    showLimits: function() {\n      this.showingLimits = true;\n      this.updateValue(this.value);\n    },\n    hideLimits: function() {\n      this.showingLimits = false;\n      this.updateValue(this.value);\n    },\n    reformatDates: function() {\n      function completeDates(v, k) {\n        const dateRex = /(?<year>[0-9]{4})-?(?<month>[0-9]{1,2})?-?(?<day>[0-9]{1,2})?/;\n        if (k === \"after_date\") {\n          let [_, year, month, day] = dateRex.exec(v);\n          if (!year) {\n            return undefined;\n          }\n          month = month || \"01\";\n          month = month.length == 1 ? \"0\" + month : month;\n          day = day || \"01\";\n          day = day.length == 1 ? \"0\" + day : day;\n          return `${year}-${month}-${day}`;\n        } else if (k === \"before_date\") {\n          let [_, year, month, day] = dateRex.exec(v);\n          if (!year) {\n            return undefined;\n          }\n          if (!month) {\n            return `${year}-12-31`;\n          }\n          month = month.length == 1 ? \"0\" + month : month;\n          if (!day) {\n            const monthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n            let iMonth = parseInt(month) - 1;\n            iMonth = iMonth > 11 ? 11 : iMonth;\n            return `${year}-${month}-${monthDays[iMonth]}`;\n          }\n          day = day.length == 1 ? \"0\" + day : day;\n          return `${year}-${month}-${day}`;\n        } else {\n          return v;\n        }\n      }\n      const newValue = _.mapValues(this.cleanQuery, completeDates);\n      this.$emit(\"input\", newValue);\n      return newValue;\n    },\n    runCaseSearch: function runCaseSearch() {\n      const searchQ = this.reformatDates();\n      if (searchQ.query !== \"\") {\n        if (this.showingLimits && searchQ.searchLimit) {\n          this.fetchForSource({queryObj: searchQ, source: this.searchLimit})\n        } else {\n          this.fetchForAllSources({queryObj: searchQ});\n        }\n        this.$emit(\"input\", searchQ)\n      }\n    },\n    emitCancel: function() {\n      this.$emit(\"cancel\", null);\n    },\n    emitChoice: function(c) {\n      this.$emit(\"choose\", c);\n    },\n    guessSource: function(query) {\n      let {guesses} = pp.guessLineType(query, this.getSources);\n      if (guesses && guesses.length > 0) {\n        this.chosenSource = this.getSources[guesses[0].source.sourceIndex];\n      } else {\n        this.chosenSource = this.getSources[0]\n      }\n    },\n    updateValue: function(newVal) {\n      if (!this.showingLimits) {\n        this.guessSource(newVal.query);\n      }\n      this.$emit(\"input\", this.cleaned(newVal));\n    },\n    cleaned: function(val) {\n      const validKeys = this.showingLimits\n            ? [\"query\", \"jurisdiction\", \"before_date\", \"after_date\", \"searchLimit\"]\n            : [\"query\"];\n      return _.pickBy(\n        val,\n        (v, k) => v && v !== \"\" && validKeys.indexOf(k) > -1\n      );\n    }\n  },\n  computed: {\n    ...mapGetters(['getSources']),\n    displayedSearchLabel: function() {\n      return this.searchLabel || \"\";\n    },\n    cleanQuery: function() {\n      const data = this.cleaned(this.value);\n      if (data.query) {\n        return data;\n      }\n      return { query: \"\" };\n    },\n    after_date: {\n      get: function() {\n        return this.value.after_date;\n      },\n      set: function(val) {\n        this.updateValue({ ...this.value, after_date: val });\n      }\n    },\n    before_date: {\n      get: function() {\n        return this.value.before_date;\n      },\n      set: function(val) {\n        this.updateValue({ ...this.value, before_date: val });\n      }\n    },\n    jurisdiction: {\n      get: function() {\n        return this.value.jurisdiction || \"\";\n      },\n      set: function(val) {\n        this.updateValue({ ...this.value, jurisdiction: val });\n      }\n    },\n    passThrough: {\n      get: function() {\n        return this.value.query;\n      },\n      set: function(val) {\n        this.updateValue({ ...this.value, query: val });\n      }\n    },\n    searchLimit: {\n      get: function() {\n        return this.value.searchLimit || null;\n      },\n      set: function(val) {\n        this.updateValue({ ...this.value, searchLimit: val });\n      }\n    }\n\n  },\n  mounted: function() {\n    this.guessSource(this.value.query);\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.search-button {\n    margin-left: 2rem;\n}\n.date-row {\n    display: grid;\n    grid-template-columns: auto 24px auto;\n    align-items: baseline;\n    span {\n        text-align: center;\n        padding-top: 2rem;\n        padding-bottom: 1rem;\n    }\n}\n.about-source {\n    margin: 6px 0px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseSearcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseSearcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CaseSearcher.vue?vue&type=template&id=33e9ba74&scoped=true&\"\nimport script from \"./CaseSearcher.vue?vue&type=script&lang=js&\"\nexport * from \"./CaseSearcher.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CaseSearcher.vue?vue&type=style&index=0&id=33e9ba74&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33e9ba74\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-results\"},[(_vm.searchResults.allPending)?_c('div',{staticClass:\"search-alert\"},[_vm._m(0),_c('loading-spinner')],1):(_vm.searchResults.emptyResults)?_c('div',{staticClass:\"search-results-wrapper\"},[_vm._m(1)]):(_vm.searchResults.unRun)?_c('div',{staticClass:\"search-results-wrapper\"},[_vm._m(2)]):_c('div',{staticClass:\"search-results-wrapper\"},_vm._l((_vm.searchResults.results),function(c){return _c('div',{key:c.id,staticClass:\"search-results-entry\"},[_c('div',{staticClass:\"name-column\"},[_c('a',{staticClass:\"wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.emitChoice(c)}}},[_c('span',{attrs:{\"title\":c.fullName}},[_vm._v(_vm._s(c.shortName))])])]),_c('div',{staticClass:\"cite-column\"},[_c('a',{staticClass:\"wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.emitChoice(c)}}},[_c('span',{attrs:{\"title\":c.fullCitations}},[_vm._v(_vm._s(c.shortCitations))])])]),_c('div',{staticClass:\"date-column\"},[_c('a',{staticClass:\"wrapper\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.emitChoice(c)}}},[_vm._v(_vm._s(c.effectiveDate))])]),_c('div',{staticClass:\"preview-column\"},[_c('a',{attrs:{\"href\":c.url,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(_vm._s(c.sourceName))])])])}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner-message\"},[_c('div',[_vm._v(\"Searching\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-alert\"},[_c('span',[_vm._v(\"No legal documents found matching your search\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-alert\"},[_c('span',[_vm._v(\"Click Search to run your search\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lds-ellipsis\"},[_c('div'),_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./LoadingSpinner.vue?vue&type=template&id=44b8022a&scoped=true&\"\nvar script = {}\nimport style0 from \"./LoadingSpinner.vue?vue&type=style&index=0&id=44b8022a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44b8022a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"search-results\">\n  <div class=\"search-alert\" v-if=\"searchResults.allPending\">\n    <div class=\"spinner-message\">\n      <div>Searching</div>\n    </div>\n    <loading-spinner></loading-spinner>\n  </div>\n  <div class=\"search-results-wrapper\" v-else-if=\"searchResults.emptyResults\">\n    <div class=\"search-alert\">\n      <span>No legal documents found matching your search</span>\n    </div>\n  </div>\n  <div class=\"search-results-wrapper\" v-else-if=\"searchResults.unRun\">\n    <div class=\"search-alert\">\n      <span>Click Search to run your search</span>\n    </div>\n  </div>\n  <div class=\"search-results-wrapper\" v-else>\n    <div class=\"search-results-entry\" v-for=\"c in searchResults.results\" :key=\"c.id\">\n      <div class=\"name-column\">\n        <a v-on:click.stop.prevent=\"emitChoice(c)\" class=\"wrapper\">\n          <span :title=\"c.fullName\">{{c.shortName}}</span>\n        </a>\n      </div>\n      <div class=\"cite-column\">\n        <a v-on:click.stop.prevent=\"emitChoice(c)\" class=\"wrapper\">\n          <span :title=\"c.fullCitations\">{{c.shortCitations}}</span>\n        </a>\n      </div>\n      <div class=\"date-column\">\n        <a v-on:click.stop.prevent=\"emitChoice(c)\" class=\"wrapper\">{{c.effectiveDate}}</a>\n      </div>\n      <div class=\"preview-column\">\n        <a :href=\"c.url\" target=\"_blank\" rel=\"noopener noreferrer\">{{ c.sourceName }}</a>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport _ from \"lodash\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions, mapGetters } = createNamespacedHelpers(\"case_search\");\n\nexport default {\n  components: {\n    LoadingSpinner\n  },\n  data: () => ({delayedObj: {}}),\n  props: [\"queryObj\"],\n  watch: {\n    queryObj: _.debounce(function(newVal){\n      this.delayedObj = newVal;\n    },1000)\n  },\n  computed: {\n    sources: function() {\n      return this.getSources();\n    },\n    searchResults: function() {\n      return this.getSearch()(this.delayedObj);\n    }\n  },\n  methods: {\n    ...mapGetters(['getSearch', 'getSources']),\n    ...mapActions([\"toggleSource\"]),    \n    emitChoice: function(c) {\n      this.$emit(\"choose\", c);\n    },\n    internalToggleSource: function(source_id) {\n      this.toggleSource({source_id, queryObj: this.delayedObj});\n    }\n  },\n  mounted: function() {\n    this.delayedObj = this.queryObj;\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@use \"sass:color\";\n@import \"variables\";\n.search-results {\n    max-height: 20rem;\n    overflow-y: scroll;\n}\n.source-description {\n    padding-left: 0.5rem;\n    padding-right: 1rem;\n}\n.search-results-wrapper {\n  overflow-y: unset;\n  overflow-x: unset;\n  display: table;\n  width: 100%;\n  border-top: 2px solid black;\n  border-bottom: 2px solid black;\n  margin: 8px 0;\n  padding: 2px 0;\n  .search-results-entry {\n    display: table-row;\n    div {\n      padding: 0.4rem 0.2rem;\n      &.cite-column {\n        min-width: 9rem;\n      }\n      &.date-column {\n        min-width: 9rem;\n      }\n      &.preview-column {\n        width: 6rem;\n      }\n      display: table-cell;\n    }\n\n    &:hover {\n      background-color: color.adjust($light-blue, $alpha: -0.75);\n      cursor: pointer;\n    }\n    a[target=\"_blank\"]:after {\n      content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVR42qXKwQkAIAxDUUdxtO6/RBQkQZvSi8I/pL4BoGw/XPkh4XigPmsUgh0626AjRsgxHTkUThsG2T/sIlzdTsp52kSS1wAAAABJRU5ErkJggg==);\n      margin: 0 3px 0 5px;\n      color: black;\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseResults.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaseResults.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CaseResults.vue?vue&type=template&id=57d7b90d&scoped=true&\"\nimport script from \"./CaseResults.vue?vue&type=script&lang=js&\"\nexport * from \"./CaseResults.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CaseResults.vue?vue&type=style&index=0&id=57d7b90d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57d7b90d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"textarea\",attrs:{\"id\":_vm.taID},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<textarea ref=\"textarea\" :id=\"taID\" v-model=\"value\">\n  </textarea>\n</template>\n\n\n<script>\nimport _ from \"lodash\";\n\n\nexport default {\n    data: () => ({taID: _.uniqueId(\"tinymce-vue-\")}),\n    props:['value'],\n    mounted: function () {\n        let editor = window.initRichTextEditor(this.$refs.textarea);\n        const self = this;\n        editor.then((editors) => {\n            let [editorInstance] = editors;\n            editorInstance.on('change input undo redo', () => {\n                self.$emit('input', editorInstance.getContent());\n            });\n        });\n    },\n    beforeDestroy: function () {\n        window.tinyMCE.remove(this.$refs.textarea);\n    },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TinyMCEEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TinyMCEEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TinyMCEEditor.vue?vue&type=template&id=1f9981ea&\"\nimport script from \"./TinyMCEEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TinyMCEEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <button\n      class=\"action one-line add-resource\"\n      v-on:click.stop.prevent=\"displayModal()\"\n    >Add Content</button>\n    <Modal v-if=\"showModal\" @close=\"showModal = false\" :initial-focus=\"focusTarget\">\n      <template slot=\"title\">Add Resource</template>\n      <template slot=\"body\">\n        <div class=\"search-tabs\">\n          <a\n            v-bind:class=\"{ active: caseTab, 'search-tab': true }\"\n            v-on:click.stop.prevent=\"setTab('case')\"\n          >Find a Legal Document</a>\n          <a\n            v-bind:class=\"{ active: textTab, 'search-tab': true }\"\n            v-on:click.stop.prevent=\"setTab('text')\"\n          >Create Custom Content</a>\n          <a\n            v-bind:class=\"{ active: linkTab, 'search-tab': true }\"\n            v-on:click.stop.prevent=\"setTab('link')\"\n          >Add Link</a>\n        </div>\n\n        <div class=\"add-resource-body\" v-if=\"caseTab\">\n          <case-searcher\n            :search-on-top=\"false\"\n            :can-cancel=\"true\"\n            v-model=\"caseQueryObj\"\n            @choose=\"selectCase\"\n          />\n          <case-results :queryObj=\"caseQueryObj\" @choose=\"selectCase\"/>\n        </div>\n        <div class=\"add-resource-body\" v-else-if=\"textTab\">\n          <form ref=\"textForm\" class=\"new-text\" v-on:submit.stop.prevent=\"submitTextForm()\">\n            <div v-bind:class=\"{'form-group': true, 'has-error': errors.name}\">\n              <label class=\"title\">\n                Title\n                <input\n                  class=\"form-control\"\n                  name=\"name\"\n                  type=\"text\"\n                  v-model=\"textTitle\"\n                  v-focus\n                />\n                <span class=\"help-block\" v-if=\"errors.name\">\n                  <strong>{{errors.name[0].message}}</strong>\n                </span>\n              </label>\n            </div>\n            <div v-bind:class=\"{'form-group': true, 'has-error': errors.content}\">\n              <label class=\"textarea\">\n                Body\n                <editor\n                  v-model=\"textContent\"\n                ></editor>\n                <span class=\"help-block has-error\" v-if=\"errors.content\">\n                  <strong>{{errors.content[0].message}}</strong>\n                </span>\n              </label>\n            </div>\n            <input class=\"save-button\" type=\"submit\" :value=\"pendingSubmit ? 'Save in progress' : 'Save Text'\" :disabled=\"pendingSubmit\" />\n          </form>\n        </div>\n        <div class=\"add-resource-body\" v-else-if=\"linkTab\">\n          <h3>Enter the URL of any asset to link from the web.</h3>\n          <h4>Some examples: YouTube videos, PDFs, JPG, PNG, or GIF images</h4>\n          <form ref=\"linkForm\" class=\"new-link\" v-on:submit.stop.prevent=\"submitLinkForm()\">\n            <div v-bind:class=\"{'form-group': true, 'has-error': errors.url}\">\n              <input\n                class=\"form-control\"\n                ref=\"link_body\"\n                name=\"url\"\n                type=\"text\"\n                placeholder=\"Enter a URL to add it to your casebook\"\n                v-model=\"linkTarget\"\n                v-focus\n              />\n              <span class=\"help-block has-error\" v-if=\"errors.url\">\n                <strong>{{errors.url[0].message}}</strong>\n              </span>\n            </div>\n            <input class=\"search-button\" type=\"submit\" :value=\"pendingSubmit ? 'Save in progress' : 'Add Link'\" :disabled=\"pendingSubmit\" />\n          </form>\n        </div>\n      </template>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport Modal from \"./Modal\";\nimport CaseSearcher from \"./CaseSearcher\";\nimport CaseResults from \"./CaseResults\";\nimport Editor from \"./TinyMCEEditor\";\n\n\nimport Axios from \"../config/axios\";\nimport _ from \"lodash\";\nimport urls from \"libs/urls\";\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions } = createNamespacedHelpers(\"case_search\");\n\n\nexport default {\n  components: {\n    Modal,\n    CaseSearcher,\n    CaseResults,\n    editor: Editor\n  },\n  props: [\"casebook\", \"section\"],\n  data: () => ({\n    pendingSubmit: false,\n    showModal: false,\n    currentTab: \"case\",\n    caseQueryObj: {query: \"\"},\n    textTitle: \"\",\n    textContent: \"\",\n    linkTarget: \"\",\n    errors: {}\n  }),\n  computed: {\n    focusTarget: function() {\n      if (this.caseTab) {\n        return this.$refs.case_search;\n      } else if (this.textTab) {\n        return this.$refs.text_body;\n      } else if (this.linkTab) {\n        return this.$refs.link_body;\n      }\n      return null;\n    },\n    caseTab: function() {\n      return this.currentTab === \"case\";\n    },\n    textTab: function() {\n      return this.currentTab === \"text\";\n    },\n    linkTab: function() {\n      return this.currentTab === \"link\";\n    }\n  },\n  methods: {\n    ...mapActions([\"fetch\"]),\n    docImportUrl: urls.url('from_source'),\n    docAddUrl: urls.url('new_legal_doc'),\n    displayModal: function displayModal() {\n      this.showModal = true;\n    },\n    properType: function properType() {\n      return this.sectionType[0].toUpperCase() + this.sectionType.substr(1);\n    },\n    setTab: function setTab(newTab) {\n      const self = this;\n      let tries = 0;\n      function tryFocus() {\n        if (self.$refs.case_search) {\n          self.$refs.case_search.focus();\n        } else {\n          tries += 1;\n          if (tries < 10) self.$nextTick(tryFocus);\n        }\n      }\n      this.currentTab = newTab;\n      tryFocus();\n    },\n    runCaseSearch: function runCaseSearch() {\n      if (this.caseQuery !== \"\") {\n        this.fetch({ query: this.caseQuery });\n      }\n    },\n    submitCaseForm: function submitCaseForm() {},\n    submitTextForm: function submitTextForm() {\n      let formData = new FormData(this.$refs.textForm);\n      formData.append(\"section\", this.section);\n      formData.set(\"content\", this.textContent);\n      const url = `/casebooks/${this.casebook}/new/text`;\n      this.pendingSubmit = true;\n      Axios.post(url, formData).then(\n        this.handleSubmitResponse,\n        this.handleSubmitErrors\n      );\n    },\n    submitLinkForm: function submitLinkForm() {\n      let formData = new FormData(this.$refs.linkForm);\n      formData.append(\"section\", this.section);\n      const url = `/casebooks/${this.casebook}/new/link`;\n      this.pendingSubmit = true;\n      Axios.post(url, formData).then(\n        this.handleSubmitResponse,\n        this.handleSubmitErrors\n      );\n    },\n    selectCase: function(c) {\n      let importUrl = this.docImportUrl({sourceId: c.source_id});\n      let addUrl = this.docAddUrl({casebookId: this.casebook});\n      let formData = new FormData();\n      formData.append(\"section\", this.section);\n      const handler = this.handleSubmitResponse;\n      this.pendingSubmit = true;\n      Axios.post(importUrl, { id: c.id }).then(resp => {\n          formData.append(\"resource_id\", resp.data.id)\n          Axios.post(addUrl, formData).then(handler, this.handleSubmitErrors);\n      });\n    },\n    handleSubmitResponse: function handleSubmitResponse(response) {\n      let location = response.request.responseURL;\n      window.location.href = location;\n      this.errors = {};\n      this.pendingSubmit = false;\n    },\n    handleSubmitErrors: function handleSubmitErrors(error) {\n      this.pendingSubmit = false;\n      if (error.response.data) {\n        this.errors = error.response.data;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@use \"sass:color\";\n@import \"variables\";\nlabel.textarea {\n  width: 100%;\n}\n.search-tabs {\n  display: flex;\n  flex-direction: row;\n  a.search-tab {\n    color: black;\n  }\n}\n\n.search-results {\n  overflow-y: unset;\n  overflow-x: unset;\n  display: table;\n  width: 100%;\n  .search-results-entry {\n    display: table-row;\n    div {\n      padding: 0.4rem 0.2rem;\n\n      &.cite-column {\n        min-width: 9rem;\n      }\n      &.date-column {\n        min-width: 9rem;\n      }\n      &.preview-column {\n        width: 6rem;\n      }\n      display: table-cell;\n    }\n\n    &:hover {\n      background-color: color.adjust($light-blue, $alpha: -0.75);\n      cursor: pointer;\n    }\n    a[target=\"_blank\"]:after {\n      content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVR42qXKwQkAIAxDUUdxtO6/RBQkQZvSi8I/pL4BoGw/XPkh4XigPmsUgh0626AjRsgxHTkUThsG2T/sIlzdTsp52kSS1wAAAABJRU5ErkJggg==);\n      margin: 0 3px 0 5px;\n      color: black;\n    }\n  }\n}\n\n.search-alert {\n  display: flex;\n  flex-direction: row;\n  .spinner-message {\n    flex-direction: column;\n    align-content: center;\n    justify-content: center;\n    display: flex;\n    margin-right: 14px;\n    margin-left: 12px;\n  }\n}\n\na.action.add-resource {\n  background-image: url(http://localhost:8080/static/dist/img/add-material.d109215f.svg);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddContent.vue?vue&type=template&id=1807ffdc&\"\nimport script from \"./AddContent.vue?vue&type=script&lang=js&\"\nexport * from \"./AddContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddContent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"audit-flow\"}},[(!_vm.noSave)?_c('button',{staticClass:\"action one-line save\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_vm._v(\"Save\")]):_vm._e(),_c('publish-button',{attrs:{\"disabled\":!_vm.allNodesSpecified,\"publishCheck\":_vm.publishCheck}}),(!_vm.allNodesSpecified)?_c('button',{staticClass:\"action audit-casebook\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.startAudit()}}},[_vm._v(\"Finalize entries\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"publish-button\"}},[_c('button',{staticClass:\"action publish one-line\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled,\"title\":_vm.disabled ? 'Some resources are incomplete. Finalize Entries below.' : 'Publish'},on:{\"click\":_vm.attemptPublish}},[_vm._v(\" Publish \")]),(_vm.showModal)?_c('Modal',{on:{\"close\":function($event){_vm.showModal = false}}},[_c('template',{slot:\"title\"},[_vm._v(\"Confirm Publish\")]),_c('template',{slot:\"body\"},[_c('p',[_vm._v(\"Are you ready to publish your book?\")]),(_vm.publishCheck.isVerifiedProfessor)?_c('div',{attrs:{\"id\":\"prof-prompt\"}},[_vm._v(\" You're almost ready to publish your book! The following elements are optional, but can make your book more discoverable by students and colleagues: \"),_c('ul',{staticClass:\"fa-ul\"},[(this.publishCheck.coverImageFlag)?_c('li',[(this.publishCheck.coverImageExists)?_c('span',{staticClass:\"fa-li\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-solid fa-check fa-fw\"}})],1):_c('span',{staticClass:\"fa-li\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-solid fa-xmark fa-fw\"}})],1),_vm._v(\" Cover Photo \")]):_vm._e(),_c('li',[(this.publishCheck.descriptionExists)?_c('span',{staticClass:\"fa-li\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-solid fa-check fa-fw\"}})],1):_c('span',{staticClass:\"fa-li\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"fa-solid fa-xmark fa-fw\"}})],1),_vm._v(\" Description \")])]),_vm._v(\" We also encourage you to share your work with your colleagues or on social media! Your book is an important contribution to open education for law and we hope you'll help others find it and use it in their own classrooms. Because you are a verified professor, your book will automatically be surfaced on H2O's search page and will appear in web searches. \")]):_vm._e(),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"modal-button cancel\",on:{\"click\":_vm.cancelPublish}},[_vm._v(\"Go Back\")]),_c('button',{staticClass:\"modal-button confirm\",on:{\"click\":_vm.confirmPublish}},[_vm._v(\"Publish\")])])])],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublishButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublishButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublishButton.vue?vue&type=template&id=92221d94&\"\nimport script from \"./PublishButton.vue?vue&type=script&lang=js&\"\nexport * from \"./PublishButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublishButton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"audit-flow\">\n    <button v-if=\"!noSave\" class=\"action one-line save\" v-on:click.stop.prevent=\"save\">Save</button>\n    <publish-button :disabled=\"!allNodesSpecified\" :publishCheck=publishCheck></publish-button>\n    <button class=\"action audit-casebook\" v-on:click.stop.prevent=\"startAudit()\" v-if=\"!allNodesSpecified\">Finalize entries</button>\n  </div>\n</template>\n\n<script>\nimport _ from \"lodash\";\nimport _tinymce from 'tinymce/tinymce';\nimport PublishButton from \"./PublishButton\";\nimport Axios from \"../config/axios\";\nimport urls from \"../libs/urls\";\nimport { createNamespacedHelpers } from \"vuex\";\nimport pp from \"../libs/text_outline_parser\";\n\nconst { mapGetters } = createNamespacedHelpers(\"case_search\");\n\nexport default {\n  components: {\n    PublishButton\n  },\n  props: {\n    noSave: Boolean, \n    publishCheck: Object,\n  },\n  data: () => ({autoAudited: {}\n                }),\n  methods: {\n    save: function() {\n      let form = document.querySelector('form.edit_content_resource') || document.querySelector('form.edit_content_section') || document.querySelector('form.edit_content_casebook');\n      form.submit()\n    },\n    bulkAddUrl: urls.url('new_from_outline'),\n    startAudit: function() {\n      let self = this;\n      function slowSearches(nodes) {\n        let closedNodes = _.reverse(nodes.slice());\n        const delay = 250;\n        function popAndSearch() {\n          let node = closedNodes.pop();\n          if (!node) return;\n          if (_.has(node, \"title\")) {\n            let lineGuess = pp.guessLineType(node.title, self.getSources);\n            if (lineGuess.resource_type === 'Temp') {\n              lineGuess.guesses.forEach(({query, source}) => {\n                self.$store.dispatch(\"case_search/fetchForSource\", {queryObj:{ query } ,source});\n              })\n            } else {\n              let queryObj = {query: node.title};\n              self.$store.dispatch(\"case_search/fetchForAllSources\", { queryObj });\n            }\n          }\n          setTimeout(popAndSearch,delay);\n        }\n        popAndSearch();\n      }\n\n      if (this.allNodesSpecified) {\n        return;\n      }\n      this.inAuditMode = true;\n      // Kick off all searches\n\n      let nodes = this.needingAudit.map(this.$store.getters[\"table_of_contents/getNode\"]);\n      slowSearches(nodes);\n      let target = this.needingAudit[0];\n      this.auditStep(target);\n    },\n    auditStep: function(id) {\n      // reveal the ID\n      this.$store\n        .dispatch(\"table_of_contents/revealNode\", {\n          casebook: this.casebook,\n          id\n        })\n        .then(() => {\n          // Zoom to it\n          const node = this.$store.getters[\"table_of_contents/getNode\"](id);\n          if (!node) return;\n          const url_parts = node.url.split(\"/\");\n          const hash = url_parts[url_parts.length - 2];\n          let elem = document.getElementById(hash);\n          let y = elem.getBoundingClientRect().top + window.pageYOffset - 60;\n          window.scrollTo({ top: y, behavior: \"smooth\" });\n          //elem.scrollIntoView({block: \"start\", inline: \"nearest\", behavior: 'smooth'});\n          // Augment the node with the audit-portal\n          this.$store.dispatch(\"table_of_contents/setAudit\", { id });\n        });\n    },\n    handleSubmitResponse: function handleSubmitResponse(id) {\n      this.$store.dispatch(\"table_of_contents/clearAudit\", {id});\n      this.$store.dispatch(\"table_of_contents/fetch\", {\n        casebook: this.casebook,\n        subsection: this.section\n      });\n    },\n    handleSubmitErrors: function handleSubmitErrors(error) {\n      console.error(error);\n    }\n  },\n  watch: {\n    allSearchResults: function(newVal) {\n      const self = this;\n      newVal.forEach(({ url, id, queryObj, searchResults }) => {\n        if (searchResults &&\n            _.has(searchResults, 'results') &&\n            _.isArray(searchResults.results) &&\n            searchResults.results.length === 1) {\n          let foundDoc = searchResults.results[0];\n          const data = { from: \"Temp\", to: \"LegalDocument\", id: foundDoc.id, source_id: foundDoc.source_id, title: foundDoc.shortName};\n          if (!_.has(this.autoAudited, id)) {\n            this.autoAudited[id] = true;\n            Axios.patch(url, data).then(\n              () => self.handleSubmitResponse(id),\n              this.handleSubmitError\n            );\n          }\n        }\n      });\n    },\n    currentAuditId: function(newVal) {\n      if (newVal === \"None\") {\n        this.inAuditMode = false;\n      }\n      if (this.inAuditMode) {\n        this.auditStep(this.currentAuditId);\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['getSources', 'getSearch']),\n    inAuditMode: {\n      get: function() {\n        return this.$store.getters['globals/inAuditMode']();\n      },\n      set: function(val) {\n        this.$store.commit('globals/setAuditMode', val);\n      }\n    },\n    currentAuditId: function() {\n      return this.needingAudit.length > 0 ? this.needingAudit[0] : \"None\";\n    },\n    casebook: function() {\n      return this.$store.getters[\"globals/casebook\"]();\n    },\n    section: function() {\n      return this.$store.getters[\"globals/section\"]();\n    },\n    needingAudit: function() {\n      return this.$store.getters[\"table_of_contents/auditTargets\"](\n        this.section || this.casebook\n      );\n    },\n    allNodesNeedingSearch: function() {\n      let allNodes = [];\n      let self = this;\n      this.needingAudit.forEach(id => {\n        const node = this.$store.getters[\"table_of_contents/getNode\"](id);\n        if (node && node.resource_type === 'Temp') {\n          if (_.has(node, \"title\")) {\n            let lineGuess = pp.guessLineType(node.title, this.getSources);\n            if (lineGuess.resource_type === 'Temp') {\n              lineGuess.guesses.forEach(guess => {\n                let query = guess.query;\n                let source = guess.source;\n                self.$store.dispatch(\"case_search/fetchForSource\", {queryObj:{ query } ,source });\n              })\n              let queryObj = {query: lineGuess.guesses[0].query};\n              allNodes.push({url: node.url, id:node.id, queryObj});\n            } else {\n              let queryObj = {query: node.title};\n              self.$store.dispatch(\"case_search/fetchForAllSources\", { queryObj });\n              allNodes.push({url: node.url, id:node.id, queryObj});\n            }\n          }\n\n        }\n      });\n      return allNodes;\n    },\n    allSearchResults: function() {\n      return this.allNodesNeedingSearch.map(node => ({...node,\n                                                      searchResults: this.getSearch(node.queryObj)}));\n    },\n    allNodesSpecified: function() {\n      return this.needingAudit.length === 0;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\nbutton.action.audit-casebook {\n  background-image: url('~static/images/ui/casebook/audit-casebook.svg');\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuditButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuditButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AuditButton.vue?vue&type=template&id=4bd156fc&\"\nimport script from \"./AuditButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AuditButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AuditButton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.finalizingGroup)?_c('Modal',{on:{\"close\":function($event){_vm.finalizingGroup = false}}},[_c('template',{slot:\"title\"},[_vm._v(\"Group Casebooks\")]),_c('template',{slot:\"body\"},[_c('form',{staticClass:\"form-group\",on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createGroup.apply(null, arguments)}}},[_c('div',[(_vm.selectedCoAuthors.length > 0)?_c('div',[_vm._v(\" The following co-authors will also see this group: \"),_c('span',[_vm._v(_vm._s(_vm.selectedCoAuthors))])]):_vm._e(),_c('label',{attrs:{\"for\":\"newGroupTitle\"}},[_vm._v(\" Title \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newGroupTitle),expression:\"newGroupTitle\"}],staticClass:\"form-control\",attrs:{\"name\":\"newGroupTitle\",\"type\":\"text\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.newGroupTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newGroupTitle=$event.target.value}}}),(_vm.takenTitle)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" This title is in use by you or one of your co-authors already. \")]):_vm._e()]),_c('br'),_c('div',[_c('label',{attrs:{\"for\":\"current\"}},[_vm._v(\" Current Edition \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newGroupCurrent),expression:\"newGroupCurrent\"}],staticClass:\"form-control\",attrs:{\"name\":\"current\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.newGroupCurrent=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.selectedCasebooks),function(casebook){return _c('option',{key:casebook.id,domProps:{\"value\":casebook}},[_vm._v(_vm._s(casebook.title))])}),0)]),(_vm.user.public_url)?_c('div',{staticClass:\"advice\"},[_vm._v(\" The current edition will be available at \"),_c('span',[_vm._v(_vm._s(_vm.newPublicUrl))])]):_c('div',{staticClass:\"advice\"},[_vm._v(\" Your author URL isn't yet set. To give this casebook a nice public url set it up \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"/accounts/edit/\"}},[_vm._v(\" on your profile page\")]),_vm._v(\". \")]),_c('br'),_c('button',{staticClass:\"btn btn-primary full-width\",attrs:{\"disabled\":_vm.takenTitle,\"type\":\"submit\"},on:{\"submit\":_vm.createGroup}},[_vm._v(\"Group these casebooks\")])])])],2):_vm._e(),_c('div',{staticClass:\"dashboard-header\"},[_c('h1',[_vm._v(_vm._s(_vm.user.name))]),(_vm.user.pronouns)?_c('span',{staticClass:\"pronouns\"},[_vm._v(\" (\"+_vm._s(_vm.user.pronouns)+\")\")]):_vm._e(),(_vm.user.personal_site)?_c('a',{staticClass:\"personal-site\",attrs:{\"href\":_vm.user.personal_site}},[_vm._v(\" \"+_vm._s(_vm.user.personal_site)+\" \")]):_vm._e()]),(_vm.user.short-_vm.bio)?_c('div',{staticClass:\"short-bio\"},[_vm._v(\" \"+_vm._s(_vm.user.short_bio)+\" \")]):_vm._e(),_c('h2',{staticClass:\"casebooks\"},[_vm._v(\"Casebooks\")]),(_vm.user.active)?_c('div',{staticClass:\"archived-link\"},[_c('a',{attrs:{\"href\":\"/casebooks/archived/\"}},[_vm._v(\"[View Archived Casebooks]\")])]):_vm._e(),_c('hr',{staticClass:\"owned\"}),(_vm.user.active && !_vm.managingCasebooks)?_c('div',{staticClass:\"management-links\"},[_c('a',{attrs:{\"href\":\"#\",\"role\":\"button\"},on:{\"click\":_vm.startManagement}},[_vm._v(\"Manage Casebooks\")])]):_vm._e(),(_vm.user.active && _vm.managingCasebooks)?_c('div',{staticClass:\"management-links\"},[_c('ul',[_c('li',[_c('a',{class:{'disabled': !_vm.canArchive},attrs:{\"href\":\"#\",\"role\":\"button\"},on:{\"click\":_vm.archiveCasebooks,\"mouseover\":function($event){return _vm.activateHelp(_vm.archiveHelp)},\"mouseleave\":_vm.deactivateHelp}},[_vm._v(\" Archive selected \")])]),_c('li',[_c('a',{class:{'disabled': !_vm.canUngroup},attrs:{\"href\":\"#\",\"role\":\"button\"},on:{\"click\":_vm.unTitle,\"mouseover\":function($event){return _vm.activateHelp(_vm.ungroupHelp)},\"mouseleave\":_vm.deactivateHelp}},[_vm._v(\" Ungroup selected \")])]),_c('li',[_c('a',{class:{'disabled': !_vm.canGroup},attrs:{\"href\":\"#\",\"role\":\"button\"},on:{\"click\":_vm.finalizeGroup,\"mouseover\":function($event){return _vm.activateHelp(_vm.groupHelp)},\"mouseleave\":_vm.deactivateHelp}},[_vm._v(\" Group selected \")])]),_c('li',[_c('a',{attrs:{\"title\":\"Finish managing casebooks\",\"href\":\"#\",\"role\":\"button\"},on:{\"click\":_vm.stopManagement}},[_vm._v(\"Done\")])])]),_c('div',{staticClass:\"help-manage\",domProps:{\"innerHTML\":_vm._s(_vm.currentHelp)}})]):_vm._e(),_c('div',{staticClass:\"content-browser\"},[_c('div',{class:_vm.managingCasebooks ? 'content-selectable' : 'content-clickable'},[_vm._l((_vm.casebooks),function(casebook){return _c('casebook',{key:casebook.id,attrs:{\"selectable\":_vm.managingCasebooks,\"casebook\":casebook},model:{value:(_vm.selectedCasebooks),callback:function ($$v) {_vm.selectedCasebooks=$$v},expression:\"selectedCasebooks\"}})}),(_vm.user.active)?_c('div',{staticClass:\"create-casebook-wrapper\"},[_vm._m(0)]):_vm._e()],2)]),_vm._l((_vm.titles),function(title){return _c('div',{key:title.id,staticClass:\"title-holder\"},[_c('div',{staticClass:\"title-divider\"},[_c('span',{staticClass:\"title-name\"},[_vm._v(_vm._s(title.name))]),_c('span',{staticClass:\"title-slug\"},[(_vm.user.public_url)?_c('a',{attrs:{\"href\":_vm.titleUrl(title)}},[_vm._v(\" \"+_vm._s(_vm.titleUrl(title)))]):_c('a',{attrs:{\"href\":\"/accounts/edit/\"}},[_vm._v(\"Set up your public url \")])])]),(_vm.user.active && _vm.managingCasebooks)?_c('div',{staticClass:\"management-links\"},[_c('ul',[_c('li',[_c('a',{class:{'disabled': !_vm.canAddToGroup},on:{\"click\":function($event){return _vm.addToTitle(title)},\"mouseover\":function($event){_vm.activateTitleHelp(_vm.addToGroupHelp(title), title)},\"mouseleave\":_vm.deactivateTitleHelp}},[_vm._v(\" Add selected to group \")])]),_c('li',[_c('a',{class:{'disabled': !_vm.canSetCurrent(title)},on:{\"click\":function($event){return _vm.setCurrent(title)},\"mouseover\":function($event){_vm.activateTitleHelp(_vm.setCurrentTitleHelp(title), title)},\"mouseleave\":_vm.deactivateTitleHelp}},[_vm._v(\" Set current edition \")])]),_c('li',[_c('a',{on:{\"click\":function($event){return _vm.deleteTitle(title)}}},[_vm._v(\" Delete group \")])])]),_c('div',{staticClass:\"help-manage\",domProps:{\"innerHTML\":_vm._s(_vm.titleHelp(title))}})]):_vm._e(),(title.expanded)?_c('div',{staticClass:\"content-browser\"},[_c('div',{class:_vm.managingCasebooks ? 'content-selectable' : 'content-clickable'},[_c('div',{staticClass:\"current-edition\"},[_c('casebook',{attrs:{\"casebook\":title.current,\"selectable\":_vm.managingCasebooks},model:{value:(_vm.selectedCasebooks),callback:function ($$v) {_vm.selectedCasebooks=$$v},expression:\"selectedCasebooks\"}}),_c('div',[_vm._v(\" Current edition \")])],1),_vm._l((_vm.outDated(title)),function(casebook){return _c('casebook',{key:casebook.id,attrs:{\"casebook\":casebook,\"selectable\":_vm.managingCasebooks},model:{value:(_vm.selectedCasebooks),callback:function ($$v) {_vm.selectedCasebooks=$$v},expression:\"selectedCasebooks\"}})})],2)]):_c('div',{staticClass:\"content-browser\"},[_c('div',{staticClass:\"current-edition\"},[_c('casebook',{attrs:{\"casebook\":title.current,\"selectable\":_vm.managingCasebooks},model:{value:(_vm.selectedCasebooks),callback:function ($$v) {_vm.selectedCasebooks=$$v},expression:\"selectedCasebooks\"}}),_c('div',[_vm._v(\" Current edition \")])],1),(title.casebooks && title.casebooks.length > 1)?_c('div',{staticClass:\"expand-editions-container\"},[_c('a',{on:{\"click\":function($event){return _vm.expandTitle(title)}}},[_vm._v(\"Show \"+_vm._s(title.casebooks.length -1)+\" other editions\")])]):_c('div',{staticClass:\"expand-editions-container\"},[_vm._v(\" Only one edition. \")])])])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"create-casebook-button\",attrs:{\"type\":\"button\",\"data-action\":\"show-casebook-modal\"}},[_c('div',{staticClass:\"create-casebook-text\"},[_vm._v(\"Create a New Casebook\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['padded', _vm.selected ? 'selected' : '']},[_c('div',{staticClass:\"select-label-container\"},[(_vm.selectable)?_c('label',[_vm._v(\" Select \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectionIndirection),expression:\"selectionIndirection\"}],staticClass:\"casebook-check\",attrs:{\"type\":\"checkbox\"},domProps:{\"value\":_vm.casebook,\"checked\":Array.isArray(_vm.selectionIndirection)?_vm._i(_vm.selectionIndirection,_vm.casebook)>-1:(_vm.selectionIndirection)},on:{\"change\":function($event){var $$a=_vm.selectionIndirection,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.casebook,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectionIndirection=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectionIndirection=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectionIndirection=$$c}}}})]):_vm._e()]),_c(_vm.clickAction,{tag:\"component\",staticClass:\"wrapper\",attrs:{\"href\":_vm.outerUrl},on:{\"click\":_vm.selectBook}},[_c('div',{staticClass:\"casebook-container\"},[_c('div',{class:{'content-page': true,\n                          'archived': _vm.casebook.is_archived,\n                          'public': _vm.casebook.is_public ,\n                          'draft': !(_vm.casebook.is_public || _vm.casebook.is_archived)}},[_c('div',{staticClass:\"state\"},[_vm._v(_vm._s(_vm.displayState))]),(_vm.casebook.cover_image)?_c('div',{staticClass:\"cover-image-container\"},[_c('img',{staticClass:\"cover-image\",attrs:{\"src\":_vm.casebook.cover_image,\"title\":\"cover\"}})]):_c('div',{staticClass:\"casebook-info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.casebook.title))]),_c('div',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.casebook.subtitle))]),_c('div',{staticClass:\"author-info\"},[_c('div',{staticClass:\"owner\"},[_c('ul',_vm._l((_vm.attributed(_vm.casebook.authors)),function(author){return _c('li',{key:author.id,class:author.verified_professor ? 'verified-prof' : ''},[_vm._v(\" \"+_vm._s(author.attribution)+\" \")])}),0)])])]),(_vm.casebook.has_draft && _vm.casebook.user_editable)?_c(_vm.clickAction,{tag:\"component\",staticClass:\"wrapper\",attrs:{\"href\":_vm.casebook.draft_url}},[_c('div',{staticClass:\"unpublished-changes\"},[_c('span',{staticClass:\"exclamation\"},[_vm._v(\"!\")]),_c('span',{staticClass:\"description\"},[_vm._v(\"This casebook has unpublished changes.\")])])]):_vm._e()],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-bind:class=\"['padded', selected ? 'selected' : '']\">\n\n    <div class=\"select-label-container\">\n        <label v-if=\"selectable\">\n          Select\n          <input type=\"checkbox\" class=\"casebook-check\" :value=\"casebook\" v-model=\"selectionIndirection\">\n        </label>\n    </div>\n\n    <component\n      v-bind:is=\"clickAction\"\n      class=\"wrapper\"\n      :href=\"outerUrl\"\n      @click=\"selectBook\">\n\n      <div class=\"casebook-container\" >\n        <div v-bind:class=\"{'content-page': true,\n                            'archived': casebook.is_archived,\n                            'public': casebook.is_public ,\n                            'draft': !(casebook.is_public || casebook.is_archived)}\">\n          <div class=\"state\">{{ displayState }}</div>\n          <div class=\"cover-image-container\" v-if=\"casebook.cover_image\" >\n              <img class=\"cover-image\" v-bind:src=\"casebook.cover_image\" title=\"cover\"/>\n          </div>\n\n          <div v-else class=\"casebook-info\">\n            <div class=\"title\">{{ casebook.title }}</div>\n            <div class=\"subtitle\">{{ casebook.subtitle }}</div>\n\n            <div class=\"author-info\">\n              <div class=\"owner\">\n                <ul>\n                  <li v-for=\"author in attributed(casebook.authors)\" v-bind:key=\"author.id\" v-bind:class=\"author.verified_professor ? 'verified-prof' : ''\">\n                    {{ author.attribution }}\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <component v-bind:is=\"clickAction\" class=\"wrapper\" :href=\"casebook.draft_url\" v-if=\"casebook.has_draft && casebook.user_editable\">\n            <div class=\"unpublished-changes\">\n              <span class=\"exclamation\">!</span>\n              <span class=\"description\">This casebook has unpublished changes.</span>\n            </div>\n          </component>\n          \n        </div>\n\n        <!-- sub info section for when there is a casebook cover -->\n        <!-- <div class=\"casebook-sub-info\">\n          <div class=\"info-title\">{{ casebook.title }}</div>\n          <div class=\"info-author-info\">\n              <p v-for=\"author in attributed(casebook.authors)\" v-bind:key=\"author.id\">\n                {{ author.attribution }}\n              </p>\n          </div>\n            <button type=\"button\" class=\"view-book-button\" tabindex=\"-1\">\n              View\n            </button>\n        </div> -->\n\n      </div>\n\n    </component>\n\n  </div>\n  \n</template>\n\n\n<script>\nimport _ from \"lodash\";\n\nexport default {\n    props: ['casebook', 'selectable', 'value'],\n    computed: {\n        selectionIndirection: {\n            get() {\n                return this.value;\n            },\n            set(val) {\n                this.$emit('input', val);\n            }\n        },\n        clickAction: function() {\n            if (this.selectable) {\n                return 'div';\n            } else {\n                return 'a';\n            }\n        },\n        selected: function() {\n            return _.find(this.value, ({id}) => id === this.casebook.id);\n        },\n        outerUrl: function outerUrl() {\n            return this.casebook.is_public ? this.casebook.url :\n                (this.casebook.is_archived ? this.casebook.settings_url : this.casebook.edit_url);\n        },\n        displayState: function displayState() {\n            if (this.casebook.is_public) {\n                return 'Published';\n            }\n            if (this.casebook.has_draft) {\n                return 'with draft';\n            }\n            if (this.casebook.is_archived) {\n                return 'Archived';\n            }\n            return 'Draft';\n        }\n    },\n    methods: {\n        attributed: function(authors) {\n            return _.filter(authors, 'has_attribution');\n        },\n        selectBook: function() {\n            if (!this.selectable) return;\n            this.selectionIndirection = _.find(this.value, this.casebook) ?\n                _.difference(this.value, [this.casebook]) :\n                _.concat(this.value, [this.casebook]);\n        }\n    }\n};\n</script>\n\n\n<style lang=\"scss\">\n\n  @use \"sass:color\";\n  @import \"variables\";\n\n  .verified-prof {\n  background-image: url('~static/images/ui/verified.png');\n  background-position: top 6px right;\n  background-repeat: no-repeat;\n  background-size: auto;\n  }\n\n  .padded {\n    display: flex;\n    flex-wrap: wrap;\n    margin-left:20px;\n    padding-left:10px;\n    padding-top:8px;\n    flex-direction: column;\n\n    .select-label-container{\n      height: 20px;\n      text-align: right;\n    }\n    label{\n      margin-right: 20px;\n      font-size: 15px;\n      padding-bottom:12px;\n    }\n    .casebook-check{\n      margin-left: 10px;\n      width: 1.5rem;\n      height: 1.5rem;\n      border: 0;\n      outline: 0;\n      flex-grow: 0;\n      border-radius: 50%;\n      background-color: #FFFFFF;\n    }\n    &.selected {\n      background-color: rgba($light-blue,0.6);\n      outline: 2px solid $light-gray;\n      border-radius: 20px;\n      margin-bottom:20px;\n    }\n    .cover-image{\n      width:210px;\n      height:320px;\n    }\n  }\n\n  .padded :focus{\n    outline: none;\n    box-shadow:none;\n    .content-page{\n      box-shadow: 0 3px 40px rgb(0 0 0 / 0.3);\n    }\n  }\n\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Casebook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Casebook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Casebook.vue?vue&type=template&id=67481121&\"\nimport script from \"./Casebook.vue?vue&type=script&lang=js&\"\nexport * from \"./Casebook.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Casebook.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    \n    <Modal v-if=\"finalizingGroup\" @close=\"finalizingGroup = false\">\n      <template slot=\"title\">Group Casebooks</template>\n      <template slot=\"body\">\n        <form @submit.prevent.stop=\"createGroup\" class=\"form-group\">\n          <div>\n            <div v-if=\"selectedCoAuthors.length > 0\">\n              The following co-authors will also see this group:\n              <span>{{selectedCoAuthors}}</span>\n            </div>\n            <label for=\"newGroupTitle\">\n              Title\n            </label>\n            <input name=\"newGroupTitle\" class=\"form-control\" type=\"text\" v-model=\"newGroupTitle\" autofocus>\n            <div class=\"invalid-feedback\" v-if=\"takenTitle\">\n              This title is in use by you or one of your co-authors already.\n            </div>\n          </div>\n          <br>\n          <div>\n            <label for=\"current\">\n              Current Edition\n            </label>\n            <select name=\"current\" v-model=\"newGroupCurrent\" class=\"form-control\">\n              <option v-for=\"casebook in selectedCasebooks\" v-bind:key=\"casebook.id\" :value=\"casebook\">{{casebook.title}}</option>\n            </select>\n          </div>\n          <div class=\"advice\" v-if=\"user.public_url\">\n            The current edition will be available at <span>{{newPublicUrl}}</span>\n          </div>\n          <div class=\"advice\" v-else>\n            Your author URL isn't yet set. To give this casebook a nice public url set it up <a target=\"_blank\" href=\"/accounts/edit/\"> on your profile page</a>.\n          </div>\n          <br>\n          <button class=\"btn btn-primary full-width\" :disabled=\"takenTitle\" type=\"submit\" @submit=\"createGroup\">Group these casebooks</button>\n        </form>\n      </template>\n    </Modal>\n    <div class=\"dashboard-header\"> \n      <h1>{{ user.name }}</h1> \n      <span v-if=\"user.pronouns\" class=\"pronouns\"> ({{ user.pronouns }})</span>\n      <a v-if=\"user.personal_site\" class=\"personal-site\" :href=\"user.personal_site\">\n        <!-- <font-awesome-icon icon=\"fa-solid fa-link\" /> -->\n        {{ user.personal_site }}\n      </a> \n    </div>\n    <div v-if=\"user.short-bio\" class=\"short-bio\">\n      {{ user.short_bio }}\n    </div>\n    <h2 class=\"casebooks\">Casebooks</h2>\n    <div v-if=\"user.active\" class=\"archived-link\"><a href=\"/casebooks/archived/\">[View Archived Casebooks]</a></div>\n    <hr class=\"owned\"/>\n    <div class=\"management-links\" v-if=\"user.active && !managingCasebooks\"> <a href=\"#\" role=\"button\" @click=\"startManagement\">Manage Casebooks</a> </div>\n    <div class=\"management-links\" v-if=\"user.active && managingCasebooks\">\n      <ul>\n        <li>\n          <a v-bind:class=\"{'disabled': !canArchive}\"\n             @click=\"archiveCasebooks\"\n             @mouseover=\"activateHelp(archiveHelp)\"\n             @mouseleave=\"deactivateHelp\"\n             href=\"#\" role=\"button\">\n            Archive selected\n          </a>\n        </li>\n        <li>\n          <a v-bind:class=\"{'disabled': !canUngroup}\"\n             @click=\"unTitle\"\n             @mouseover=\"activateHelp(ungroupHelp)\"\n             @mouseleave=\"deactivateHelp\"\n             href=\"#\" role=\"button\">\n            Ungroup selected\n          </a>\n        </li>\n        <li>\n          <a v-bind:class=\"{'disabled': !canGroup}\"\n             @click=\"finalizeGroup\"\n             @mouseover=\"activateHelp(groupHelp)\"\n             @mouseleave=\"deactivateHelp\"\n             href=\"#\" role=\"button\">\n            Group selected\n          </a>\n        </li>\n        <li>\n          <a title=\"Finish managing casebooks\" @click=\"stopManagement\" href=\"#\" role=\"button\">Done</a>\n        </li>\n      </ul>\n\n      <div class=\"help-manage\" v-html=\"currentHelp\">\n      </div>\n    </div>\n\n<div class=\"content-browser\">\n  <div v-bind:class=\"managingCasebooks ? 'content-selectable' : 'content-clickable'\">\n    <casebook :selectable=\"managingCasebooks\" :casebook=\"casebook\" v-model=\"selectedCasebooks\" v-for=\"casebook in casebooks\" v-bind:key=\"casebook.id\"> </casebook>\n   <div v-if=\"user.active\" class=\"create-casebook-wrapper\"> \n        <button type=\"button\" data-action=\"show-casebook-modal\" class=\"create-casebook-button\">\n            <div class=\"create-casebook-text\">Create a New Casebook</div>\n        </button>\n    </div>\n  </div> \n</div>\n\n\n<div class=\"title-holder\" v-for=\"title in titles\" v-bind:key=\"title.id\">\n  <div class=\"title-divider\">\n    <span class=\"title-name\">{{ title.name }}</span>\n    <span class=\"title-slug\">\n      <a :href=\"titleUrl(title)\" v-if=\"user.public_url\"> {{titleUrl(title)}}</a>\n      <a href=\"/accounts/edit/\" v-else>Set up your public url </a>\n    </span>\n  </div>\n  <div v-if=\"user.active && managingCasebooks\" class=\"management-links\">\n    <ul>\n      <li>\n        <a\n          v-bind:class=\"{'disabled': !canAddToGroup}\"\n          @click=\"addToTitle(title)\"\n          @mouseover=\"activateTitleHelp(addToGroupHelp(title), title)\"\n          @mouseleave=\"deactivateTitleHelp\">\n          Add selected to group\n        </a>\n      </li>\n      <li>\n        <a v-bind:class=\"{'disabled': !canSetCurrent(title)}\"\n           @click=\"setCurrent(title)\"\n           @mouseover=\"activateTitleHelp(setCurrentTitleHelp(title), title)\"\n           @mouseleave=\"deactivateTitleHelp\">\n          Set current edition\n        </a>\n      </li>\n      <li>\n        <a @click=\"deleteTitle(title)\">\n          Delete group\n        </a>\n      </li>\n    </ul>\n    <div class=\"help-manage\" v-html=\"titleHelp(title)\">\n    </div>\n  </div>\n\n  <div class=\"content-browser\" v-if=\"title.expanded\">\n    <div v-bind:class=\"managingCasebooks ? 'content-selectable' : 'content-clickable'\">\n      <div class=\"current-edition\">\n        <casebook :casebook=\"title.current\" :selectable=\"managingCasebooks\" v-model=\"selectedCasebooks\"> </casebook>\n        <div> Current edition </div>\n      </div>\n      <casebook :casebook=\"casebook\"\n                v-for=\"casebook in outDated(title)\"\n                v-bind:key=\"casebook.id\"\n                :selectable=\"managingCasebooks\"\n                v-model=\"selectedCasebooks\">\n      </casebook>\n    </div>\n  </div>\n  <div class=\"content-browser\" v-else>\n    <div class=\"current-edition\">\n      <casebook :casebook=\"title.current\" :selectable=\"managingCasebooks\" v-model=\"selectedCasebooks\"> </casebook>\n      <div> Current edition </div>\n    </div>\n\n    <div v-if=\"title.casebooks && title.casebooks.length > 1\" class=\"expand-editions-container\">\n      <a @click=\"expandTitle(title)\">Show {{ title.casebooks.length -1}} other editions</a>\n    </div>\n    <div v-else class=\"expand-editions-container\">\n      Only one edition.\n    </div>\n  </div>\n</div>\n</div>\n</template>\n\n<script>\nimport _ from \"lodash\";\nimport Casebook from \"./Dashboard/Casebook\";\nimport Axios from \"../config/axios\";\nimport Vue from \"vue\";\nimport Modal from \"./Modal\";\nimport urls from \"../libs/urls\";\n\nexport default {\n    components: { Casebook, Modal },\n    data: () => ({\n        finalizingGroup: false,\n        newGroupCurrent: {},\n        selectedCasebooks: [],\n        newGroupTitle:'',\n        managingCasebooks: false,\n        currentHelp: '&nbsp;',\n        currentTitleHelp: '&nbsp;',\n        currentTitleHelpId: null,\n        casebooks:[],\n        titles:[],\n        user:{}\n    }),\n    props: ['casebookList'],\n    watch: {\n        selectedCasebooks: function(newVal) {\n            if (newVal.length >= 1) {\n                this.newGroupCurrent = this.defaultCurrent(newVal);\n            }\n        }\n    },\n    computed: {\n        selectedCoAuthors: function() {\n          return _.sortBy(\n            _.filter(\n              _.uniq(\n                _.map(\n                  _.flatMap(this.selectedCasebooks, 'authors'),\n                  'attribution')),\n              attribution => attribution !== this.user.name)\n          ).join(\", \");\n        },\n        takenTitle: function() {\n            return this.allTitleUrls.includes(this.slugifyNewTitle);\n        },\n        allTitleUrls: function() {\n            return _.uniq(_.flatMap(_.flatMap(this.allCasebooks, 'authors'), 'titles'));\n        },\n        canArchive: function() {\n            return _.every(this.selectedCasebooks, 'can_archive');\n        },\n        archiveHelp: function() {\n            return this.canArchive ? \"Archived casebooks will not be visible to others\" : \"You must unpublish casebooks before you can archive them\";\n        },\n        canGroup: function() {\n            const freeIDs = _.map(this.casebooks, 'id');\n            return this.selectedCasebooks.length > 0 && _.every(this.selectedCasebooks, ({id, is_public}) => is_public && freeIDs.includes(id));\n        },\n        groupHelp: function() {\n            return this.canGroup ? \"Collect editions of the same casebook, and promote the most recent.\" : \"Only published casebooks can be grouped. Casebooks may only belong to one group.\";\n        },\n        canUngroup: function() {\n            const freeIDs = _.map(this.casebooks, 'id');\n            return this.selectedCasebooks.length > 0 && _.find(this.selectedCasebooks, ({id}) => !freeIDs.includes(id));\n        },\n        ungroupHelp: function() {\n            return this.canUngroup ? \"Remove selected casebooks from groups\" : \"None of the selected casebooks belong to a group\";\n        },\n        uniqueSelection: function() {\n            return this.selectedCasebooks.length === 1;\n        },\n        hasTitledCasebooks: function () {\n            return this.allCasebooks.titled.length > 0;\n        },\n        newPublicUrl: function () {\n            return `${window.location.origin}/author/${this.user.public_url}/${this.slugifyNewTitle}`;\n        },\n        slugifyNewTitle: function() {\n            const toStrip = /[^a-zA-Z0-9 _-]/g;\n            let temp = this.newGroupTitle.toLowerCase().replace(toStrip,'').replace(/ /g,'-');\n            return temp.length === 0 ? '***' : temp;\n        },\n        titledCasebookSelected: function() {\n            return !_.isEmpty(_.intersectionBy(_.flatMap(this.titles, 'casebooks'), 'id'), this.selectedCasebooks);\n        },\n        allCasebooks: function() {\n            return this.casebooks.concat(_.flatMap(this.titles, 'casebooks'));\n        }\n    },\n    methods: {\n        activateHelp: function (currentHelp) {\n            this.currentHelp = currentHelp;\n        },\n        deactivateHelp: function() {\n            this.currentHelp = '&nbsp;';\n        },\n        activateTitleHelp: function(currentHelp, title) {\n            this.currentTitleHelp = currentHelp;\n            this.currentTitleHelpID = title.id;\n        },\n        deactivateTitleHelp: function() {\n            this.currentTitleHelp = '&nbsp;';\n            this.currentTitleHelpID = null;\n        },\n        titleHelp: function(title) {\n            let helpText = this.currentTitleHelp;\n            if (title.id === this.currentTitleHelpID) {\n                return helpText;\n            }\n            return '&nbsp;';\n        },\n        canSetCurrent: function(title) {\n            return this.uniqueSelection && this.selectionWithinTitle(title);\n        },\n        setCurrentTitleHelp: function(title) {\n            return this.canSetCurrent(title) ? \"Sets the current edition to the selected casebook\" : \"Please specify a unique edition to make current\";\n        },\n        canAddToGroup: function(title) {\n            return this.canGroup;\n        },\n        addToGroupHelp: function(title) {\n            return this.canAddToGroup(title) ? \"Add selected casebooks to this group\" : \"Only public casebooks that do not belong to another group can be added to this group\";\n        },\n        resetManagement: function() {\n            this.finalizingGroup = false;\n            this.newGroupCurrent =  {};\n            this.selectedCasebooks =  [];\n            this.newGroupTitle = '';\n            for(const title of this.titles) {\n                Vue.set(title, 'expanded', true);\n            }\n        },\n        titleUrl: function(title) {\n            return `${window.location.origin}/author/${this.user.public_url}/${title.public_url}/`\n        },\n        isSelected: function(casebook) {\n            return this.selectedCasebooks.filter(x => x.id === casebook.id).length === 1;\n        },\n        createGroup: function() {\n            if (this.takenTitle) return;\n            const url = '/api/titles/';\n            const data = {\n                'name': this.newGroupTitle,\n                'public_url': this.slugifyNewTitle,\n                'current': this.newGroupCurrent.id,\n                'casebooks': this.selectedCasebooks\n            };\n            Axios.post(url, data).then(\n                this.handleTitlePostResponse,\n                this.handleTitleCreateErrors\n            );\n            this.resetManagement();\n        },\n        handleTitlePostResponse: function(response) {\n            let newTitle = response.data;\n            newTitle.expanded = true;\n            const targets = newTitle.casebooks;\n            this.removeCasebooks(targets);\n            this.titles.push(newTitle);\n        },\n        handleTitleCreateErrors: function() {\n            console.error(arguments);\n        },\n        startManagement: function(){\n            this.managingCasebooks = true;\n            this.selectedCasebooks = [];\n            this.newGroupTitle = '';\n            for (const title of this.titles) {\n                this.expandTitle(title);\n            }\n        },\n        expandTitle: function(title) {\n            Vue.set(title, 'expanded', true);\n        },\n        archiveCasebooks: function() {\n            const self = this;\n            if (! this.canArchive) return;\n            for(const casebook of this.selectedCasebooks) {\n                let formData = new FormData();\n                formData.append(\"submission_type\", \"change_visibility\");\n                formData.append(\"transition_to\", \"Archived\");\n                const url = urls.url('casebook_settings')({casebookId: casebook.id});\n                Axios.post(url, formData).then(\n                    self.handleArchiveResponse(casebook),\n                    console.error\n                );\n            }\n        },\n        handleArchiveResponse: function(casebook) {\n            const self = this;\n            return function() {\n                self.removeCasebooks([casebook])\n            };\n        },\n        stopManagement: function() {\n            this.managingCasebooks = false;\n            this.selectedCasebooks = [];\n        },\n        finalizeGroup: function() {\n            if (!this.canGroup) return;\n            let potentialTitles = _.sortBy(this.selectedCasebooks.map(({title}) => title));\n            let longestPrefix = _.takeWhile(_.zip(_.map(_.first(potentialTitles)), _.map(_.last(potentialTitles))).map(([a,b]) => a === b ? a : false)).join('').trim();\n            this.newGroupTitle = longestPrefix;\n            this.finalizingGroup = true;\n        },\n        deleteTitle: function(title) {\n            const url = `/api/titles/${title.id}`;\n            Axios.delete(url).then(this.handleTitleDeleteResponse(title.id), this.handleTitleDeleteError);\n        },\n        addToTitle: function(title) {\n            let data = _.cloneDeep(title)\n            data.casebooks = title.casebooks.concat(_.difference(this.selectedCasebooks, title.casebooks));\n            this.updateTitle(data);\n        },\n        selectionWithinTitle: function(title) {\n            const ids = _.map(title.casebooks, 'id');\n            return _.every(this.selectedCasebooks, ({id}) => ids.includes(id));\n        },\n        setCurrent: function(title) {\n            if (!this.canSetCurrent) return;\n            title.current = this.selectedCasebooks[0];\n            this.updateTitle(title);\n        },\n        updateTitle: function(title) {\n            const url = `/api/titles/${title.id}`;\n            Axios.put(url, title).then(this.handleTitleUpdateResponse, this.handleTitleUpdateError);\n        },\n        unTitle: function() {\n            if (!this.canUngroup) return;\n            let titlesToUpdate = this.titles.filter(title => !_.isEmpty(_.intersectionBy(title.casebooks, this.selectedCasebooks, 'id')));\n            let emptyTitles = titlesToUpdate.filter(title => _.isEmpty(_.differenceBy(title.casebooks, this.selectedCasebooks, 'id')));\n            let truncatedTitles = _.difference(titlesToUpdate, emptyTitles);\n            for (const empty of emptyTitles) {\n                this.deleteTitle(empty);\n            }\n            const selectedIDs = _.map(this.selectedCasebooks, 'id');\n            for (const title of truncatedTitles) {\n                let data = _.cloneDeep(title);\n                data.casebooks = _.remove(data.casebooks, ({id}) => selectedIDs.includes(id));\n                if (!data.current || !data.casebooks.includes(data.current)) {\n                    data.current = this.defaultCurrent(data.casebooks);\n                }\n                this.updateTitle(data);\n            }\n        },\n        defaultCurrent: function(casebooks) {\n            return _.last(_.sortBy(_.filter(casebooks, 'is_public'), 'updated_at'));\n        },\n        handleTitleDeleteResponse: function(targetId) {\n            const self = this;\n            return function(response){\n                let freedTitle = _.findIndex(self.titles, ({id}) => id === targetId);\n                if (freedTitle !== -1) {\n                    for(const cb of self.titles[freedTitle].casebooks) {\n                        self.casebooks.push(cb);\n                    }\n                    self.titles.splice(freedTitle);\n                }\n            };\n        },\n        handleTitleDeleteError: function(response) {\n            console.error(response);\n        },\n        removeCasebooks: function(casebooks) {\n            const ids = _.map(casebooks, 'id');\n            const matcher = ({id}) => ids.includes(id);\n            function removeFromArray(casebookArray) {\n                let index = _.findIndex(casebookArray, matcher);\n                while(index !== -1) {\n                    casebookArray.splice(index,1);\n                    index = _.findIndex(casebookArray, matcher, index);\n                }\n            }\n            removeFromArray(this.casebooks);\n            for (const titleCasebooks of this.titles) {\n                removeFromArray(titleCasebooks.casebooks);\n            }\n        },\n        handleTitleUpdateResponse: function(response) {\n            const title = response.data;\n            const oldTitle = _.find(this.titles, ({id}) => id === title.id);\n            if (oldTitle) {\n                let freedCasebooks = _.difference(oldTitle.casebooks, title.casebooks);\n                for (const casebook of freedCasebooks) {\n                    this.casebooks.push(casebook);\n                }\n            }\n            this.removeCasebooks(title.casebooks);\n            let index = _.findIndex(this.titles, ({id}) => title.id);\n            if (index !== -1) {\n                Vue.set(this.titles, index, title);\n            } else {\n                this.titles.push(title);\n            }\n            this.resetManagement();\n        },\n        handleTitleUpdateError: function(response) {\n            console.error(response);\n        },\n        outDated: function(title) {\n            return _.filter(title.casebooks, ({id}) => id !== title.current.id);\n        }\n    },\n    mounted: function() {\n        this.casebooks = this.casebookList.casebooks;\n        this.titles = this.casebookList.titles;\n        this.user = this.casebookList.user;\n    }\n  };\n</script>\n\n<style lang=\"scss\">\n@use \"sass:color\";\n@import \"variables\";\n\n\n.casebook-select-list {\n    display: flex;\n    flex-direction: row;\n    padding-left:0;\n    overflow-x:scroll;\n\n    .untitled {\n        width: 100%;\n    }\n\n    .new-group-choices {\n        list-style: none;\n        display: flex;\n        flex-direction: column;\n        flex-wrap: wrap;\n        padding-left:0;\n        overflow-x:scroll;\n        li {\n            overflow-x:scroll;\n\n            &.header {\n                page-break-before: always;\n                break-before: always;\n                padding-left: 0px;\n                border-bottom: 1px solid grey;\n            }\n        }\n    }\n}\n\n.break {\n    page-break-before: always;\n    flex-basis: 100%;\n    width: 0;\n}\n\n.new-title {\n    display: flex;\n    flex-direction: row;\n    .advice {\n        align-self: flex-end;\n        margin-left: 16px;\n        margin-bottom: 16px;\n    }\n}\n\n.expand-editions-container {\n    flex-grow: 1;\n    align-self: center;\n    text-align: center;\n}\n\n.form-grid {\n    display:grid;\n    grid-template-columns: auto auto;\n    margin-top: 16px;\n    .full-width {\n        margin-top:8px;\n        grid-column-start: 1;\n        grid-column-end: 3;\n    }\n}\n\n.title-holder {\n    margin-top: 16px;\n    margin-bottom: 16px;\n}\n\n\n.content-selectable {\n    display:flex;\n    flex-wrap:wrap;\n}\n\n.content-clickable {\n    display:flex;\n    flex-wrap: wrap;\n    .padded {\n        flex-direction: column;\n        padding-bottom: 80px;\n    }\n}\n\n.management-links {\n    float:right;\n    ul {\n        list-style: none;\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end;\n        li a {\n            cursor: pointer;\n            padding-left: 4px;\n            padding-right: 4px;\n            &.disabled {\n                color: grey;\n                cursor: not-allowed;\n            }\n        }\n        li:not(:last-child):after {\n            content: \"|\";\n        }\n    }\n}\n.title-divider + .management-links {\n    margin-top: -2rem;\n}\n\n.current-edition {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.invalid-feedback {\n    color:$red;\n}\n\n.help-manage {\n    text-align: end;\n}\n.create-casebook-wrapper{\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: column;\n    padding: 35px 0px 80px 40px;\n}\n.create-casebook-button {\n    background:url('~static/images/ui/casebook/add-casebook.svg') no-repeat;\n    background-size: 60px;\n    background-position:50% 40%;\n    height: 330px;\n    width:225px;\n    border: 1px dashed gray;\n    margin-right: 10px;\n    margin-bottom: 15px;\n\n    .create-casebook-text{\n        margin-top: 40%;\n    }\n}\n.create-casebook-button:hover{\n    box-shadow: 0 3px 40px rgb(0 0 0 / 0.3);\n}\n.create-casebook-button:focus{\n    box-shadow: 0 3px 40px rgb(0 0 0 / 0.3);\n    outline:none;\n}\n\n.content-page:focus{\nbox-shadow: 0 3px 40px rgb(0 0 0 / 0.3);\n}\n\n.dashboard-header {\n\tdisplay:  flex;\n\tflex-direction: row;\n\talign-items: baseline;\n}\n\n.dashboard-header > h1 {\n    display: inline-block;\n    font-size: 2em;\n    margin-right: 0.2em;\n}\n\n.dashboard-header > .pronouns {\n    font-size: 1.3em;\n}\n\n.dashboard-header > .personal-site {\n\tmargin-left: auto \n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=159e824d&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    \n</template>\n\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nconst globalStore = createNamespacedHelpers(\"globals\");\nconst searchStore = createNamespacedHelpers(\"case_search\");\n\nexport default {\n  props: ['casebook','section', 'searchSources'],\n  created: function() {\n    if (this.casebook) this.setCasebook(this.casebook);\n    if (this.section) this.setSection(this.section);\n    if (this.searchSources) this.setSources(this.searchSources);\n    },\n  methods: {...globalStore.mapMutations(['setCasebook','setSection']),\n            ...searchStore.mapMutations(['setSources'])}\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Globals.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Globals.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Globals.vue?vue&type=template&id=2cc64de7&\"\nimport script from \"./Globals.vue?vue&type=script&lang=js&\"\nexport * from \"./Globals.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"quick-add\"}},[_c('div',{staticClass:\"form-control-group\"},[_c('form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"form-control-group inline-search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"addcontent\",\"placeholder\":\"Enter title here\"},domProps:{\"value\":(_vm.title)},on:{\"paste\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handlePaste.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resource_info),expression:\"resource_info\"}],staticClass:\"resource-type form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.resource_info=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.resource_info_options),function(option){return _c('option',{key:option.k,domProps:{\"value\":option.value}},[_vm._v(_vm._s(option.name))])}),0),_c('input',{staticClass:\"form-control btn btn-primary create-button\",attrs:{\"type\":\"submit\",\"value\":\"Add\"},on:{\"submit\":_vm.handleSubmit}})])])]),(_vm.waitingFor)?_c('div',{staticClass:\"stats\"},[_c('span',[_vm._v(_vm._s(_vm.waitingFor))]),_c('loading-spinner')],1):_vm._e()]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"advice\"},[_c('span',[_vm._v(\"Enter a single title or citation, or paste in a list or outline. To learn more, review our \"),_c('a',{attrs:{\"href\":\"https://about.opencasebook.org/making-casebooks/#quick-add\"}},[_vm._v(\"quick add documentation.\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"quick-add\">\n    <div class=\"form-control-group\">\n      <form @submit.stop.prevent=\"handleSubmit\">\n        <div class=\"form\">\n          <div class=\"form-control-group inline-search\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              v-model=\"title\"\n              name=\"addcontent\"\n              @paste.prevent.stop=\"handlePaste\"\n              placeholder=\"Enter title here\"\n            />\n            <select v-model=\"resource_info\" class=\"resource-type form-control\">\n              <option :value=\"option.value\" v-for=\"option in resource_info_options\" v-bind:key=\"option.k\">{{option.name}}</option>\n            </select>\n            <input\n              type=\"submit\"\n              class=\"form-control btn btn-primary create-button\"\n              value=\"Add\"\n              @submit=\"handleSubmit\"\n            />\n          </div>\n        </div>\n      </form>\n      <div class=\"stats\" v-if=\"waitingFor\">\n        <span>{{waitingFor}}</span>\n        <loading-spinner></loading-spinner>\n      </div>\n    </div>\n    <div class=\"advice\">\n      <span>Enter a single title or citation, or paste in a list or outline. To learn more, review our <a href=\"https://about.opencasebook.org/making-casebooks/#quick-add\">quick add documentation.</a>  </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _ from \"lodash\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport Axios from \"../config/axios\";\nimport pp from \"libs/text_outline_parser\";\nimport urls from \"libs/urls\";\nimport { createNamespacedHelpers } from \"vuex\";\n\nconst globals = createNamespacedHelpers(\"globals\");\nconst search = createNamespacedHelpers(\"case_search\");\n\nconst optionsWithoutCloning = [{name: 'Section',        value: {resource_type: 'Section'}, k: 0},\n                               {name: 'Search',         value: {resource_type: 'LegalDocument'}, k: 1},\n                               {name: 'Custom Content', value: {resource_type: 'TextBlock'}, k: 2},\n                               {name: 'Link',           value: {resource_type: 'Link'}, k: 3}];\n\nconst data = function() {\n  return {\n    title: \"\",\n    resource_info: optionsWithoutCloning[0].value,\n    resource_info_options: optionsWithoutCloning}\n};\nconst caseSearchDelay = 1000;\n\nexport default {\n  components: {\n    LoadingSpinner // eslint-disable-line vue/no-unused-components\n  },\n  props: [],\n  data: function() {\n    return { ...data(), stats: {}, waitingFor: false, unWait: () => {} };\n  },\n  directives: {},\n  computed: {\n    ...globals.mapGetters(['casebook', 'section']),\n    ...search.mapGetters(['getSources']),\n    totalIdentified: function() {\n      return _.values(this.stats).reduce((a, b) => a + b, 0);\n    },\n    lineInfo: function() {\n      return pp.guessLineType(this.title, this.getSources);\n    },\n    desiredOrdinal: function() {\n      const startOrdinal = /^[0-9]+(\\.[0-9])* /;\n      const ordinalGuess = this.title.match(startOrdinal);\n      if (ordinalGuess) {\n        return ordinalGuess[0];\n      }\n      return undefined;\n    }\n  },\n  watch: {\n    lineInfo: function() {\n      if (this.lineInfo.resource_type !== \"Unknown\") {\n        if (this.lineInfo.resource_type === 'Temp') {\n          let k = 5;\n          let newOptions = _.chain(this.lineInfo.guesses)\n              .map(guess => ({name: guess.display_type, value: guess}))\n              .uniqBy(x => x.name)\n              .map(option => ({...option, k:k++}))\n              .value();\n          this.resource_info_options = _.concat(newOptions, optionsWithoutCloning);\n          this.resource_info = this.lineInfo.guesses[0];\n        } else if (this.lineInfo.resource_type === 'Clone') {\n          let options = _.concat([{name: this.lineInfo.display_type, value: this.lineInfo, k:5}],_.cloneDeep(optionsWithoutCloning));\n          this.resource_info = options[0].value;\n          this.resource_info_options = options;\n        } else {\n          let options = _.concat([{name: this.lineInfo.display_type, value: {resource_type: this.lineInfo.resource_type}, k:5}],_.cloneDeep(optionsWithoutCloning));\n          this.resource_info = options[0].value;\n          this.resource_info_options = options;\n        }\n      }\n    }\n  },\n  methods: {\n    bulkAddUrl: urls.url('new_from_outline'),\n    resetForm: function() {\n      let resets = data();\n      _.keys(resets).forEach(k => {\n        this[k] = resets[k];\n      });\n      this.waitingFor = false;\n      this.unWait();\n      this.unWait = () => {};\n      this.manualResourceType = false;\n    },\n    handleSubmit: function() {\n      let desiredSubset = _.pick(this.resource_info, ['resource_type', 'url', 'casebookId', 'resource_id', 'sectionId', 'sectionOrd', 'userSlug','titleSlug', 'ordSlug'])\n      let nodeData = {...desiredSubset, title:this.title}\n\n      if (nodeData.resource_type === 'Unknown') {\n        nodeData.resource_type = 'Temp';\n      }\n      if (nodeData.resource_type === 'Link') {\n        if (!nodeData.url) {\n          nodeData.url = nodeData.title;\n        }\n        nodeData.title = undefined;\n      }\n      const data = {\n        section: this.section(),\n        data: [nodeData]\n      };\n      this.postData(data);\n    },\n    postData: function(data) {\n      return Axios.post(this.bulkAddUrl({casebookId:this.casebook()}), data).then(this.handleSuccess, this.handleFailure);\n    },\n    handleSuccess: function(resp) {\n      this.$store.dispatch(\"table_of_contents/slowMerge\", {\n        casebook: this.casebook(),\n        newToc: resp.data\n      });\n      this.resetForm();\n    },\n    handleFailure: function(resp) {\n      console.error(resp);\n    },\n    handlePaste: function(event) {\n      let pasted = (event.clipboardData || window.clipboardData).getData(\n        \"text\"\n      );\n      if ( pasted.indexOf(\"\\n\") >= 0) {\n        this.waitingFor = \"Parsing pasted text\";\n        let parsed = pp.cleanDocLines(pasted);\n        let [parsedJson, stats] = pp.structureOutline(parsed, this.getSources);\n        _.keys(stats).map(k => {\n          this.stats[k] = _.get(this.stats, k, 0) + stats[k];\n        });\n        this.postData({ section: this.section(),\n                        data: parsedJson.children });\n        this.title = \"\";\n      } else {\n        this.title += pasted;\n      }\n    },\n    searchForCase: _.debounce(function searchForCase() {\n      let query = this.title;\n      if (query) {\n        this.$store.dispatch(\"case_search/fetchForAllSources\", { query });\n      }\n    }, caseSearchDelay)\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/vars-and-mixins\";\n\n#quick-add {\n    border: 1px dashed black;\n    padding: 4rem;\n    .form {\n        line-height: 36px;\n        background-color: white;\n        border: 1px solid black;\n        padding: 8px;\n    }\n    \n    .inline-search.form-control-group {\n        display: flex;\n        flex-direction: row;\n        \n        *:not(:first-child) {\n            margin-left: 1rem;\n        }\n        .resource-type {\n            width: 20rem;\n        }\n        .create-button {\n            width: 12rem;\n            font-size: 18px;\n        }\n    }\n    .large-drop-down {\n        line-height: 5rem;\n        height: 46px;\n        padding: 1rem 2rem;\n        margin: 0rem;\n        float: left;\n        margin-right: 1.5rem;\n    }\n    .advice {\n        margin-top: 2rem;\n    ul {\n      margin-top: 1rem;\n    }\n  }\n  .stats {\n    margin-top: 0.5rem;\n    margin-left: 1rem;\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuickAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuickAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuickAdd.vue?vue&type=template&id=2b058145&scoped=true&\"\nimport script from \"./QuickAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./QuickAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuickAdd.vue?vue&type=style&index=0&id=2b058145&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b058145\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"type-picker\"},[_c('h4',[_vm._v(\"This is a temporary entry in your casebook. Finish it below.\")]),_c('div',[_c('div',{staticClass:\"type-tabs\"},[_c('a',{class:{ active: _vm.caseTab, 'tab': true },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.setTab('case')}}},[_vm._v(\"Case\")]),_c('a',{class:{ active: _vm.textTab, 'tab': true },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.setTab('text')}}},[_vm._v(\"Text\")]),_c('a',{class:{ active: _vm.linkTab, 'tab': true },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.setTab('link')}}},[_vm._v(\"Link\")])]),_c('div',{staticClass:\"modal-body\"},[(_vm.caseTab)?_c('div',{staticClass:\"add-resource-body\"},[_c('case-searcher',{attrs:{\"search-on-top\":false,\"can-cancel\":true},on:{\"choose\":_vm.selectCase},model:{value:(_vm.caseQueryObj),callback:function ($$v) {_vm.caseQueryObj=$$v},expression:\"caseQueryObj\"}}),_c('case-results',{attrs:{\"queryObj\":_vm.caseQueryObj},on:{\"choose\":_vm.selectCase}})],1):(_vm.textTab)?_c('div',{staticClass:\"add-resource-body\"},[_c('form',{ref:\"textForm\",staticClass:\"new-text\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitTextForm()}}},[_c('div',{class:{'form-group': true, 'has-error': _vm.errors.content}},[_c('label',{staticClass:\"textarea\"},[_vm._v(\" Text body \"),_c('editor',{model:{value:(_vm.textContent),callback:function ($$v) {_vm.textContent=$$v},expression:\"textContent\"}}),(_vm.errors.content)?_c('span',{staticClass:\"help-block has-error\"},[_c('strong',[_vm._v(_vm._s(_vm.errors.content[0].message))])]):_vm._e()],1)]),_c('input',{staticClass:\"save-button\",attrs:{\"type\":\"submit\",\"value\":\"Save text\"}})])]):(_vm.linkTab)?_c('div',{staticClass:\"add-resource-body\"},[_c('h3',[_vm._v(\"Enter the URL of any asset to link from the web.\")]),_c('h4',[_vm._v(\"Some examples: YouTube videos, PDFs, JPG, PNG, or GIF images\")]),_c('form',{ref:\"linkForm\",staticClass:\"new-link\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitLinkForm()}}},[_c('div',{class:{'form-group': true, 'has-error': _vm.errors.url}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkTarget),expression:\"linkTarget\"},{name:\"focus\",rawName:\"v-focus\"}],ref:\"link_body\",staticClass:\"form-control\",attrs:{\"name\":\"url\",\"type\":\"text\",\"placeholder\":\"Enter a URL to add it to your casebook\"},domProps:{\"value\":(_vm.linkTarget)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.linkTarget=$event.target.value}}}),(_vm.errors.url)?_c('span',{staticClass:\"help-block has-error\"},[_c('strong',[_vm._v(_vm._s(_vm.errors.url[0].message))])]):_vm._e()]),_c('input',{staticClass:\"search-button\",attrs:{\"type\":\"submit\",\"value\":\"Add linked resource\"}})])]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"type-picker\">\n    <h4>This is a temporary entry in your casebook. Finish it below.</h4>\n    <div>\n      <div class=\"type-tabs\">\n        <a\n          v-bind:class=\"{ active: caseTab, 'tab': true }\"\n          v-on:click.stop.prevent=\"setTab('case')\"\n        >Case</a>\n        <a\n          v-bind:class=\"{ active: textTab, 'tab': true }\"\n          v-on:click.stop.prevent=\"setTab('text')\"\n        >Text</a>\n        <a\n          v-bind:class=\"{ active: linkTab, 'tab': true }\"\n          v-on:click.stop.prevent=\"setTab('link')\"\n        >Link</a>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"add-resource-body\" v-if=\"caseTab\">\n          <case-searcher\n            :search-on-top=\"false\"\n            :can-cancel=\"true\"\n            v-model=\"caseQueryObj\"\n            @choose=\"selectCase\"\n          />\n          <case-results :queryObj=\"caseQueryObj\" @choose=\"selectCase\" />\n        </div>\n        <div class=\"add-resource-body\" v-else-if=\"textTab\">\n          <form ref=\"textForm\" class=\"new-text\" v-on:submit.stop.prevent=\"submitTextForm()\">\n            <div v-bind:class=\"{'form-group': true, 'has-error': errors.content}\">\n              <label class=\"textarea\">\n                Text body\n                <editor v-model=\"textContent\"></editor>\n                <span class=\"help-block has-error\" v-if=\"errors.content\">\n                  <strong>{{errors.content[0].message}}</strong>\n                </span>\n              </label>\n            </div>\n            <input class=\"save-button\" type=\"submit\" value=\"Save text\" />\n          </form>\n        </div>\n        <div class=\"add-resource-body\" v-else-if=\"linkTab\">\n          <h3>Enter the URL of any asset to link from the web.</h3>\n          <h4>Some examples: YouTube videos, PDFs, JPG, PNG, or GIF images</h4>\n          <form ref=\"linkForm\" class=\"new-link\" v-on:submit.stop.prevent=\"submitLinkForm()\">\n            <div v-bind:class=\"{'form-group': true, 'has-error': errors.url}\">\n              <input\n                class=\"form-control\"\n                ref=\"link_body\"\n                name=\"url\"\n                type=\"text\"\n                placeholder=\"Enter a URL to add it to your casebook\"\n                v-model=\"linkTarget\"\n                v-focus\n              />\n              <span class=\"help-block has-error\" v-if=\"errors.url\">\n                <strong>{{errors.url[0].message}}</strong>\n              </span>\n            </div>\n            <input class=\"search-button\" type=\"submit\" value=\"Add linked resource\" />\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CaseSearcher from \"./CaseSearcher\";\nimport CaseResults from \"./CaseResults\";\nimport Editor from \"./TinyMCEEditor\";\nimport Axios from \"../config/axios\";\nimport _ from \"lodash\";\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions } = createNamespacedHelpers(\"case_search\");\n\nexport default {\n  components: {\n    CaseSearcher,\n    CaseResults,\n    editor: Editor\n  },\n  data: () => ({\n    showModal: false,\n    currentTab: \"case\",\n    caseQueryObj: { query: \"\" },\n    textTitle: \"\",\n    textContent: \"\",\n    linkTarget: \"\",\n    errors: {}\n  }),\n  computed: {\n    casebook: function() {\n      return this.$store.getters[\"globals/casebook\"]();\n    },\n    section: function() {\n      return this.$store.getters[\"globals/section\"]();\n    },\n    focusTarget: function() {\n      if (this.caseTab) {\n        return this.$refs.case_search;\n      } else if (this.textTab) {\n        return this.$refs.text_body;\n      } else if (this.linkTab) {\n        return this.$refs.link_body;\n      }\n      return null;\n    },\n    caseTab: function() {\n      return this.currentTab === \"case\";\n    },\n    textTab: function() {\n      return this.currentTab === \"text\";\n    },\n    linkTab: function() {\n      return this.currentTab === \"link\";\n    }\n  },\n  methods: {\n    ...mapActions([\"fetch\"]),\n    displayModal: function displayModal() {\n      this.showModal = true;\n    },\n    properType: function properType() {\n      return this.sectionType[0].toUpperCase() + this.sectionType.substr(1);\n    },\n    setTab: function setTab(newTab) {\n      const self = this;\n      let tries = 0;\n      function tryFocus() {\n        if (self.$refs.case_search) {\n          self.$refs.case_search.focus();\n        } else {\n          tries += 1;\n          if (tries < 10) self.$nextTick(tryFocus);\n        }\n      }\n      this.currentTab = newTab;\n      tryFocus();\n    },\n    submitTextForm: function submitTextForm() {\n      const data = { from: \"Temp\", to: \"TextBlock\", content: this.textContent };\n      const url = window.location.href.substr(\n        0,\n        window.location.href.length - 5\n      );\n      Axios.patch(url, data).then(\n        this.handleSubmitResponse,\n        this.handleSubmitErrors\n      );\n    },\n    submitLinkForm: function submitLinkForm() {\n      const data = { from: \"Temp\", to: \"Link\", url: this.linkTarget };\n      const url = window.location.href.substr(\n        0,\n        window.location.href.length - 5\n      );\n      Axios.patch(url, data).then(\n        this.handleSubmitResponse,\n        this.handleSubmitErrors\n      );\n    },\n    selectCase: function(c) {\n      const url = window.location.href.substr(\n        0,\n        window.location.href.length - 5\n      );\n      const data = { from: \"Temp\", to: \"Case\", cap_id: c.id, h2o_case_id: c.h2o_case_id };\n      Axios.patch(url, data).then(\n        this.handleSubmitResponse,\n        this.handleSubmitErrors\n      );\n    },\n    handleSubmitResponse: function handleSubmitResponse(response) {\n      let location = response.request.responseURL;\n      window.location.href = location;\n      this.errors = {};\n    },\n    handleSubmitErrors: function handleSubmitErrors(error) {\n      if (error.response.data) {\n        this.errors = error.response.data;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@use \"sass:color\";\n@import \"variables\";\n.type-picker {\n  label.textarea {\n    width: 100%;\n  }\n  .search-tabs {\n    display: flex;\n    flex-direction: row;\n    div.search-tab {\n      color: black;\n    }\n  }\n\n  .type-tabs {\n    background-position-x: 50%;\n    background-position-y: 50%;\n    background-size: contain;\n    box-sizing: border-box;\n    color: rgb(51, 51, 51);\n    display: flex;\n    flex-direction: row;\n    font-size: 14px;\n    height: 36px;\n    line-height: 20px;\n    margin-bottom: 15px;\n    margin-left: -15px;\n    margin-right: -15px;\n    text-size-adjust: 100%;\n    width: 100%;\n    -webkit-box-direction: normal;\n    -webkit-box-orient: horizontal;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\n    a.tab {\n      border-bottom-style: solid;\n      border-bottom-width: 2px;\n      box-sizing: border-box;\n\n      cursor: pointer;\n      display: block;\n      float: none;\n      font-size: 14px;\n      font-weight: 700;\n      height: 26px;\n      line-height: 14px;\n      margin-bottom: 5px;\n      margin: 5px;\n      padding: 5px;\n      position: relative;\n      text-align: center;\n      text-decoration-line: none;\n      text-decoration-style: solid;\n      text-size-adjust: 100%;\n      width: 33%;\n      color: black;\n      text-decoration-color: black;\n      &.active,\n      &:hover {\n        color: rgb(62, 114, 216);\n        border-bottom-color: rgb(62, 114, 216);\n        text-decoration-color: rgb(62, 114, 216);\n      }\n    }\n    border-bottom: 1px solid black;\n  }\n  .search-results-entry {\n    display: table-row;\n    div {\n      padding: 0.4rem 0.2rem;\n\n      &.cite-column {\n        min-width: 9rem;\n      }\n      &.date-column {\n        min-width: 9rem;\n      }\n      &.preview-column {\n        width: 6rem;\n      }\n      display: table-cell;\n    }\n\n    &:hover {\n      background-color: color.adjust($light-blue, $alpha: -0.75);\n      cursor: pointer;\n    }\n    a[target=\"_blank\"]:after {\n      content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVR42qXKwQkAIAxDUUdxtO6/RBQkQZvSi8I/pL4BoGw/XPkh4XigPmsUgh0626AjRsgxHTkUThsG2T/sIlzdTsp52kSS1wAAAABJRU5ErkJggg==);\n      margin: 0 3px 0 5px;\n      color: black;\n    }\n  }\n\n  .search-alert {\n    display: flex;\n    flex-direction: row;\n    .spinner-message {\n      flex-direction: column;\n      align-content: center;\n      justify-content: center;\n      display: flex;\n      margin-right: 14px;\n      margin-left: 12px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceTypePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceTypePicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceTypePicker.vue?vue&type=template&id=b5db623e&\"\nimport script from \"./ResourceTypePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceTypePicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceTypePicker.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"section-cloner\"}},[_c('button',{staticClass:\"action clone-casebook-nodes\",attrs:{\"data-disable-with\":\"Clone-Node\"},on:{\"click\":function($event){return _vm.displayModal()}}},[_vm._v(\"Clone \"+_vm._s(_vm.properType()))]),(_vm.showModal)?_c('Modal',{on:{\"close\":function($event){_vm.showModal = false}}},[_c('template',{slot:\"title\"},[_vm._v(\"Clone \"+_vm._s(_vm.properType())+\" To Casebook\")]),_c('template',{slot:\"body\"},[_c('p',{staticClass:\"cloner-text\"},[_vm._v(\"The \"+_vm._s(_vm.sectionType)+\" \\\"\"),_c('em',[_vm._v(_vm._s(_vm.sectionSource))]),_vm._v(\"\\\" will be copied to the casebook you select below:\")]),_c('ul',{staticClass:\"clone-target-list\"},_vm._l((_vm.casebookTargets),function(cb){return _c('li',{key:cb.form_target},[_c('form',{attrs:{\"action\":cb.form_target,\"method\":\"POST\"}},[_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"csrfmiddlewaretoken\"},domProps:{\"value\":_vm.csrftoken}}),_c('button',{staticClass:\"link\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(cb.title))])])])}),0)])],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div id=\"section-cloner\">\n  <button class=\"action clone-casebook-nodes\" data-disable-with=\"Clone-Node\" v-on:click=\"displayModal()\">Clone {{properType()}}</button>\n  <Modal v-if=\"showModal\"\n            @close=\"showModal = false\">\n    <template slot=\"title\">Clone {{properType()}} To Casebook</template>\n    <template slot=\"body\">\n      <p class=\"cloner-text\">The {{sectionType}} \"<em>{{sectionSource}}</em>\" will be copied to the casebook you select below:</p>\n      <ul class=\"clone-target-list\">\n        <li v-for=\"cb in casebookTargets\" v-bind:key=\"cb.form_target\">\n          <form :action=\"cb.form_target\" method=\"POST\">\n            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" :value=\"csrftoken\" />\n            <button class=\"link\" type=\"submit\">{{cb.title}}</button>\n          </form>\n        </li>\n      </ul>\n    </template>\n  </Modal>\n</div>\n</template>\n\n<script>\nimport Modal from \"./Modal\";\nimport { get_csrf_token } from \"../../frontend/legacy/lib/helpers\";\n\nexport default {\n  components: {\n    Modal\n  },\n  props:{\n    casebookTargets: {type: Array},\n    sectionSource: {type: String},\n    sectionType: {type: String}\n  },\n  data: () => ({showModal: false,\n                csrftoken: get_csrf_token()}),\n  methods: {\n    displayModal: function displayModal() {\n      this.showModal = true;\n    },\n    properType: function properType() {\n      return this.sectionType[0].toUpperCase() + this.sectionType.substr(1);\n    }\n  }\n};\n\n</script>\n\n<style lang=\"scss\">\n.casebook-actions button.action.clone-casebook-nodes {\n    background-image: url('~static/images/ui/casebook/clone.svg');\n    border: none;\n}\n\nbody{\n  .cloner-text{\n    padding-left:40px;\n  }\n}\n\nul.clone-target-list {\n    list-style: none;\n    overflow: scroll;\n    max-height: 600px;\n    padding-top:4px;\n    li {\n        margin-bottom: .5rem;\n        margin-right: 40px;\n        \n        button.link {\n            padding:8px;\n            border: 0.5px solid grey;\n            font-weight: bold;\n            text-align: left;\n            width: 100%;\n            background-color: white;\n            &:hover {\n                background-color: rgb(202, 226, 249);\n            }\n             &:focus{\n                background-color: rgb(202, 226, 249);\n                outline:none;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionCloner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionCloner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionCloner.vue?vue&type=template&id=7ba2728f&\"\nimport script from \"./SectionCloner.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionCloner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SectionCloner.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"take-notes-cloner\"}},[_c('button',{staticClass:\"action annotate-casebook-nodes\",attrs:{\"data-disable-with\":\"Clone-Node\"},on:{\"click\":function($event){return _vm.displayModal()}}},[_vm._v(\"Take notes\")]),(_vm.showModal)?_c('Modal',{on:{\"close\":function($event){_vm.showModal = false}}},[_c('template',{staticClass:\"modal-title\",slot:\"title\"},[_c('span',{staticClass:\"take-notes-icon\"}),_c('h4',[_vm._v(\"Copy this \"+_vm._s(_vm.properType())+\" to Take Notes\")])]),_c('template',{staticClass:\"modal-body-take-notes\",slot:\"body\"},[_c('p',{staticClass:\"take-notes-cloner-text\"},[_c('b',[_vm._v(\" To Take Notes on a specific section or resource, you need to first add a copy to an existing book in your dashboard.\"),_c('br'),_c('br'),_vm._v(\" Choose the book\")]),_vm._v(\" where you would like \\\"\"),_c('em',[_vm._v(_vm._s(_vm.sectionSource))]),_vm._v(\"\\\" to appear: \")]),_c('ul',{staticClass:\"take-notes-target-list\"},_vm._l((_vm.casebookTargets),function(cb){return _c('li',{key:cb.form_target},[_c('form',{attrs:{\"action\":cb.form_target,\"method\":\"POST\"}},[_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"csrfmiddlewaretoken\"},domProps:{\"value\":_vm.csrftoken}}),_c('button',{staticClass:\"link\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(cb.title))])])])}),0)])],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div id=\"take-notes-cloner\">\n  <button class=\"action annotate-casebook-nodes\" data-disable-with=\"Clone-Node\" v-on:click=\"displayModal()\">Take notes</button>\n  <Modal v-if=\"showModal\"\n            @close=\"showModal = false\">\n    <template class=\"modal-title\" slot=\"title\">\n      <span class=\"take-notes-icon\"></span>\n      <h4>Copy this {{properType()}} to Take Notes</h4>\n    </template>\n    <template class=\"modal-body-take-notes\" slot=\"body\">\n      <p class=\"take-notes-cloner-text\"> <b> To Take Notes on a specific section or resource, you need to first add a copy to an existing book in your dashboard.<br/><br/> Choose the book</b>  where you would like  \"<em>{{sectionSource}}</em>\" to appear: </p>\n      <ul class=\"take-notes-target-list\">\n        <li v-for=\"cb in casebookTargets\" v-bind:key=\"cb.form_target\">\n          <form :action=\"cb.form_target\" method=\"POST\">\n            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" :value=\"csrftoken\" />\n            <button class=\"link\" type=\"submit\">{{cb.title}}</button>\n          </form>\n        </li>\n      </ul>\n    </template>\n  </Modal>\n</div>\n</template>\n\n<script>\nimport Modal from \"./Modal\";\nimport { get_csrf_token } from \"../legacy/lib/helpers\";\n\nexport default {\n  components: {\n    Modal\n  },\n  props:{\n    casebookTargets: {type: Array},\n    sectionSource: {type: String},\n    sectionType: {type: String}\n  },\n  data: () => ({showModal: false,\n                csrftoken: get_csrf_token()}),\n  methods: {\n    displayModal: function displayModal() {\n      this.showModal = true;\n    },\n    properType: function properType() {\n      return this.sectionType[0].toUpperCase() + this.sectionType.substr(1);\n    }\n  }\n};\n\n</script>\n\n<style lang=\"scss\">\n.casebook-actions button.action.annotate-casebook-nodes {\n    background-image: url('~static/images/take-notes-icon.svg');\n    border: none;\n}\n.annotate-casebook{\n  background-image: url('~static/images/take-notes-icon.svg');\n  border: none;\n}\n.modal-title{\n  padding-left: 30px;\n  padding-top: 5px;\n  font-weight:600;\n  text-align: center;\n  display:flex;\n  flex-direction: row;\n  justify-content: center;\n  .take-notes-icon{\n    background-image: url('~static/images/take-notes-icon.svg');\n    display: inline-block;\n    height: 35px;\n    width: 35px;\n  }\n  h4{\n    margin-left: 10px;\n  }\n}\n\n.take-notes-cloner-text{\n  padding-left: 40px;\n  p{\n    font-size: 16px;\n    padding: 10px;\n    margin-right: 40px;\n  }\n  b{\n    color:#3E72D8;\n  }\n}\n\nul.take-notes-target-list {\n    list-style: none;\n    overflow: scroll;\n    max-height: 600px;\n    padding-top:4px;\n    padding-left: 40px;\n    li {\n        margin-bottom: .5rem;\n        margin-right: 40px;\n        \n        button.link {\n            padding:8px;\n            border: 0.5px solid grey;\n            font-weight: bold;\n            text-align: left;\n            width: 100%;\n            background-color: white;\n            &:hover {\n                background-color: rgb(202, 226, 249);\n            }\n            &:focus{\n                background-color: rgb(202, 226, 249);;\n                outline:none;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TakeNotesCloner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TakeNotesCloner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TakeNotesCloner.vue?vue&type=template&id=09417774&\"\nimport script from \"./TakeNotesCloner.vue?vue&type=script&lang=js&\"\nexport * from \"./TakeNotesCloner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TakeNotesCloner.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{directives:[{name:\"selectionchange\",rawName:\"v-selectionchange\",value:(_vm.selectionchangeHandler),expression:\"selectionchangeHandler\"}],staticClass:\"resource\"},[(_vm.editable)?_c('TheAnnotator',{ref:\"annotator\"}):_vm._e(),(_vm.collapsible.length)?_c('TheGlobalElisionExpansionButton'):_vm._e(),_c('TheResourceBody',{attrs:{\"resource\":_vm.resource}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const BLOCK_LEVEL_ELEMENTS = [\n  \"ADDRESS\",\n  \"ARTICLE\",\n  \"ASIDE\",\n  \"BLOCKQUOTE\",\n  \"DETAILS\",\n  \"DIALOG\",\n  \"DD\",\n  \"DIV\",\n  \"DL\",\n  \"DT\",\n  \"FIELDSET\",\n  \"FIGCAPTION\",\n  \"FIGURE\",\n  \"FOOTER\",\n  \"FORM\",\n  \"H1\",\n  \"H2\",\n  \"H3\",\n  \"H4\",\n  \"H5\",\n  \"H6\",\n  \"HEADER\",\n  \"HGROUP\",\n  \"HR\",\n  \"IFRAME\",\n  \"IMG\",\n  \"LI\",\n  \"MAIN\",\n  \"NAV\",\n  \"OL\",\n  \"P\",\n  \"PRE\",\n  \"SECTION\",\n  \"TABLE\",\n  \"UL\"\n];\n\nexport const isBlockLevel = (el) =>\n  BLOCK_LEVEL_ELEMENTS.includes(el.tagName);\n\nexport const isElement = (node) =>\n  node.nodeType == document.ELEMENT_NODE;\n\nexport const isText = (node) =>\n  node.nodeType == document.TEXT_NODE;\n\nexport const isBR = (node) =>\n  node.tagName == \"BR\" || node.tagName == \"IMG\";\n\nexport const getLength = (node) =>\n  node.textContent.length;\n\nexport const getAttrsMap = (el) => {\n  let nodelist = el.attributes;\n  let attrmap = {};\n  let i = 0;\n  for (; i < nodelist.length; i++) {\n    attrmap[nodelist[i].name] = nodelist[i].value;\n  }\n  return attrmap;\n};\n\nexport const getClosestElement = (node) =>\n  isText(node) ? node.parentNode : node;\n\n  /**\n   *\n   * Get the character offset within the case text itself.\n   *\n   * @param {Node} parent The top-level parent, usually the selector `.case-text` that contains the entire case HTML\n   * @param {Node} child The node where the selection took place.\n   * @param {function} accept A filter function to accept or reject a node from inclusion in the treewalker\n   * @returns {number} the offset\n   */\nexport const getOffsetWithinParent = (parent, child, accept) => {\n  const filter = accept ? {acceptNode: (node) => accept(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT} : null;\n  const walker = document.createTreeWalker(parent, NodeFilter.SHOW_ALL, filter);\n\n  // Determine when to stop walking through the nodes to find the start position of the selection...\n  const continueCondition = child.nodeType === document.TEXT_NODE ?\n      // If the user started their selection in a text node, stop the iteration at the point when we get to that node\n      (node) => node && node !== child:\n      // If the user started their selection on an element boundary, stop at the containing element\n      (node) => node && !child.contains(node)\n\n  let offset = 0;\n  let node = walker.nextNode();\n\n  while (continueCondition(node)) {\n    if (node.nodeType === document.TEXT_NODE) {\n      offset += getLength(node);\n    }\n    node = walker.nextNode();\n  }\n\n  return offset;\n};\n","import { isBlockLevel,\n         isElement,\n         isText,\n         getLength,\n         getAttrsMap } from \"../libs/html_helpers\";\nimport _ from 'lodash';\n\n/////////////\n// Helpers //\n/////////////\n\nconst kindToComponent = (kind) =>\n  ({elide: \"elision\",\n    replace: \"replacement\"}[kind] || kind) + \"-annotation\";\n\nexport const isFootnoteLink = (node) =>\n  Boolean(node.hash) && node.origin == location.origin && node.pathname == location.pathname;\n\nconst getTagName = (node) =>\n  isFootnoteLink(node) ? \"footnote-link\" : node.getAttribute(\"is\") || node.tagName;\n\nconst last = (array) =>\n  array[array.length - 1];\n\n///////////////\n// Filtering //\n///////////////\n\nexport const nodeToTuple = (node, prevEnd = 0) =>\n  [node, prevEnd, prevEnd + getLength(node)];\n\nexport const nodesToTuples = (parentStart) =>\n  (tuples, node) => {\n    let [_prevNode, _prevStart, prevEnd] = last(tuples) ||\n        [null, null, parentStart];\n    return tuples.concat([nodeToTuple(node, prevEnd)]);\n  };\n\nexport const splitTextAt = (breakpoints, [node, start, end]) =>\n  breakpoints\n    // remove any offsets that fall on or outside of the Text node\n    .filter(breakpoint => breakpoint > start && breakpoint < end)\n    // split the Text node; splitText() mutates the existing node\n    // in our array, truncating it, and returns a new node with\n    // the remaining text\n    .reduce((tuples, breakpoint) => {\n      let [prevNode, prevStart, prevEnd] = last(tuples);\n      let node = prevNode.splitText(breakpoint - prevStart);\n      last(tuples)[2] = breakpoint;\n      return tuples.concat([[node, breakpoint, prevEnd]]);\n    }, [[node, start, end]]);\n\nconst annotateAndConvertToVNodes = (h, annotations, tuples) =>\n      tuples\n      .reduce(insertAnnotations(h, annotations), [])\n      .map(tupleToVNode(h, annotations));\n\n// Find nodes that are within a range of offsets, stopping at the first\n// block level element found. Allows us to greedily group nodes into\n// annotations without grouping block level elements into them.\nexport const sequentialInlineNodesWithinRange = (tuples, start, end) => {\n  let inRange = tuples.filter(t => t[1] >= start && t[2] <= end);\n  const firstBlock = inRange.findIndex(t => isBlockLevel(t[0]));\n  return firstBlock == -1 ? inRange : inRange.slice(0, firstBlock);\n};\n\n// Given an annotation and the previous tuple in the list, use the\n// annotation's offset information to move forward in the list,\n// eagerly grabbing tuples that fall within its range.\n// This is the logic that allows annotations to wrap around\n// existing elements on the page.\nconst groupIntoAnnotation = (h, annotations, tuples) =>\n  (prevTuple, annotation) => {\n    // Figure out how far to reach forward for elements to group into this annotation.\n    // get the forward elements that fall within our range\n    let childTuples = [prevTuple, ...sequentialInlineNodesWithinRange(tuples, prevTuple[2], annotation.end_offset)];\n\n    // Vue will strip single spaces between annotation tags, unless\n    // within a PRE tag, so we create a special component to handle this\n    // Details: https://github.com/harvard-lil/h2o/issues/680\n    // Vue's logic for what gets stripped:\n    // https://github.com/vuejs/vue/blob/e90cc60c4718a69e2c919275a999b7370141f3bf/dist/vue.esm.js#L2541-L2543\n    if(childTuples.length === 1 &&\n       isText(childTuples[0][0]) &&\n       childTuples[0][0].textContent === ' '){\n      const pre = document.createElement(\"PRE\");\n      pre.setAttribute(\"is\", \"space-preserver\");\n      childTuples[0][0] = pre;\n    }\n\n    let props = {startOffset: prevTuple[1],\n                 endOffset: last(childTuples)[2],\n                 isHead: !annotation.used};\n    annotation.used = true;\n\n    return [h(kindToComponent(annotation.kind),\n              {key: `${annotation.id}/${props.startOffset}-${props.endOffset}`,\n               props: {...props,\n                       annotation: annotation}},\n              // remove this annotation from the set so the children don't duplicate it in their renders\n              annotateAndConvertToVNodes(h, annotations.filter(a => a != annotation), childTuples)),\n            props.startOffset,\n            props.endOffset];\n  };\n\n// Loop through the tuples and add annotations when found\nconst insertAnnotations = (h, annotations) =>\n  (modifiedTuples, tuple, idx, orgTuples) => {\n    let [node, start, end] = tuple;\n    let [_prevNode, _prevStart, prevEnd] = last(modifiedTuples) ||\n        [null, null, orgTuples[0][1]];\n\n    // If the previous tuple's end offset is greater than the current tuple's\n    // start offset, the current tuple has already been grouped into an\n    // annotation's children list so skip it in modifiedTuples so as not\n    // to duplicate it in the render\n    if(prevEnd > start) {\n      return modifiedTuples;\n      // If this is a block level element, don't wrap it since annotations\n      // use <span>s in order to wrap the text as lines, rather than a block,\n      // and wrapping block level elements with inline elements is forbidden.\n      // The script will instead recurse into this node later on and wrap the\n      // content contained therein.\n    } else if(isBlockLevel(node)){\n      return modifiedTuples.concat([tuple]);\n    } else {\n      return modifiedTuples.concat([\n        annotations\n        // Annotations that entirely span (or exceed) the provided offsets.\n          .filter(obj => obj.start_offset <= start && obj.end_offset >= end)\n        // longest to shortest\n          .sort((a, b) => b.end_offset - a.end_offset)\n        // We only want the first annotation, for now, but keeping\n        // it as an array conveniently allows reduce to\n        // return the normal tuple as a default if no annotations exist\n          .slice(0, 1)\n          .reduce(groupIntoAnnotation(h, annotations, orgTuples), tuple)]);\n    }\n  };\n\n// Return the offsets within this element where\n// annotations need to start or end\nexport const annotationBreakpoints = (annotations, start, end) =>\n  annotations\n    // Annotations whose start or end points fall WITHIN\n    // (i.e. not on the edges) the start and end bounds.\n    .filter(a => a.start_offset > start || a.end_offset < end)\n    .reduce((breakpoints, a) => breakpoints.concat([a[\"start_offset\"], a[\"end_offset\"]]), [])\n    .filter((breakpoint, index, breakpoints) => breakpoints.indexOf(breakpoint) === index) // remove dupes\n    .sort((a, b) => a - b); // sort lowest to highest\n\nexport const splitNodeList = (annotations, nodeList, start, end) => {\n  const breakpoints = annotationBreakpoints(annotations, start, end);\n  return Array.from(nodeList)\n    // transform our Node array to an array of [Node, start, end] tuples\n    .reduce(nodesToTuples(start), [])\n    // break text nodes at points where annotations exist\n    .reduce((tuples, tuple) => tuples.concat(\n      isText(tuple[0])\n        ? splitTextAt(breakpoints, tuple)\n        : [tuple]\n    ), []);\n};\n\n\nconst isFullyElided = (node) => {\n    if (_.isString(node)) {\n        return false;\n    } else {\n        if (node.tag && (_.endsWith(node.tag,'elision-annotation') || _.endsWith(node.tag,'replacement-annotation'))) {\n            return true;\n        }\n        if (node.classList && node.classList.indexOf(\"fully-elided\") > -1){\n            return true;\n        }\n        if (node.data && node.data.class && node.data.class['fully-elided']) {\n            return true;\n        }\n        return false;\n    }\n}\n\n// Vue component children arrays must contain either VNodes or\n// Strings (which get converted to VNodes automatically)\nexport const tupleToVNode = (h, annotations) =>\n  ([node, start, end]) => {\n    if(isText(node)) {\n      return node.textContent;\n    } else if(isElement(node)) {\n      // \"is\" is a Vue property that shouldn't be added to the final html\n      // See: https://vuejs.org/v2/guide/components.html#DOM-Template-Parsing-Caveats\n      let attrs = getAttrsMap(node);\n      delete attrs.is;\n\n      let tag = getTagName(node),\n          data = {attrs: attrs},\n          children = annotateAndConvertToVNodes(h, annotations, splitNodeList(annotations, node.childNodes, start, end));\n      switch(tag) {\n      case \"footnote-link\":\n          data.props = {startOffset: start,\n                      endOffset: end};\n          break;\n      }\n        if (_.some(children,isFullyElided)) {\n            const presentChildren = children.filter(x => !isFullyElided(x));\n            if (_.every(presentChildren, x => _.isString(x) && x.trim() === \"\")) {\n                data.class = {'fully-elided': true};\n            }\n        }\n      return h(tag, data, children);\n    } else {\n      return node;\n    }\n  };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',{staticClass:\"space-preserver\"},[_vm._v(\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<pre class=\"space-preserver\"> </pre>\n</template>\n\n<script>\nexport default {}\n</script>\n\n<style lang=\"scss\" scoped>\n.space-preserver {\n  display: inline;\n  margin: 0;\n  padding: 0;\n  background: none;\n  border: none;\n  font: inherit;\n  white-space: normal;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacePreserver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacePreserver.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpacePreserver.vue?vue&type=template&id=5ff42c12&scoped=true&\"\nimport script from \"./SpacePreserver.vue?vue&type=script&lang=js&\"\nexport * from \"./SpacePreserver.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpacePreserver.vue?vue&type=style&index=0&id=5ff42c12&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ff42c12\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"elision\"},[(_vm.isHead)?_c('AnnotationExpansionToggle',{attrs:{\"annotation\":_vm.annotation,\"aria-label\":\"elided text\"}}):_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uiState.expanded),expression:\"uiState.expanded\"}],staticClass:\"selected-text\"},[_vm._t(\"default\")],2),(_vm.isTail && _vm.uiState.expanded)?_c('span',{staticClass:\"sr-only\",attrs:{\"data-exclude-from-offset-calcs\":\"true\"}},[_vm._v(\"(end of elided text)\")]):_vm._e(),(_vm.hasHandle)?_c('AnnotationHandle',{attrs:{\"ui-state\":_vm.uiState}},[_c('li',[_c('a',{on:{\"click\":function($event){return _vm.toggleExpansion(_vm.uiState)}}},[(_vm.uiState.expanded)?[_vm._v(\"Hide\")]:[_vm._v(\"Reveal\")],_vm._v(\" original text \")],2)]),_c('li',[_c('a',{on:{\"click\":function($event){return _vm.destroy(_vm.annotation)}}},[_vm._v(\"Remove elision\")])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"annotation-handle\",attrs:{\"data-exclude-from-offset-calcs\":\"true\"}},[_c('button',{ref:\"button\",staticClass:\"annotation-button\",style:({right: _vm.offsetRight + 'px'}),attrs:{\"aria-label\":\"Edit annotation\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$refs.menu.open.apply(null, arguments)}}},[_vm._v(\"\")]),_c('ContextMenu',{ref:\"menu\"},[_c('ul',[_vm._t(\"default\")],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"context-menu\",style:(_vm.style),attrs:{\"tabindex\":\"-1\"},on:{\"focusout\":_vm.onFocusout,\"click\":_vm.onClick}},[_vm._t(\"default\",null,{\"data\":_vm.data})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"context-menu\"\n       v-show=\"show\"\n       :style=\"style\"\n       tabindex=\"-1\"\n       @focusout=\"onFocusout\"\n       @click=\"onClick\">\n    <slot :data=\"data\"></slot>\n  </div>\n</template>\n\n<script>\n  // via https://github.com/rawilk/vue-context/blob/master/src/vue-context.vue\n  export default {\n    props: {\n      /**\n       * Close the menu on click.\n       *\n       * @type {boolean}\n       */\n      closeOnClick: {\n        type: Boolean,\n        default: true\n      },\n      /**\n       * Close the menu automatically on window scroll.\n       *\n       * @type {boolean}\n       */\n      closeOnScroll: {\n        type: Boolean,\n        default: true\n      }\n    },\n    computed: {\n      /**\n       * Generate the CSS styles for positioning the context menu.\n       *\n       * @returns {object|null}\n       */\n      style () {\n        if (this.show && this.left) {\n          let offsetParent  =  this.$el.parentElement;\n          while (!offsetParent.classList.contains('casebook-inner') && offsetParent.parentElement) {\n            offsetParent = offsetParent.parentElement;\n          }\n          const _parentLeft = offsetParent.offsetLeft;\n          let leftSib = this.$el.previousElementSibling;\n          let leftPadding = 0;\n          while (leftSib) {\n              leftPadding += leftSib.offsetWidth;\n              leftSib = leftSib.previousElementSibling;\n          }\n          return  {left: `${this.left - _parentLeft - leftPadding}px`, top:`${this.$el.parentElement.offsetTop - this.$el.parentElement.offsetHeight}px`};\n        } else {\n          return null;\n        }\n      }\n    },\n    data () {\n      return {\n        top: null,\n        left: null,\n        show: false,\n        data: null\n      };\n    },\n    mounted () {\n      if (this.closeOnScroll) {\n        this.addScrollEventListener();\n      }\n    },\n    beforeDestroy () {\n      if (this.closeOnScroll) {\n        this.removeScrollEventListener();\n      }\n    },\n    methods: {\n      /**\n       * Add scroll event listener to close context menu.\n       */\n      addScrollEventListener () {\n        window.addEventListener('scroll', this.close);\n      },\n      onFocusout (e) {\n        if(e.relatedTarget != this.$el &&\n          !this.$el.contains(e.relatedTarget)){\n          this.close(true);\n        }\n      },\n      /**\n       * Close the context menu.\n       *\n       * @param {boolean|Event} emit Used to prevent event being emitted twice from when menu is clicked and closed\n       */\n      close (emit = true) {\n        // return;\n        this.top = null;\n        this.left = null;\n        this.data = null;\n        this.show = false;\n        if (emit) {\n          this.$emit('close');\n        }\n\n        // call the revert element or get the id of the annotation hear and kill it\n      },\n      /**\n       * Close the menu if `closeOnClick` is set to true.\n       */\n      onClick () {\n        if (this.closeOnClick) {\n          this.close(false);\n        }\n      },\n      /**\n       * Open the context menu.\n       *\n       * @param {MouseEvent} event\n       * @param {array|object|string} data User provided data for the menu\n       */\n      open (event, data) {\n        this.data = data;\n        this.show = true;\n        this.$nextTick(() => {\n          this.positionMenu(event.clientY, event.clientX);\n          this.$el.focus();\n          this.$emit('open', event, this.data, this.top, this.left);\n        });\n      },\n      /**\n       * Set the context menu top and left positions.\n       *\n       * @param {number} top\n       * @param {number} left\n       */\n      positionMenu (top, left) {\n        const largestHeight = window.innerHeight - this.$el.offsetHeight - 25;\n        const largestWidth = window.innerWidth - this.$el.offsetWidth - 25;\n        if (top > largestHeight) {\n          top = largestHeight;\n        }\n        if (left > largestWidth) {\n          left = largestWidth;\n        }\n        this.top = top;\n        this.left = left;\n      },\n      /**\n       * Remove the scroll event listener to close the context menu.\n       */\n      removeScrollEventListener () {\n        window.removeEventListener('scroll', this.close);\n      }\n    },\n    watch: {\n      /**\n       * Add or remove the scroll event listener when the prop value changes.\n       *\n       * @param {boolean} value\n       * @param {boolean} oldValue\n       */\n      closeOnScroll (value, oldValue) {\n        if (value === oldValue) {\n          return;\n        }\n        if (value) {\n          this.addScrollEventListener();\n        } else {\n          this.removeScrollEventListener();\n        }\n      }\n    }\n  };\n</script>\n\n<style lang=\"scss\">\n  @import '../styles/vars-and-mixins';\n\n  .context-menu {\n    display: block;\n    margin: 0;\n    padding: 0;\n    position: absolute;\n    z-index: 99999;\n    @include sans-serif($regular, 12px, 14px);\n    ul, form {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background-color: $white;\n      border: 1px solid $black;\n    }\n    li {\n      margin: 0;\n      padding: 10px 15px;\n      cursor: pointer;\n      white-space: nowrap;\n      &:hover {\n        background-color: $highlight;\n      }\n    }\n    ul li {\n      padding: 0;\n    }\n    a {\n      display: block;\n    }\n    a, form {\n      padding: 10px 15px;\n    }\n    &:focus {\n      outline: none;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContextMenu.vue?vue&type=template&id=6d68d3f5&\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContextMenu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\n\nconst COLLAPSIBLE_KINDS = [\"elide\", \"replace\"];\nexport const Y_FIDELITY = 5;\n\nconst state = {\n  all: []\n};\n\nconst getters = {\n  getById: state => id =>\n    state.all.find(obj => obj.id === id),\n\n  getByKind: (state, getters, rootState, rootGetters) => kinds =>\n    state.all.filter(\n      obj =>\n        kinds.includes((rootGetters[\"annotations/getById\"](obj.id) || {}).kind)\n    ),\n\n  getByHeadY: state => headY =>\n    // round this to the nearest 5 pixels because browsers\n    // sometimes report different fractional pixels for\n    // elements on the same line. We've picked \"5\" out of an\n    // abundance of caution.\n    state.all.filter(obj => Math.max(Y_FIDELITY, Math.abs(obj.headY - headY)) == Y_FIDELITY),\n\n  collapsible: (state, getters) =>\n    getters.getByKind(COLLAPSIBLE_KINDS),\n\n  areAllExpanded: (state, getters) =>\n    getters.collapsible.reduce((allExpanded, s) => allExpanded && s.expanded, true)\n};\n\nconst actions = {\n  toggleExpansion: ({ commit, getters, rootGetters }, payload) => {\n    commit(\"update\", {obj: payload, vals: {expanded: !payload.expanded}});\n\n    // Set headY=null for any annotations that come after this one\n    // in order to trigger a recalculation of their headY value and potential\n    // rerender of where their edit handle should be placed\n    let annotation = rootGetters[\"annotations/getById\"](payload.id);\n    rootGetters[\"annotations/getStartingAtOrAfter\"](annotation.start_offset)\n      .forEach(a => commit(\"update\", {obj: getters.getById(a.id),\n                                     vals: {headY: null}}));\n  },\n\n  toggleAllExpansions: ({ dispatch, getters }) =>\n    getters\n    .collapsible\n    .filter(s => s.expanded == getters.areAllExpanded)\n    .forEach(s => dispatch(\"toggleExpansion\", s)),\n\n  expandById: ({ dispatch, getters }, payload) =>\n    getters\n    .collapsible\n    .filter(s => payload.includes(s.id))\n    .forEach(s => dispatch(\"toggleExpansion\", s))\n};\n\nconst mutations = {\n  append: (state, payload) =>\n    state.all.push(...payload),\n\n  update: (state, payload) =>\n    Object.assign(payload.obj, payload.vals),\n\n  destroy: (state, payload) =>\n    state.all.splice(state.all.indexOf(payload), 1),\n\n  toggleExpansion: (state, payload) =>\n    Vue.set(payload, 'expanded', !payload.expanded)\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};\n","<template>\n<span class=\"annotation-handle\"\n      data-exclude-from-offset-calcs=\"true\">\n  <button ref=\"button\"\n          aria-label=\"Edit annotation\"\n          class=\"annotation-button\"\n          :style=\"{right: offsetRight + 'px'}\"\n          @click.prevent=\"$refs.menu.open\"></button>\n  <ContextMenu ref=\"menu\">\n    <ul><slot></slot></ul>\n  </ContextMenu>\n</span>\n</template>\n\n<script>\nimport ContextMenu from \"./ContextMenu\";\nimport { Y_FIDELITY } from \"../store/modules/annotations_ui.js\";\nimport _ from \"lodash\";\n\nexport default {\n  components: {\n    ContextMenu\n  },\n  props: {\n    uiState: {type: Object,\n              required: true}\n  },\n  computed: {\n    offsetRight() {\n      const onSameLine =\n            this.$store.getters['annotations_ui/getByHeadY'](this.uiState.headY)\n            // remove annotations that haven't been saved yet\n            .filter(a => a.id)\n            // order by offset\n            .sort((a, b) => a.start_offset - b.start_offset);\n      return -55 - (30 * (Math.max(0, onSameLine.indexOf(this.uiState))));\n    }\n  },\n  methods: {\n    updateHeadY: function() {\n      const newHeadY = this.$el.getBoundingClientRect().top + window.scrollY;\n      // Only update the headY if it's shifted by more than a certain\n      // number of pixels. Small changes to the DOM can shift it by a\n      // pixel or two, causing excessive updates and performance issues.\n      // We avoid those by rounding to a certain degree.\n      if (Math.abs(newHeadY - this.uiState.headY) > Y_FIDELITY) {\n        this.$store.commit(\n          'annotations_ui/update',\n          {obj: this.uiState,\n           vals: {headY: newHeadY}});\n      }\n    }\n  },\n  mounted() {\n    this.updateHeadY();\n  },\n  updated() {\n    this.updateHeadY();\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n$size: 28px;\n\n.annotation-handle {\n  font-size: 1.65rem;\n  font-style: normal;\n  clear: both;\n  float: right;\n}\n\n.annotation-button {\n  @include square($size);\n  position: absolute;\n  right: 0;\n  padding: 0;\n  user-select: none;\n  text-align: center;\n  line-height: $size;\n  border-radius: $size;\n  color: $light-blue;\n  border: 2px solid $white;\n  background: $light-gray;\n  font-family: \"Chronicle Text G3\", Georgia, \"Times New Roman\", Times, serif;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationHandle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationHandle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationHandle.vue?vue&type=template&id=5200425b&scoped=true&\"\nimport script from \"./AnnotationHandle.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationHandle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationHandle.vue?vue&type=style&index=0&id=5200425b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5200425b\",\n  null\n  \n)\n\nexport default component.exports","<!-- /* eslint-disable vue/valid-template-root */ -->\n<template>\n</template>\n<!-- /* eslint-enable vue/valid-template-root */ -->\n\n<script>\nimport AnnotationHandle from './AnnotationHandle';\nimport { createNamespacedHelpers } from 'vuex';\nconst { mapActions } = createNamespacedHelpers('annotations');\n\nexport default {\n  components: {\n    // are these used?\n    AnnotationHandle  // eslint-disable-line vue/no-unused-components\n  },\n  props: {\n    annotation: {type: Object,\n                 required: true},\n    // The startOffset, and endOffset here are for this\n    // particular section of the rendered annotation. Annotation templates\n    // can be split up across multiple HTML elements and each portion\n    // needs to understand its context in the length in order to know\n    // whether to show things like the annotation handle, which only\n    // the first instance (the \"head\") of the template gets\n    startOffset: {type: Number,\n                  required: true},\n    endOffset: {type: Number,\n                required: true},\n    isHead: {type: Boolean,\n             required: true}\n  },\n  data: () => ({\n    expandedDefault: true\n  }),\n  computed: {\n    uiState() {\n      return this.$store.getters['annotations_ui/getById'](this.annotation.id);\n    },\n    isNew() {\n      return Math.sign(this.annotation.id) == -1;\n    },\n    isTail() {\n      return this.endOffset == this.annotation.end_offset;\n    },\n    isEditable() {\n      return this.$store.getters[\"resources_ui/getEditability\"];\n    },\n    hasHandle() {\n      return this.isEditable && this.isHead && !this.isNew;\n    }\n  },\n  methods: {\n    ...mapActions(['destroy', 'createAndUpdate'])\n  },\n  created() {\n    if(this.isHead && this.isNew && ['highlight', 'elide'].includes(this.annotation.kind)){\n      this.createAndUpdate(\n        {obj: this.annotation, vals: {}}\n      );\n    }\n\n    if(!this.uiState) {\n      this.$store.commit('annotations_ui/append', [\n        {id: this.annotation.id,\n         expanded: this.expandedDefault,\n         headY: null}\n      ]);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationBase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationBase.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationBase.vue?vue&type=template&id=16f08814&scoped=true&\"\nimport script from \"./AnnotationBase.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationBase.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16f08814\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"toggle\",class:{expanded: _vm.uiState.expanded},attrs:{\"role\":\"button\",\"tabindex\":\"0\",\"data-exclude-from-offset-calcs\":\"true\",\"aria-expanded\":_vm.uiState.expanded || 'false'},on:{\"click\":function($event){return _vm.toggleExpansion(_vm.uiState)},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.toggleExpansion(_vm.uiState)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();return _vm.toggleExpansion(_vm.uiState)}]}},[(_vm.uiState.expanded)?_vm._t(\"expanded\"):_vm._t(\"collapsed\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<span class=\"toggle\"\n      role=\"button\"\n      tabindex=\"0\"\n      data-exclude-from-offset-calcs=\"true\"\n      :aria-expanded=\"uiState.expanded || 'false'\"\n      :class=\"{expanded: uiState.expanded}\"\n      @click=\"toggleExpansion(uiState)\"\n      @keydown.enter=\"toggleExpansion(uiState)\"\n      @keydown.space.prevent=\"toggleExpansion(uiState)\">\n  <slot name=\"expanded\"\n        v-if=\"uiState.expanded\"></slot>\n  <slot name=\"collapsed\"\n        v-else></slot>\n</span>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex';\nconst { mapActions } = createNamespacedHelpers('annotations_ui');\n\nexport default {\n  props: {\n    annotation: {type: Object,\n                 required: true}\n  },\n  computed: {\n    uiState() {\n      return this.$store.getters['annotations_ui/getById'](this.annotation.id) || {};\n    }\n  },\n  methods: {\n    ...mapActions(['toggleExpansion'])\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n.toggle {\n  font-family: Chronicle Text G3, Georgia, Times New Roman, Times, serif;\n  font-weight: 400;\n  font-size: 18px;\n  line-height:31px;\n  background-color: $translucent-light-gray;\n  color: $light-blue;\n  padding: 0.35em;\n  &:empty::before {\n    font-weight: $bold;\n    padding: 0 0.15em;\n    content: '...';\n  }\n  &.expanded:empty::before {\n    content: 'hide';\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationExpansionToggle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationExpansionToggle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationExpansionToggle.vue?vue&type=template&id=6c978a10&scoped=true&\"\nimport script from \"./AnnotationExpansionToggle.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationExpansionToggle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationExpansionToggle.vue?vue&type=style&index=0&id=6c978a10&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c978a10\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<span class=\"elision\">\n  <AnnotationExpansionToggle v-if=\"isHead\"\n                             :annotation=\"annotation\"\n                             aria-label=\"elided text\"/>\n  <!-- Use v-show rather than v-if here so that\n       the text is included in offset calculations -->\n  <span v-show=\"uiState.expanded\"\n        class=\"selected-text\"><slot></slot></span>\n  <span v-if=\"isTail && uiState.expanded\"\n        data-exclude-from-offset-calcs=\"true\"\n        class=\"sr-only\">(end of elided text)</span>\n  <AnnotationHandle v-if=\"hasHandle\"\n                    :ui-state=\"uiState\">\n    <li>\n      <a @click=\"toggleExpansion(uiState)\">\n        <template v-if=\"uiState.expanded\">Hide</template>\n        <template v-else>Reveal</template>\n        original text\n      </a>\n    </li>\n    <li>\n      <a @click=\"destroy(annotation)\">Remove elision</a>\n    </li>\n  </AnnotationHandle>\n</span>\n</template>\n\n<script>\nimport AnnotationBase from './AnnotationBase';\nimport AnnotationExpansionToggle from './AnnotationExpansionToggle';\nimport { createNamespacedHelpers } from 'vuex';\nconst { mapActions } = createNamespacedHelpers('annotations_ui');\n\nexport default {\n  extends: AnnotationBase,\n  components: {\n    AnnotationExpansionToggle\n  },\n  data: () => ({\n    expandedDefault: false\n  }),\n  methods: {\n    ...mapActions(['toggleExpansion'])\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n.case-text {\n    > :not(section), > section.casebody h4, > section.casebody p, > section.casebody blockquote {\n        &.fully-elided {\n            span.selected-text:before {\n                content: counter(index);\n                user-select: none;\n                @include sans-serif($regular, 12px, 12px);\n                position: fixed;\n                width: 100px;\n                left: -92px;\n                text-align: right;\n                line-height: 30px;\n                color: $light-blue;\n            }\n        }\n    }\n}\n\n.selected-text {\n  padding: 0.35em;\n  display: inline;\n  color: #555;\n  background-color: $translucent-light-gray;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElisionAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElisionAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElisionAnnotation.vue?vue&type=template&id=2c996573&scoped=true&\"\nimport script from \"./ElisionAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./ElisionAnnotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ElisionAnnotation.vue?vue&type=style&index=0&id=2c996573&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c996573\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"replacement\",class:{head: _vm.isHead, tail: _vm.addTailClass}},[(_vm.isHead)?[(!_vm.isEditable || _vm.uiState.expanded)?_c('AnnotationExpansionToggle',{attrs:{\"annotation\":_vm.annotation},scopedSlots:_vm._u([{key:\"collapsed\",fn:function(){return [_vm._v(_vm._s(_vm.content))]},proxy:true}],null,false,469247190)}):_c('span',{directives:[{name:\"contenteditable\",rawName:\"v-contenteditable:content\",value:(true),expression:\"true\",arg:\"content\"}],ref:\"replacementText\",staticClass:\"replacement-text\",attrs:{\"data-exclude-from-offset-calcs\":\"true\"},on:{\"blur\":_vm.revert,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.submit.apply(null, arguments)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return $event.target.blur.apply(null, arguments)}}})]:_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uiState.expanded),expression:\"uiState.expanded\"}],staticClass:\"selected-text\"},[_vm._t(\"default\")],2),(_vm.isTail && _vm.uiState.expanded)?_c('span',{staticClass:\"sr-only\",attrs:{\"data-exclude-from-offset-calcs\":\"true\"}},[_vm._v(\"(end of replaced text)\")]):_vm._e(),(_vm.hasHandle)?_c('AnnotationHandle',{attrs:{\"ui-state\":_vm.uiState}},[_c('li',[_c('a',{on:{\"click\":function($event){return _vm.toggleExpansion(_vm.uiState)}}},[(_vm.uiState.expanded)?[_vm._v(\"Hide\")]:[_vm._v(\"Reveal\")],_vm._v(\" original text \")],2)]),_c('li',[_c('a',{on:{\"click\":function($event){return _vm.destroy(_vm.annotation)}}},[_vm._v(\"Remove replacement\")])])]):_vm._e(),(_vm.isHead && _vm.isModified)?_c('SideMenu',[_c('li',[_c('a',{on:{\"mousedown\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_vm._v(\"Save\")])]),_c('li',[_c('a',{on:{\"mousedown\":function($event){$event.preventDefault();return _vm.$refs.replacementText.blur.apply(null, arguments)}}},[_vm._v(\"Cancel\")])])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"context-menu side-menu\"},[_c('ul',{staticClass:\"menu-items\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"context-menu side-menu\">\n  <ul class=\"menu-items\">\n    <slot></slot>\n  </ul>\n</div>\n</template>\n\n<script>\nexport default {\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/vars-and-mixins\";\n\n.side-menu {\n  position: absolute;\n  right: 0;\n  font-style: normal;\n}\n.menu-items {\n  position: absolute;\n  left: 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideMenu.vue?vue&type=template&id=66587456&scoped=true&\"\nimport script from \"./SideMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./SideMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SideMenu.vue?vue&type=style&index=0&id=66587456&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66587456\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<span class=\"replacement\"\n      :class=\"{head: isHead, tail: addTailClass}\">\n  <template v-if=\"isHead\">\n    <AnnotationExpansionToggle v-if=\"!isEditable || uiState.expanded\"\n                               :annotation=\"annotation\">\n      <template v-slot:collapsed>{{content}}</template>\n    </AnnotationExpansionToggle>\n    <span v-else\n          ref=\"replacementText\"\n          class=\"replacement-text\"\n          data-exclude-from-offset-calcs=\"true\"\n          @blur=\"revert\"\n          @keydown.enter.prevent=\"submit\"\n          @keyup.esc=\"$event.target.blur\"\n          v-contenteditable:content=\"true\"></span>\n  </template>\n  <!-- Use v-show rather than v-if here so that\n       the text is included in offset calculations -->\n  <span v-show=\"uiState.expanded\" class=\"selected-text\"><slot></slot></span>\n  <span v-if=\"isTail && uiState.expanded\"\n        data-exclude-from-offset-calcs=\"true\"\n        class=\"sr-only\">(end of replaced text)</span>\n  <AnnotationHandle v-if=\"hasHandle\"\n                    :ui-state=\"uiState\">\n    <li>\n      <a @click=\"toggleExpansion(uiState)\">\n        <template v-if=\"uiState.expanded\">Hide</template>\n        <template v-else>Reveal</template>\n        original text\n      </a>\n    </li>\n    <li>\n      <a @click=\"destroy(annotation)\">Remove replacement</a>\n    </li>\n  </AnnotationHandle>\n  <SideMenu v-if=\"isHead && isModified\">\n    <!-- Use mousedown to prevent replacementText from blurring too soon -->\n    <li><a @mousedown.prevent=\"submit\">Save</a></li>\n    <li><a @mousedown.prevent=\"$refs.replacementText.blur\">Cancel</a></li>\n  </SideMenu>\n</span>\n</template>\n\n<script>\nimport AnnotationBase from \"./AnnotationBase\";\nimport AnnotationExpansionToggle from \"./AnnotationExpansionToggle\";\nimport SideMenu from \"./SideMenu\";\n\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions } = createNamespacedHelpers(\"annotations\");\nconst mapUIActions = createNamespacedHelpers(\"annotations_ui\").mapActions;\n\nexport default {\n  extends: AnnotationBase,\n  components: {\n    SideMenu,\n    AnnotationExpansionToggle\n  },\n  data: () => ({\n    expandedDefault: false,\n    newVals: {content: \"\"}\n  }),\n  computed: {\n    content: {\n      get() {\n        return this.newVals.content || this.annotation.content\n      },\n      set(value) {\n        this.newVals.content = value;\n      }\n    },\n    isModified() {\n      // if it's a new annotation or the content has been changed\n      return this.isNew || this.content != this.annotation.content;\n    },\n    addTailClass() {\n      return (this.isTail && this.uiState.expanded) ||\n             (this.isHead && !this.uiState.expanded);\n    }\n  },\n  methods: {\n    ...mapUIActions([\"toggleExpansion\"]),\n    ...mapActions([\"createAndUpdate\",\n                   \"update\"]),\n\n    submit() {\n      if(this.isModified && this.content){\n        // Work around FirefoxDevEdition bug that isn't properly populating event.target.innerText reliably\n        this.newVals.content = this.$refs.replacementText.innerText;\n        this[this.isNew ? \"createAndUpdate\" : \"update\"](\n          {obj: this.annotation, vals: this.newVals}\n        );\n      } else {\n        this.$refs.replacementText.blur();\n      }\n    },\n    revert() {\n      if(this.isNew) {\n        this.$store.commit('annotations/destroy', this.annotation);\n        this.$store.commit('annotations_ui/destroy', this.uiState);\n      } else if(this.isModified) {\n        this.newVals.content = this.annotation.content;\n      }\n    }\n  },\n  mounted() {\n    // If we've inserted a placeholder annotation so that we can edit\n    // and save a new replacement, focus it once mounted.\n    if(this.isNew &&\n       this.$refs.replacementText) {\n      this.$refs.replacementText.focus();\n    }\n  },\n  updated() {\n    // If the component was updated but the annotation isn't modified,\n    // that means we just saved the annotation and should exit editing\n    if(!this.isModified &&\n       this.$refs.replacementText) {\n      this.$refs.replacementText.blur();\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n.head {\n  margin-left: 0.25em;\n}\n.tail {\n  margin-right: 0.25em;\n}\n.replacement-text,\n.selected-text {\n  background-color: $translucent-light-gray;\n  padding: 0.35em;\n}\n.selected-text {\n  display: inline;\n  color: #555;\n  border-radius: 3px;\n}  \n.replacement-text {\n  color: $light-blue;\n}\n.replacement-text:empty::before {\n  content: 'Enter replacement text';\n  color: $dark-gray;\n}\n.active .replacement-text:empty::before {\n  content: ' ';\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplacementAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplacementAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReplacementAnnotation.vue?vue&type=template&id=38ee148e&scoped=true&\"\nimport script from \"./ReplacementAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplacementAnnotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplacementAnnotation.vue?vue&type=style&index=0&id=38ee148e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38ee148e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"highlight\"},[_c('span',{staticClass:\"selected-text\"},[_vm._t(\"default\")],2),(_vm.hasHandle)?_c('AnnotationHandle',{attrs:{\"ui-state\":_vm.uiState}},[_c('li',[_c('a',{on:{\"click\":function($event){return _vm.destroy(_vm.annotation)}}},[_vm._v(\"Remove highlight\")])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<span class=\"highlight\">\n  <span class=\"selected-text\"><slot></slot></span>\n  <AnnotationHandle v-if=\"hasHandle\"\n                    :ui-state=\"uiState\">\n    <li>\n      <a @click=\"destroy(annotation)\">Remove highlight</a>\n    </li>\n  </AnnotationHandle>\n</span>\n</template>\n\n<script>\nimport AnnotationBase from './AnnotationBase';\n\nexport default {\n  extends: AnnotationBase\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n.selected-text {\n  background-color: $highlight;\n}\n\n/*\n * NOTE: TheResourceBody contains padding styles\n * for the highlight background.\n */\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HighlightAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HighlightAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HighlightAnnotation.vue?vue&type=template&id=646aeb45&scoped=true&\"\nimport script from \"./HighlightAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./HighlightAnnotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HighlightAnnotation.vue?vue&type=style&index=0&id=646aeb45&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"646aeb45\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"link\"},[_c('a',{staticClass:\"selected-text\",class:{tail: _vm.isTail},attrs:{\"href\":_vm.annotation.content,\"target\":\"_blank\"}},[_vm._t(\"default\")],2),(_vm.hasHandle)?[_c('AnnotationHandle',{attrs:{\"ui-state\":_vm.uiState}},[_c('li',[_c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.$refs.editMenu.open.apply(null, arguments)}}},[_vm._v(\"Edit link\")])]),_c('li',[_c('a',{on:{\"click\":function($event){return _vm.destroy(_vm.annotation)}}},[_vm._v(\"Remove link\")])])]),_c('ContextMenu',{ref:\"editMenu\",staticClass:\"edit-menu\",attrs:{\"data-exclude-from-offset-calcs\":\"true\",\"closeOnClick\":false}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitUpdate.apply(null, arguments)}}},[_c('LinkInput',{model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)])]:_vm._e(),(_vm.isNew && _vm.isHead)?[_c('div',{staticClass:\"link-content-wrapper\",attrs:{\"tabindex\":\"-1\"}},[_c('form',{ref:\"linkForm\",staticClass:\"form link-form\",attrs:{\"id\":(\"\" + (_vm.annotation.id)),\"tabindex\":\"0\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submit('link', _vm.content)},\"focusout\":_vm.focusOut}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],ref:\"linkInput\",attrs:{\"id\":\"link-input\",\"type\":\"url\",\"required\":\"true\",\"pattern\":\"\\\\w+://\\\\w+.*\",\"placeholder\":\"Url to link to...\",\"tabindex\":\"0\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})])])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{attrs:{\"id\":\"link-input\",\"type\":\"url\",\"required\":\"true\",\"pattern\":\"\\\\w+://\\\\w+.*\",\"placeholder\":\"Url to link to...\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<input id=\"link-input\"\n       type=\"url\"\n       required=\"true\"\n       pattern=\"\\w+://\\w+.*\"\n       placeholder=\"Url to link to...\"\n       :value=\"value\"\n       @input=\"$emit('input', $event.target.value)\"/>\n</template>\n\n<script>\nexport default {\n  props: [\"value\"]\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LinkInput.vue?vue&type=template&id=47ba0ee8&scoped=true&\"\nimport script from \"./LinkInput.vue?vue&type=script&lang=js&\"\nexport * from \"./LinkInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47ba0ee8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<span class=\"link\">\n  <a :href=\"annotation.content\" target=\"_blank\" class=\"selected-text\" :class=\"{tail: isTail}\"><slot></slot></a>\n  <template v-if=\"hasHandle\">\n    <AnnotationHandle :ui-state=\"uiState\">\n      <li>\n        <a @click.prevent=\"$refs.editMenu.open\">Edit link</a>\n      </li>\n      <li>\n        <a @click=\"destroy(annotation)\">Remove link</a>\n      </li>\n    </AnnotationHandle>\n    <ContextMenu ref=\"editMenu\"\n                 data-exclude-from-offset-calcs=\"true\"\n                 :closeOnClick=\"false\"\n                 class=\"edit-menu\">\n      <form @submit.prevent=\"submitUpdate\">\n        <LinkInput v-model=\"content\"/>\n      </form>\n    </ContextMenu>\n  </template>\n  <template v-if=\"isNew && isHead\">\n    <div class=\"link-content-wrapper\"\n    tabindex=\"-1\">\n      <form @submit.prevent=\"submit('link', content)\"\n            class=\"form link-form\"\n            :id= \"`${annotation.id}`\"\n            ref=\"linkForm\"\n            tabindex=\"0\"\n            @focusout=\"focusOut\"\n            >\n          <input id=\"link-input\"\n                type=\"url\"\n                required=\"true\"\n                pattern=\"\\w+://\\w+.*\"\n                placeholder=\"Url to link to...\"\n                ref=\"linkInput\"\n                v-model=\"content\"\n                tabindex=\"0\"/>\n      </form>\n    </div>\n  </template>\n</span>\n</template>\n\n<script>\nimport AnnotationBase from \"./AnnotationBase\";\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions } = createNamespacedHelpers(\"annotations\");\n\nimport ContextMenu from \"./ContextMenu\";\nimport LinkInput from \"./LinkInput\";\n\nexport default {\n  extends: AnnotationBase,\n  components: {\n    ContextMenu,\n    LinkInput\n  },\n  props: [\"value\"],\n  data: () => ({\n    newVals: {content: null},\n  }),\n  computed: {\n    content: {\n      get() {\n        return this.newVals.content === null\n          ? this.annotation.content\n          : this.newVals.content;\n      },\n      set(value) {\n        this.newVals.content = value;\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\"update\", \"createAndUpdate\"]),\n    submitUpdate() {\n      this.update({obj: this.annotation, vals: this.newVals});\n      this.$refs.editMenu.close();\n    },\n    submit(kind, content = null){\n      this.createAndUpdate(\n        {obj: this.annotation, vals: this.newVals}\n      );\n    },\n    focusOut(e){\n      if(Math.sign(this.annotation.id) === -1){\n        this.$store.commit('annotations/destroy', this.annotation);\n        this.$store.commit('annotations_ui/destroy', this.uiState);\n      }\n    }\n  },\n  mounted() {\n    this.$nextTick(function () {\n      if (Math.sign(this.annotation.id) == -1){\n        this.$refs.linkInput.focus();\n      }\n    })\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'vars-and-mixins';\na[target=\"_blank\"].tail {\n  background: url(~static/images/external-link-icon.svg) center right no-repeat;\n  background-size: 0.55em 0.55em;\n  padding-right: 0.7em;\n  margin-right: 0.1em;\n}\n.link-content-wrapper {\n  @include sans-serif($regular, 12px, 14px);\n  @include square(0);\n  position: absolute;\n  right: 0;\n  overflow: visible;\n  display: block;\n  z-index: 999;\n\n  /* counteract styles that might come from the enclosing section */\n  font-style: normal;\n  text-align: left;\n\n  .form {\n    display: flex;\n    flex-direction: column;\n    border: 1px solid black;\n    padding: 10px 15px;\n    width: 200px;\n    background: white;\n    margin-left: 10px;\n    z-index: 999;\n  }\n}\n.edit-menu {\n  margin-left: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LinkAnnotation.vue?vue&type=template&id=22e03138&scoped=true&\"\nimport script from \"./LinkAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./LinkAnnotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LinkAnnotation.vue?vue&type=style&index=0&id=22e03138&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22e03138\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"note\"},[_c('a',{staticClass:\"selected-text\",attrs:{\"href\":(\"#\" + (_vm.annotation.id) + \"-content\"),\"id\":_vm.isHead ? ((_vm.annotation.id) + \"-head\") : ''},on:{\"click\":function($event){$event.preventDefault();return _vm.handleClick.apply(null, arguments)}}},[_vm._t(\"default\")],2),(_vm.hasHandle)?_c('AnnotationHandle',{attrs:{\"ui-state\":_vm.uiState}},[_c('li',[_c('a',{on:{\"click\":function($event){return _vm.editNote(_vm.annotation)}}},[_vm._v(\"Edit Note\")])]),_c('li',[_c('a',{on:{\"click\":function($event){return _vm.destroy(_vm.annotation)}}},[_vm._v(\"Remove note\")])])]):_vm._e(),(_vm.isHead)?_c('span',{staticClass:\"note-content-wrapper\",class:{top: _vm.isEditing},attrs:{\"data-exclude-from-offset-calcs\":\"true\"}},[(_vm.isEditing)?_c('form',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.dismissNote),expression:\"dismissNote\"}],ref:\"noteForm\",staticClass:\"form note-content\",attrs:{\"id\":(\"\" + (_vm.annotation.id))},on:{\"submit\":function($event){$event.preventDefault();return _vm.submit('note', _vm.content)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],ref:\"noteInput\",attrs:{\"id\":\"note-textarea\",\"required\":\"true\",\"placeholder\":\"Note text...\"},domProps:{\"value\":(_vm.content)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.$refs.noteSubmitButton.click.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}}),_c('input',{ref:\"noteSubmitButton\",staticClass:\"button\",attrs:{\"type\":\"submit\",\"value\":\"Save\",\"id\":\"save-note\"}})]):[_c('a',{staticClass:\"note-icon\",attrs:{\"href\":(\"#\" + (_vm.annotation.id) + \"-head\")},on:{\"click\":function($event){$event.preventDefault();return _vm.handleClick.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-paperclip\"})]),_c('span',{staticClass:\"note-content\",attrs:{\"id\":((_vm.annotation.id) + \"-content\"),\"tabindex\":\"0\"}},[_vm._v(\" \"+_vm._s(_vm.annotation.content)+\" \")])]],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<span class=\"note\">\n  <a class=\"selected-text\"\n     :href=\"`#${annotation.id}-content`\"\n     :id=\"isHead ? `${annotation.id}-head` : ''\"\n     @click.prevent=\"handleClick\"><slot></slot></a>\n  <AnnotationHandle v-if=\"hasHandle\"\n                    :ui-state=\"uiState\">\n   <li>\n      <a @click=\"editNote(annotation)\">Edit Note</a>\n    </li>\n    <li>\n      <a @click=\"destroy(annotation)\">Remove note</a>\n    </li>\n  </AnnotationHandle>\n  <span v-if=\"isHead\"\n        class=\"note-content-wrapper\"\n        v-bind:class=\"{top: isEditing}\"\n        data-exclude-from-offset-calcs=\"true\">\n    <form v-if=\"isEditing\"\n          @submit.prevent=\"submit('note', content)\"\n          ref=\"noteForm\"\n          class=\"form note-content\"\n          :id= \"`${annotation.id}`\"\n          v-click-outside=\"dismissNote\">\n      <textarea ref=\"noteInput\"\n                id=\"note-textarea\"\n                required=\"true\"\n                placeholder=\"Note text...\"\n                @keydown.enter.prevent=\"$refs.noteSubmitButton.click\"\n                v-model=\"content\"></textarea>\n      <input ref=\"noteSubmitButton\"\n             type=\"submit\"\n             value=\"Save\"\n             id=\"save-note\"\n             class=\"button\">\n    </form>\n\n    <template v-else>\n      <a class=\"note-icon\"\n         :href=\"`#${annotation.id}-head`\"\n         @click.prevent=\"handleClick\">\n        <i class=\"fas fa-paperclip\"></i>\n      </a>\n      <span :id=\"`${annotation.id}-content`\"\n            tabindex=\"0\"\n            class=\"note-content\">\n        {{annotation.content}}\n      </span>\n    </template>\n  </span>\n</span>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport AnnotationBase from './AnnotationBase';\nimport vClickOutside from 'v-click-outside'\nimport { createNamespacedHelpers } from 'vuex';\nconst { _mapGetters } = createNamespacedHelpers('annotations_ui');\nconst { mapActions } = createNamespacedHelpers(\"annotations\");\n\nVue.use(vClickOutside)\n\nexport default {\n  extends: AnnotationBase,\n  props: [\"tempId\"],\n  data: () => ({\n    content: \"\",\n    isEditing: false\n  }),\n  methods: {\n    ...mapActions(['createAndUpdate', 'update']),\n\n    handleClick(e) {\n      document.getElementById(e.currentTarget.getAttribute(\"href\").slice(1)).focus({preventScroll: true});\n    },\n    editNote() {\n      this.isEditing = true;\n      this.content = this.annotation.content;\n    },\n    submit(kind, input = null){\n      if (this.isNew) {\n      let id = this.$refs.noteForm.id;\n      let annotation = this.$store.getters['annotations/getById'](parseInt(id));\n\n      this.createAndUpdate(\n        {obj: annotation, vals: {content: input}}\n      );\n      } else {\n        this.update({obj: this.annotation, vals:{content: input}})\n        this.isEditing = false;\n      }\n      this.content = input;\n    },\n    dismissNote(){\n      if (this.isNew) {\n        this.$store.commit('annotations/destroy', this.annotation);\n        this.$store.commit('annotations_ui/destroy', this.uiState);\n      } else {\n        this.isEditing = false;\n      }\n    }\n  },\n  mounted() {\n    this.$nextTick(function () {\n      if (Math.sign(this.annotation.id) == -1){\n        this.isEditing = true;\n        this.$refs.noteInput.focus()\n      }\n    })\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n/* Counteract bootstrap style */\na:active {\n  border-color: transparent;\n}\n\n.selected-text {\n  color: inherit;\n  /* Bootstrap's normalize uses !important so we must too */\n  text-decoration: $light-blue underline !important;\n}\n\n.note-content-wrapper {\n  display: block;\n  width: 0;\n  /* counteract styles that might come from the enclosing section */\n  font-style: normal;\n  text-align: left;\n  float:right;\n  clear:both;\n  position:relative;\n  left:60px;\n  top: 40px;\n  .form {\n    display: flex;\n    flex-direction: column;\n    border: 1px solid black;\n    padding: 10px 15px;\n    width: fit-content;\n  }\n\n  .button {\n    margin-top: 1em;\n  }\n}\n.note-icon {\n  position: absolute;\n  transform: rotate(180deg);\n  z-index: 1;\n  font-size: 17px;\n  color: $black;\n  top: -20px;\n  left: 10px;\n}\n.note-content {\n  @include sans-serif($regular, 14px, 20px);\n  display: block;\n  width: 200px;\n  padding: 10px;\n  background-color: $white;\n  color: $black;\n}\n.top {\n  z-index: 10;\n}\n</style>\n","var render, staticRenderFns\nimport script from \"./TheResourceBody.vue?vue&type=script&lang=js&\"\nexport * from \"./TheResourceBody.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheResourceBody.vue?vue&type=style&index=0&id=1b62bdcc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b62bdcc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoteAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoteAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NoteAnnotation.vue?vue&type=template&id=e2df4790&scoped=true&\"\nimport script from \"./NoteAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./NoteAnnotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NoteAnnotation.vue?vue&type=style&index=0&id=e2df4790&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e2df4790\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"correction\",class:{head: _vm.isHead, tail: _vm.addTailClass}},[(_vm.isHead)?[(!_vm.isEditable)?_c('span',[_vm._v(_vm._s(_vm.content))]):_c('span',{directives:[{name:\"contenteditable\",rawName:\"v-contenteditable:content\",value:(true),expression:\"true\",arg:\"content\"}],ref:\"correctionText\",staticClass:\"correction-text\",attrs:{\"data-exclude-from-offset-calcs\":\"true\"},on:{\"blur\":_vm.revert,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.submit.apply(null, arguments)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return $event.target.blur.apply(null, arguments)}}})]:_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uiState.expanded),expression:\"uiState.expanded\"}],staticClass:\"selected-text\"},[_vm._t(\"default\")],2),(_vm.isTail && _vm.uiState.expanded)?_c('span',{staticClass:\"sr-only\",attrs:{\"data-exclude-from-offset-calcs\":\"true\"}},[_vm._v(\"(end of replaced text)\")]):_vm._e(),(_vm.hasHandle)?_c('AnnotationHandle',{attrs:{\"ui-state\":_vm.uiState}},[_c('li',[_c('a',{on:{\"click\":function($event){return _vm.toggleExpansion(_vm.uiState)}}},[(_vm.uiState.expanded)?[_vm._v(\"Hide\")]:[_vm._v(\"Reveal\")],_vm._v(\" original text \")],2)]),_c('li',[_c('a',{on:{\"click\":function($event){return _vm.destroy(_vm.annotation)}}},[_vm._v(\"Remove correction\")])])]):_vm._e(),(_vm.isHead && _vm.isModified)?_c('SideMenu',[_c('li',[_c('a',{on:{\"mousedown\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_vm._v(\"Save\")])]),_c('li',[_c('a',{on:{\"mousedown\":function($event){$event.preventDefault();return _vm.$refs.correctionText.blur.apply(null, arguments)}}},[_vm._v(\"Cancel\")])])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<span class=\"correction\"\n      :class=\"{head: isHead, tail: addTailClass}\">\n  <template v-if=\"isHead\">\n    <span v-if=\"!isEditable\">{{content}}</span>\n    <span v-else\n          ref=\"correctionText\"\n          class=\"correction-text\"\n          data-exclude-from-offset-calcs=\"true\"\n          @blur=\"revert\"\n          @keydown.enter.prevent=\"submit\"\n          @keyup.esc=\"$event.target.blur\"\n          v-contenteditable:content=\"true\"></span>\n  </template>\n  <!-- Use v-show rather than v-if here so that\n       the text is included in offset calculations -->\n  <span v-show=\"uiState.expanded\" class=\"selected-text\"><slot></slot></span>\n  <span v-if=\"isTail && uiState.expanded\"\n        data-exclude-from-offset-calcs=\"true\"\n        class=\"sr-only\">(end of replaced text)</span>\n  <AnnotationHandle v-if=\"hasHandle\"\n                    :ui-state=\"uiState\">\n    <li>\n      <a @click=\"toggleExpansion(uiState)\">\n        <template v-if=\"uiState.expanded\">Hide</template>\n        <template v-else>Reveal</template>\n        original text\n      </a>\n    </li>\n    <li>\n      <a @click=\"destroy(annotation)\">Remove correction</a>\n    </li>\n  </AnnotationHandle>\n  <SideMenu v-if=\"isHead && isModified\">\n    <!-- Use mousedown to prevent correctionText from blurring too soon -->\n    <li><a @mousedown.prevent=\"submit\">Save</a></li>\n    <li><a @mousedown.prevent=\"$refs.correctionText.blur\">Cancel</a></li>\n  </SideMenu>\n</span>\n</template>\n\n<script>\nimport AnnotationBase from \"./AnnotationBase\";\nimport SideMenu from \"./SideMenu\";\n\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions } = createNamespacedHelpers(\"annotations\");\nconst mapUIActions = createNamespacedHelpers(\"annotations_ui\").mapActions;\n\nexport default {\n  extends: AnnotationBase,\n  components: {\n    SideMenu\n  },\n  data: () => ({\n    expandedDefault: false,\n    newVals: {content: \"\"}\n  }),\n  computed: {\n    content: {\n      get() {\n        return this.newVals.content || this.annotation.content\n      },\n      set(value) {\n        this.newVals.content = value;\n      }\n    },\n    isModified() {\n      // if it's a new annotation or the content has been changed\n      return this.isNew || this.content != this.annotation.content;\n    },\n    addTailClass() {\n      return (this.isTail && this.uiState.expanded) ||\n             (this.isHead && !this.uiState.expanded);\n    }\n  },\n  methods: {\n    ...mapUIActions([\"toggleExpansion\"]),\n    ...mapActions([\"createAndUpdate\",\n                   \"update\"]),\n\n    submit() {\n      if(this.isModified && this.content){\n        // Work around FirefoxDevEdition bug that isn't properly populating event.target.innerText reliably\n        this.newVals.content = this.$refs.correctionText.innerText;\n        this[this.isNew ? \"createAndUpdate\" : \"update\"](\n          {obj: this.annotation, vals: this.newVals}\n        );\n      } else {\n        this.$refs.correctionText.blur();\n      }\n    },\n    revert() {\n      if(this.isNew) {\n        this.$store.commit('annotations/destroy', this.annotation);\n        this.$store.commit('annotations_ui/destroy', this.uiState);\n      } else if(this.isModified) {\n        this.newVals.content = this.annotation.content;\n      }\n    }\n  },\n  mounted() {\n    // If we've inserted a placeholder annotation so that we can edit\n    // and save a new correction, focus it once mounted.\n    if(this.isNew &&\n       this.$refs.correctionText) {\n      this.$refs.correctionText.focus();\n    }\n  },\n  updated() {\n    // If the component was updated but the annotation isn't modified,\n    // that means we just saved the annotation and should exit editing\n    if(!this.isModified &&\n       this.$refs.correctionText) {\n      this.$refs.correctionText.blur();\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n.head {\n  margin-left: 0.25em;\n}\n.tail {\n  margin-right: 0.25em;\n}\n.correction-text,\n.selected-text {\n  background-color: $translucent-light-gray;\n  padding: 0.35em;\n}\n.selected-text {\n  display: inline;\n  color: #555;\n  border-radius: 3px;\n}  \n.correction-text {\n}\n.correction-text:empty::before {\n  content: 'Enter correction text';\n  color: $dark-gray;\n}\n.active .correction-text:empty::before {\n  content: ' ';\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectionAnnotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectionAnnotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CorrectionAnnotation.vue?vue&type=template&id=5b7265c9&scoped=true&\"\nimport script from \"./CorrectionAnnotation.vue?vue&type=script&lang=js&\"\nexport * from \"./CorrectionAnnotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CorrectionAnnotation.vue?vue&type=style&index=0&id=5b7265c9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b7265c9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.handleClick.apply(null, arguments)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a @click.prevent=\"handleClick\"><slot></slot></a>\n</template>\n\n<script>\nimport VueScrollTo from \"vue-scrollto\";\nimport { createNamespacedHelpers } from 'vuex';\nconst { mapActions } = createNamespacedHelpers('annotations_ui');\n\nexport default {\n  props: {\n    startOffset: {type: Number,\n                  required: true},\n    endOffset: {type: Number,\n                required: true}\n  },\n  computed: {\n    id() {\n      return this.$attrs.name || this.$attrs.id;\n    },\n    siblingId() {\n      return (this.$attrs.href || \"\").slice(1);\n    },\n    enclosingAnnotationIds() {\n      return this.$store.getters['annotations/getWithinOffsets'](this.startOffset, this.endOffset);\n    },\n    relatedAnnotationIds() {\n      return this.$store.getters['footnotes_ui/getById'](this.siblingId) || [];\n    }\n  },\n  methods: {\n    ...mapActions(['expandById']),\n    handleClick() {\n      this.expandById(this.relatedAnnotationIds);\n      this.$nextTick(() => VueScrollTo.scrollTo(document.querySelector(`[id=\"${this.siblingId}\"], [name=\"${this.siblingId}\"]`)));\n    }\n  },\n  created() {\n    // footnotes register their state, by ID, in vuex\n    // so that dependent links can expand their partner's annotations\n    this.$store.commit(\n      'footnotes_ui/register',\n      {id: this.id,\n       annotationIds: this.enclosingAnnotationIds}\n    );\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FootnoteLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FootnoteLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FootnoteLink.vue?vue&type=template&id=0bfb2a68&\"\nimport script from \"./FootnoteLink.vue?vue&type=script&lang=js&\"\nexport * from \"./FootnoteLink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { nodeToTuple,\n         tupleToVNode } from \"../libs/resource_node_parsing\"\nimport _ from \"lodash\";\n\nimport SpacePreserver from \"./SpacePreserver\";\nimport ElisionAnnotation from \"./ElisionAnnotation\";\nimport ReplacementAnnotation from \"./ReplacementAnnotation\";\nimport HighlightAnnotation from \"./HighlightAnnotation\";\nimport LinkAnnotation from \"./LinkAnnotation\";\nimport NoteAnnotation from \"./NoteAnnotation\";\nimport CorrectionAnnotation from \"./CorrectionAnnotation\";\nimport FootnoteLink from \"./FootnoteLink\";\n\nexport default {\n  components: {\n    SpacePreserver,\n    ElisionAnnotation,\n    ReplacementAnnotation,\n    HighlightAnnotation,\n    LinkAnnotation,\n    NoteAnnotation,\n    CorrectionAnnotation,\n    FootnoteLink\n  },\n  props: {\n    resource: {type: Object}\n  },\n  computed: {\n    body() {\n      let node = new DOMParser().parseFromString(this.resource.content, \"text/html\").body;\n      node.setAttribute(\"is\", \"DIV\");\n      node.setAttribute(\"class\", \"case-text\");\n      return node;\n    }\n  },\n  render(h) {\n    let annotations = this.$store.state.annotations.all;\n    annotations.forEach(x => x.used = false);\n    return tupleToVNode(h, annotations)(nodeToTuple(this.body));\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n.case-text {\n    position: relative;\n    counter-reset: index;\n    @include serif-text($regular, 18px, 31px);\n\n    /* hacks for misbehaving blockquotes */\n    blockquote {\n        span p {\n            display: inline; /* yes, p in span is illegal, but we have them */\n        }\n    }\n    /* paragraph numbers -- section.casebody handles HTML received from CAP */\n    > :not(section,article),> article.opinion p, > section.casebody h4, > section.casebody p, > section.casebody blockquote {\n        position: relative;\n        &:not(.elision):not(.fully-elided) {\n            &::before {\n                content: counter(index);\n                user-select: none;\n                @include sans-serif($regular, 12px, 12px);\n                position: fixed;\n                width: 100px;\n                left: -92px;\n                text-align: right;\n                line-height: 30px;\n                color: $light-blue;\n            }\n        }\n        counter-increment: index;\n    }\n    blockquote.fully-elided {\n        padding:0px;\n    }\n    pre.fully-elided {\n        padding:0;\n        margin:0;\n        border:none;\n    }\n    p.fully-elided {\n        margin:0;\n    }\n    pre {\n        overflow: initial;\n        word-break: break-word;\n        overflow-wrap: break-word;\n        white-space: pre-wrap;\n    }\n  h2 {\n    @include serif-text($regular, 20px, 24px);\n  }\n}\n.page-number, .page-label {\n  font-size: small;\n  color: darkgrey;\n  vertical-align: super;\n  margin: 4px;\n}\n\n// no margin between consecutive blockquotes, only at the end\nblockquote {\n  margin: 0;\n}\nblockquote + :not(blockquote) {\n  margin-top: 20px;\n}\n\n.footnote {\n  p, blockquote {\n    margin-left: 13px;\n  }\n}\n.footnotemark {\n  font-size: 16px;\n  vertical-align: super;\n}\n/*\n * These use /deep/ to influence HighlightAnnotation.\n * They must live here so that they can change in relation to\n * their parent element.\n */\np ::v-deep {\n  .highlight .selected-text,\n  .replacement .selected-text,\n  .replacement .replacement-text {\n    padding: 0.35em 0;\n  }\n}\nh2 ::v-deep {\n  .highlight .selected-text,\n  .replacement .selected-text,\n  .replacement .replacement-text {\n    padding: 0.05em 0;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheResourceBody.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheResourceBody.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"the-annotator\",\"data-exclude-from-offset-calcs\":\"true\"}},[(_vm.offsets)?_c('SideMenu',{style:({top: _vm.topDistance})},[_c('li',[_c('a',{attrs:{\"id\":\"create-highlight\"},on:{\"click\":function($event){return _vm.input($event, 'highlight')}}},[_vm._v(\"Highlight\")])]),_c('li',[_c('a',{attrs:{\"id\":\"create-elision\"},on:{\"click\":function($event){return _vm.input($event, 'elide')}}},[_vm._v(\"Elide\")])]),_c('li',[_c('a',{attrs:{\"id\":\"create-replacement\"},on:{\"click\":function($event){return _vm.input($event, 'replace')}}},[_vm._v(\"Replace\")])]),_c('li',[_c('a',{attrs:{\"id\":\"create-link\"},on:{\"click\":function($event){return _vm.input($event, 'link')}}},[_vm._v(\"Add link\")])]),_c('li',[_c('a',{attrs:{\"id\":\"create-note\"},on:{\"click\":function($event){return _vm.input($event, 'note')}}},[_vm._v(\"Add note\")])]),_c('li',[_c('a',{attrs:{\"id\":\"create-correction\"},on:{\"click\":function($event){return _vm.input($event, 'correction')}}},[_vm._v(\"Correction\")])])]):_vm._e(),(_vm.showModal)?_c('Modal',{on:{\"close\":function($event){_vm.showModal = false}}},[_c('template',{slot:\"title\"},[_vm._v(\"Error\")]),_c('template',{slot:\"body\"},[_c('p',[_vm._v(\"An error occurred while trying to save your annotation. Please try again.\")]),_c('button',{staticClass:\"modal-button\",on:{\"click\":function($event){_vm.showModal = false}}},[_vm._v(\"Dismiss\")])])],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div id=\"the-annotator\"\n     data-exclude-from-offset-calcs=\"true\">\n  <SideMenu v-if=\"offsets\"\n            :style=\"{top: topDistance}\">\n    <li>\n      <a id=\"create-highlight\"\n         @click=\"input($event, 'highlight')\">Highlight</a>\n    </li>\n    <li>\n      <a id=\"create-elision\"\n         @click=\"input($event, 'elide')\">Elide</a>\n    </li>\n    <li>\n      <a id=\"create-replacement\"\n         @click=\"input($event, 'replace')\">Replace</a>\n    </li>\n    <li>\n      <a id=\"create-link\"\n         @click=\"input($event, 'link')\">Add link</a>\n    </li>\n    <li>\n      <a id=\"create-note\"\n         @click=\"input($event, 'note')\">Add note</a>\n    </li>\n    <li>\n      <a id=\"create-correction\"\n         @click=\"input($event, 'correction')\">Correction</a>\n    </li>\n  </SideMenu>\n\n  <Modal v-if=\"showModal\"\n            @close=\"showModal = false\">\n    <template slot=\"title\">Error</template>\n    <template slot=\"body\">\n      <p>An error occurred while trying to save your annotation. Please try again.</p>\n      <button class=\"modal-button\"\n              @click=\"showModal = false\">Dismiss</button>\n    </template>\n  </Modal>\n</div>\n</template>\n\n<script>\nimport { getClosestElement,\n         getOffsetWithinParent } from \"../libs/html_helpers.js\";\n\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions } = createNamespacedHelpers(\"annotations\");\n\nimport SideMenu from \"./SideMenu\";\nimport Modal from \"./Modal\";\nimport ContextMenu from \"./ContextMenu\";\nimport LinkInput from \"./LinkInput\";\n\nexport default {\n  components: {\n    SideMenu,\n    Modal,\n    // are these used?\n    ContextMenu,  // eslint-disable-line vue/no-unused-components\n    LinkInput  // eslint-disable-line vue/no-unused-components\n  },\n  data: () => ({\n    ranges: null,\n    content: null,\n    showModal: false,\n    selection: null\n  }),\n  watch: {\n    ranges() {\n      this.content = \"\";\n    }\n  },\n  computed: {\n    topDistance() {\n      const wrapperRect = this.$parent.$el.getBoundingClientRect();\n      const viewportTop = window.scrollY - (wrapperRect.top + window.scrollY);\n      const targetRect = this.ranges[1].getBoundingClientRect();\n\n      return Math.min(Math.max(targetRect.top - wrapperRect.top, viewportTop + 20),\n                      targetRect.bottom - wrapperRect.top).toString(10) + \"px\";\n    },\n    resourceId() {\n      return document.querySelector(\"header.casebook\").dataset.resourceId\n    },\n    hasValidRanges() {\n      return this.ranges &&\n        !this.ranges[0].collapsed &&\n        // Ensure that the selection is within the case-text wrapper\n      getClosestElement(this.ranges[0].commonAncestorContainer).closest(\".case-text\")\n    },\n    offsets() {\n      if(!this.hasValidRanges) return;\n\n      const el = document.querySelector(\".case-text\");\n\n      const ret = [\"start\", \"end\"].map((s, i) => {\n        return this.ranges[i][`${s}Offset`] + getOffsetWithinParent(el, this.ranges[i][`${s}Container`], this.contributesToOffsets)\n      }\n      );\n      const sel_length = this.selection.toString().length;\n\n      let sp = (this.ranges[0].startContainer == this.ranges[0].commonAncestorContainer);\n      let ep = (this.ranges[1].endContainer == this.ranges[1].commonAncestorContainer);\n\n      if (sp ? !ep : ep) {\n        // If the edge of a selection lies on an image, the offsets are calculated incorrectly\n        if (sp) {\n          ret[0] = ret[1] - sel_length;\n        } else {\n          ret[1] = ret[0] + sel_length;\n        }\n      }\n      return ret;\n    },\n  },\n  methods: {\n    ...mapActions([\"create\"]),\n\n    tempId() {\n      return Math.floor(Math.random() * Math.floor(10000000)) * -1;\n    },\n\n    // returns false if the text or element node is the child of an\n    // element with a special attribute, or is not a computable type\n    contributesToOffsets(node) {\n      if (node && (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE)) {\n        return !getClosestElement(node).closest(\"[data-exclude-from-offset-calcs='true']\")\n      }\n      return false;\n    },\n\n    selectionchange(e, sel) {\n      if(sel && !this.contributesToOffsets(sel.anchorNode)) return;\n\n      this.ranges =\n        (!sel || sel.type != \"Range\")\n        ? null\n        : [sel.getRangeAt(0),\n           sel.getRangeAt(sel.rangeCount-1)];\n      this.selection = sel;\n    },\n\n    close() {\n      document.getSelection().empty();\n      this.ranges = null;\n    },\n\n    input(e, kind) {\n      let id = this.tempId();\n\n      this.$store.commit('annotations/append', [{\n        id: id,\n        content: this.content,\n        kind: kind,\n        resource_id: this.resourceId,\n        start_offset: this.offsets[0],\n        end_offset: this.offsets[1]\n      }]);\n\n      this.close();\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/vars-and-mixins\";\n\n#the-annotator {\n    user-select: none;\n}\n.form {\n    display: flex;\n    flex-direction: column;\n}\n.button {\n    margin-top: 1em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheAnnotator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheAnnotator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheAnnotator.vue?vue&type=template&id=34021196&scoped=true&\"\nimport script from \"./TheAnnotator.vue?vue&type=script&lang=js&\"\nexport * from \"./TheAnnotator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheAnnotator.vue?vue&type=style&index=0&id=34021196&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34021196\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{on:{\"click\":_vm.toggleAllExpansions}},[(_vm.areAllExpanded)?[_vm._v(\"Hide\")]:[_vm._v(\"Show\")],_vm._v(\" elided text \")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<button @click=\"toggleAllExpansions\">\n  <template v-if=\"areAllExpanded\">Hide</template>\n  <template v-else>Show</template>\n  elided text\n</button>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex';\nconst { mapGetters,\n        mapActions } = createNamespacedHelpers('annotations_ui');\n\nexport default {\n  computed: {\n    ...mapGetters(['areAllExpanded'])\n  },\n  methods: {\n    ...mapActions(['toggleAllExpansions'])\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n@import \"~bootstrap-sass/assets/stylesheets/bootstrap/buttons\";\n\nbutton {\n  @extend .btn;\n  @include button-variant($light-blue, white, $light-blue);\n  @include set-font($font-family-sans-serif, 700, 14px, normal);\n  border-radius: 5px;\n  border: solid 1.5px;\n  line-height: 23px;\n  margin-bottom: 20px;\n  &:hover {\n    @include generic-focus-styles;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheGlobalElisionExpansionButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheGlobalElisionExpansionButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheGlobalElisionExpansionButton.vue?vue&type=template&id=497af012&scoped=true&\"\nimport script from \"./TheGlobalElisionExpansionButton.vue?vue&type=script&lang=js&\"\nexport * from \"./TheGlobalElisionExpansionButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheGlobalElisionExpansionButton.vue?vue&type=style&index=0&id=497af012&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"497af012\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<section class=\"resource\"\n         v-selectionchange=\"selectionchangeHandler\">\n  <TheAnnotator v-if=\"editable\"\n                ref=\"annotator\"/>\n  <TheGlobalElisionExpansionButton v-if=\"collapsible.length\"/>\n  <TheResourceBody :resource=\"resource\"/>\n</section>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions } = createNamespacedHelpers(\"annotations\");\nconst { mapGetters } = createNamespacedHelpers(\"annotations_ui\");\n\nimport TheResourceBody from \"./TheResourceBody\";\nimport TheAnnotator from \"./TheAnnotator\";\nimport TheGlobalElisionExpansionButton from \"./TheGlobalElisionExpansionButton\";\n\nexport default {\n  components: {\n    TheResourceBody,\n    TheAnnotator,\n    TheGlobalElisionExpansionButton\n  },\n  props: {\n    resource: {type: Object},\n    editable: {type: Boolean}\n  },\n  data: () => ({\n    ranges: null\n  }),\n  computed: {\n    ...mapGetters([\"collapsible\"]),\n\n    resourceId() {\n      const el = document.querySelector(\"header.casebook\")\n      return el && el.dataset && el.dataset.resourceId;\n    }\n  },\n  methods: {\n    ...mapActions([\"list\"]),\n\n    // The selectionchange directive must be bound to the broader\n    // <section.resource> (rather than TheAnnotator) so that it has\n    // context about which text with which to be concerned.\n    // The TheAnnotator handler is then proxied through rather than\n    // set directly on the directive because $refs doesn't exist at\n    // the point it's added\n    selectionchangeHandler(e, sel) {\n      this.$refs.annotator && this.$refs.annotator.selectionchange(e, sel);\n    }\n  },\n  created() {\n    this.$store.commit(\"resources_ui/setEditability\", this.editable);\n    if(this.resourceId) this.list({resource_id: this.resourceId});\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/vars-and-mixins';\n\n.resource {\n  position: relative;\n  margin-bottom: 24px;\n  padding: 40px;\n  background-color: $white;\n  h5 {\n    font-size: 14px;\n    margin: 30px 0px 15px 0px;\n  }\n  h3 {\n    @include serif-text($medium, 24px, 27px);\n    margin: 10px 0;\n    color: $orange;\n  }\n  @media (max-width: $screen-xs) {\n    h2 {\n      @include serif-text($bold, 19px, 34px);\n    }\n  }\n  p {\n    @include serif-text($regular, 19px, 34px);\n  }\n  strong {\n    @include sans-serif($bold, 18px, 40px);\n  }\n  .resource-center {\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheResource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheResource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheResource.vue?vue&type=template&id=7ef4ef6e&scoped=true&\"\nimport script from \"./TheResource.vue?vue&type=script&lang=js&\"\nexport * from \"./TheResource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheResource.vue?vue&type=style&index=0&id=7ef4ef6e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ef4ef6e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-of-contents\",class:{'editable':_vm.editing}},[(this.toc.length !== 0 && _vm.editing && _vm.verified_professor=='False')?_c('div',{staticClass:\"take-notes-tip\"},[_c('span',{staticClass:\"take-notes-icon\"}),_c('p',[_vm._v(\"Click on the content below to Take Notes!\")])]):_vm._e(),_c('button',{staticClass:\"action-expand toc-expand\",attrs:{\"aria-expanded\":!_vm.tocCollapsed ? 'true' : 'false',\"aria-label\":_vm.tocCollapsed ? 'expand all' : 'collapse all'},on:{\"click\":_vm.toggleToc}},[_c('collapse-triangle',{attrs:{\"collapsed\":_vm.tocCollapsed}}),_vm._v(\" \"+_vm._s(_vm.tocCollapsed ? \"Expand all\" : \"Collapse all\")+\" \")],1),(_vm.dataReady)?_c('vue-nestable',{attrs:{\"max-depth\":100,\"hooks\":{'beforeMove':_vm.canMove},\"class-prop\":\"cssClasses\",\"collapsed-groups\":_vm.collapsedSections},on:{\"change\":_vm.moveSubsection},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('entry',{attrs:{\"item\":item,\"root-ordinal-display\":_vm.rootOrdinalDisplay,\"editing\":_vm.editing}})]}}],null,false,3333503588),model:{value:(_vm.toc),callback:function ($$v) {_vm.toc=$$v},expression:\"toc\"}},[_c('div',{attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('placeholder',{attrs:{\"editing\":_vm.editing,\"node-type\":_vm.nodeType}})],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.editing)?_c('div',[_c('div',{staticClass:\"listing empty\"},[_c('div',{staticClass:\"add-content-link\"},[_vm._v(\" This \"+_vm._s(_vm.nodeType)+\" is empty. \")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"editing\">\n    <div class=\"listing empty\">\n      <div class=\"add-content-link\">\n        This {{nodeType}} is empty.\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    props: [\"editing\", \"nodeType\"]\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaceHolder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlaceHolder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlaceHolder.vue?vue&type=template&id=0aa357b4&\"\nimport script from \"./PlaceHolder.vue?vue&type=script&lang=js&\"\nexport * from \"./PlaceHolder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside.stop.prevent\",value:(_vm.dismissAudit),expression:\"dismissAudit\",modifiers:{\"stop\":true,\"prevent\":true}}],class:['listing-wrapper', _vm.showDelete ? 'delete-confirm' : '', _vm.animated, _vm.dimmed],attrs:{\"id\":_vm.anchor}},[_c(_vm.editing ? 'vue-nestable-handle' : 'div',{tag:\"component\",attrs:{\"item\":_vm.item}},[(_vm.isResource)?_c('div',{class:{'listing':true, 'resource':true, 'temporary': _vm.item.resource_type == 'Temp', 'editing': 'editing'}},[_c('div',{staticClass:\"list-left\"},[_c('div',{class:{'section-number': true, 'is-instructional-material': _vm.item.is_instructional_material}},[_vm._v(_vm._s(_vm.item.ordinal_string))]),(_vm.isLegalDoc)?_c('div',{staticClass:\"resource-container\"},[_c('a',{staticClass:\"section-title case-section-title\",attrs:{\"href\":_vm.url}},[_vm._v(_vm._s(_vm.item.title))]),_c('div',{staticClass:\"case-metadata-container\"},[_c('div',{staticClass:\"resource-case\"},[_vm._v(_vm._s(_vm.item.citation))]),_c('div',{staticClass:\"resource-date\"},[_vm._v(_vm._s(_vm.item.decision_date))])])]):_c('div',{staticClass:\"resource-container\"},[_c('a',{staticClass:\"section-title\",attrs:{\"href\":_vm.url}},[_vm._v(_vm._s(_vm.item.title))])])]),_c('div',{staticClass:\"list-right\"},[(_vm.needsToSpecifyCase)?_c('div',[_c('button',{staticClass:\"btn btn-sm specify-case-button\",attrs:{\"value\":\"Specify Document\"},on:{\"click\":_vm.auditThisCase}},[_vm._v(\"Specify Document\")])]):_vm._e(),_c('div',{staticClass:\"resource-type-container\"},[(_vm.item.is_transmutable && _vm.editing)?_c('div',[_c('entry-transmuter',{attrs:{\"item\":_vm.item}})],1):_c('div',{class:{'resource-type': true, 'temporary': _vm.item.resource_type === 'Temp'}},[_vm._v(_vm._s(_vm.item.resource_type === 'TextBlock' ? 'Text' : _vm.item.resource_type))])]),(_vm.editing)?_c('div',{class:{'actions': !_vm.showDelete, 'actions-extra': _vm.showDelete}},[(!_vm.showDelete)?_c('button',{staticClass:\"action-delete\",attrs:{\"aria-label\":'Delete ' +_vm.item.title},on:{\"click\":_vm.markForDeletion}}):_c('div',{staticClass:\"action-confirmation\"},[_c('div',{staticClass:\"action-align-resource\"},[_c('button',{staticClass:\"action-confirm-delete btn btn-danger\",on:{\"click\":_vm.confirmDeletion}},[_vm._v(\"Delete \"+_vm._s(_vm.item.resource_type !== null && _vm.item.resource_type !== 'Section' ? '' : 'section and all contents'))]),_c('button',{directives:[{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"action-cancel-delete btn\",on:{\"click\":_vm.cancelDeletion}},[_vm._v(\"Keep\")])])])]):_vm._e()])]):_c('div',{staticClass:\"listing section\",class:['listing', 'section' ,_vm.item.children.length > 0 ? 'child-present' : 'child-free', _vm.editing ? 'editing' : '' ]},[_c('div',{staticClass:\"list-left\"},[(_vm.item.children.length > 0 || _vm.collapsed)?_c('button',{staticClass:\"action-expand\",attrs:{\"aria-role\":\"heading\",\"aria-expanded\":!_vm.collapsed ? 'true' : 'false',\"aria-label\":_vm.collapsed ? 'expand ' + _vm.item.title : 'collapse ' + _vm.item.title},on:{\"click\":_vm.toggleSectionExpanded}},[_c('collapse-triangle',{attrs:{\"collapsed\":_vm.collapsed}})],1):_vm._e(),_c('div',{staticClass:\"section-number\"},[_vm._v(_vm._s(_vm.item.ordinal_string))]),_c('div',{staticClass:\"section-container\"},[_c('div',{staticClass:\"section-title\"},[_c('a',{staticClass:\"section-title\",attrs:{\"href\":_vm.url}},[_vm._v(_vm._s(_vm.item.title))])])])]),_c('div',{staticClass:\"list-right\"},[(_vm.item.is_transmutable && _vm.editing)?_c('div',{staticClass:\"resource-type-container\"},[_c('entry-transmuter',{attrs:{\"item\":_vm.item}})],1):_c('div',[_vm._v(\"  \")]),(_vm.editing)?_c('div',{class:{'actions': !_vm.showDelete, 'actions-extra': _vm.showDelete}},[(!_vm.showDelete)?_c('button',{staticClass:\"action-delete\",attrs:{\"aria-label\":'Delete ' +_vm.item.title},on:{\"click\":_vm.markForDeletion}}):_c('div',{staticClass:\"action-confirmation\"},[_c('div',{staticClass:\"action-align-section\"},[_c('button',{staticClass:\"action-confirm-delete btn btn-danger\",on:{\"click\":_vm.confirmDeletion}},[_vm._v(\"Delete \"+_vm._s(_vm.item.resource_type !== null && _vm.item.resource_type !== 'Section' ? '' : 'section and all contents'))]),_c('button',{directives:[{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"action-cancel-delete btn\",on:{\"click\":_vm.cancelDeletion}},[_vm._v(\"Keep\")])])])]):_vm._e()])])]),(_vm.item.audit && _vm.item.resource_type === 'Temp')?_c('div',{staticClass:\"audit-drawer\"},[_c('entry-auditor',{attrs:{\"item\":_vm.item}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('case-results',{attrs:{\"queryObj\":_vm.searchOptions},on:{\"choose\":_vm.selectCase}}),_c('case-searcher',{model:{value:(_vm.searchOptions),callback:function ($$v) {_vm.searchOptions=$$v},expression:\"searchOptions\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <case-results :queryObj=\"searchOptions\" @choose=\"selectCase\"></case-results>\n    <case-searcher v-model=\"searchOptions\"></case-searcher>\n  </div>\n</template>\n\n<script>\nimport CaseSearcher from \"../CaseSearcher\";\nimport CaseResults from \"../CaseResults\";\nimport Axios from \"../../config/axios\";\n\nexport default {\n  components: {\n    CaseSearcher,\n    CaseResults\n  },\n  props: [\"item\"],\n  data: () => ({ searchOptions: { query: \"\" } }),\n  computed: {\n    casebook: function() {\n      return this.$store.getters[\"globals/casebook\"]();\n    },\n    section: function() {\n      return this.$store.getters[\"globals/section\"]();\n    },\n    rootNode: function() {\n      return this.section || this.casebook;\n    },\n    url: function() {\n      return this.editing ? this.item.edit_url : this.item.url;\n    }\n  },\n  methods: {\n    selectCase: function(c) {\n      const url = this.item.url;\n      \n      const data = { from: \"Temp\", to: \"LegalDocument\", id: c.id,  source_id: c.source_id, title: c.shortName};\n      Axios.patch(url, data).then(\n        this.handleSubmitResponse,\n        this.handleSubmitErrors\n      );\n    },\n    selectText: function() {\n      const url = this.item.url;\n      const data = { from: \"Temp\", to: \"TextBlock\", content: null };\n      Axios.patch(url, data).then(\n        this.handleSubmitResponse,\n        this.handleSubmitErrors\n      );\n    },\n    extraErrorHandler: function(error) {\n      console.error(error);\n    },\n    handleSubmitResponse: function handleSubmitResponse(response) {\n      this.$store.dispatch(\"table_of_contents/clearAudit\", {\n        id: this.item.id\n      });\n      this.$store.dispatch(\"table_of_contents/fetch\", {\n        casebook: this.casebook,\n        subsection: this.section\n      });\n    },\n    handleSubmitErrors: function handleSubmitErrors(error) {\n      console.error(error);\n    }\n  },\n  mounted: function() {\n    this.searchOptions.query = this.item.title;\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.listing.resource.temporary {\n  outline: 2px solid red;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryAuditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryAuditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryAuditor.vue?vue&type=template&id=cd951f32&scoped=true&\"\nimport script from \"./EntryAuditor.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryAuditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntryAuditor.vue?vue&type=style&index=0&id=cd951f32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd951f32\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"transmuter-holder\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resource_type),expression:\"resource_type\"}],staticClass:\"transmute-dropdown select-css\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.resource_type=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[(_vm.item.resource_type === 'LegalDocument')?_c('option',{attrs:{\"value\":\"LegalDocument\"}},[_vm._v(\"Legal Doc\")]):_c('option',{attrs:{\"value\":\"Temp\"}},[_vm._v(\"Legal Doc\")]),_c('option',{attrs:{\"value\":\"Section\"}},[_vm._v(\"Section\")]),_c('option',{attrs:{\"value\":\"TextBlock\"}},[_vm._v(\"Custom Content\")]),_c('option',{attrs:{\"value\":\"Link\"}},[_vm._v(\"Link\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"transmuter-holder\">\n  <select class=\"transmute-dropdown select-css\" v-model=\"resource_type\">\n    <option value=\"LegalDocument\" v-if=\"item.resource_type === 'LegalDocument'\">Legal Doc</option>\n    <option value=\"Temp\" v-else>Legal Doc</option>\n    <option value=\"Section\">Section</option>\n    <option value=\"TextBlock\">Custom Content</option>\n    <option value=\"Link\">Link</option>\n  </select>\n</div>\n</template>\n\n<script>\nimport urls from \"libs/urls\";\nimport Axios from \"../../config/axios\";\nimport _ from 'lodash';\n\nexport default {\n    data: () => ({ resource_type: \"\" }),\n    props: [\"item\"],\n    mounted: function() {\n        if (this.item.resource_type) {\n            if (_.includes(['Text', 'Multimedia'],this.item.resource_type)) {\n                this.resource_type = 'TextBlock';\n            } else {\n                this.resource_type = this.item.resource_type;\n            }\n        } else {\n            this.resource_type = 'Section';\n        }\n    },\n    methods: {\n        changeType: urls.url(\"resource\"),\n        refreshTOC: function() {\n            const casebook = this.$store.getters['globals/casebook']();\n            const subsection = this.$store.getters['globals/section']();\n            this.$store.dispatch('table_of_contents/fetch', { casebook, subsection });\n        }\n    },\n  computed: {\n    casebook: function() {\n      return this.$store.getters[\"globals/casebook\"]();\n    }\n  },\n  watch: {\n    item: function(newVal) {\n      this.resource_type = newVal.resource_type == \"Text\" ? \"TextBlock\" : newVal.resource_type;\n    },\n    resource_type: function(newVal) {\n      if (newVal === this.item.resource_type || (_.includes(['Text', 'Multimedia'],this.item.resource_type) && newVal == 'TextBlock')) {\n        return;\n      }\n      const from = this.item.resource_type == \"Text\" ? \"TextBlock\" : this.item.resource_type;\n      const data = { from, to: newVal == 'Temp' ? 'LegalDocument' : newVal };\n      Axios.patch(this.item.url, data).then(this.refreshTOC, this.refreshTOC);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.transmuter-holder {\n  min-width: 100px;\n}\n.select-css {\n\tdisplay: block;\n\tcolor: #444;\n\tpadding: .5em 1.6em .4em 1em;\n\twidth: 100%;\n\tmax-width: 100%;\n\tbox-sizing: border-box;\n\tmargin: 0;\n\tborder: 1px solid #aaa;\n\tbox-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n\tborder-radius: .25em;\n\t-moz-appearance: none;\n\t-webkit-appearance: none;\n\tappearance: none;\n\tbackground-color: white;\n\tbackground-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');\n\tbackground-repeat: no-repeat, repeat;\n\tbackground-position: right .7em top 50%, 0 0;\n\tbackground-size: .65em auto, 100%;\n}\n.select-css::-ms-expand {\n\tdisplay: none;\n}\n.select-css:hover {\n\tborder-color: #888;\n}\n.select-css:focus {\n\tborder-color: #aaa;\n\tbox-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);\n\tbox-shadow: 0 0 0 3px -moz-mac-focusring;\n\tcolor: #222;\n\toutline: none;\n}\n.select-css option {\n\tfont-weight:normal;\n}\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryTransmuter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryTransmuter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntryTransmuter.vue?vue&type=template&id=20c1b9bd&scoped=true&\"\nimport script from \"./EntryTransmuter.vue?vue&type=script&lang=js&\"\nexport * from \"./EntryTransmuter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntryTransmuter.vue?vue&type=style&index=0&id=20c1b9bd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20c1b9bd\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{class:{open: !_vm.collapsed, collapsed:_vm.collapsed},attrs:{\"height\":\"32\",\"width\":\"32\"}},[_c('polygon',{attrs:{\"points\":\"6,6 20,16 6,24\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <svg height=\"32\" width=\"32\" v-bind:class=\"{open: !collapsed, collapsed:collapsed}\">\n    <polygon points=\"6,6 20,16 6,24\" />\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: \"collapse-triangle\",\n  props: [\"collapsed\"]\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/vars-and-mixins\";\npolygon {\n  fill: $light-gray;\n  stroke: $black;\n  stroke-width: 1;\n}\npolygon:hover {\n  stroke-width: 2;\n  stroke: $white;\n}\n.open {\n  transition: transform 0.25s;\n  transform: rotate(90deg);\n  transform-origin: 30% 50%;\n}\n.collapsed {\n  transition: transform 0.25s;\n  transform: rotate(0deg);\n  transform-origin: 30% 50%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapseTriangle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapseTriangle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CollapseTriangle.vue?vue&type=template&id=52227b04&scoped=true&\"\nimport script from \"./CollapseTriangle.vue?vue&type=script&lang=js&\"\nexport * from \"./CollapseTriangle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollapseTriangle.vue?vue&type=style&index=0&id=52227b04&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52227b04\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div\n  :id=\"anchor\"\n  v-bind:class=\"['listing-wrapper', showDelete ? 'delete-confirm' : '', animated, dimmed]\"\n  v-click-outside.stop.prevent=\"dismissAudit\"\n  >\n  <component :is=\"editing ? 'vue-nestable-handle' : 'div'\" v-bind:item=\"item\">\n    <div v-bind:class=\"{'listing':true, 'resource':true, 'temporary': item.resource_type == 'Temp', 'editing': 'editing'}\" v-if=\"isResource\">\n      <div class=\"list-left\">\n        <div :class=\"{'section-number': true, 'is-instructional-material': item.is_instructional_material}\">{{ item.ordinal_string }}</div>\n\n        <div class=\"resource-container\" v-if=\"isLegalDoc\">\n          <a :href=\"url\" class=\"section-title case-section-title\">{{ item.title }}</a>\n          <div class=\"case-metadata-container\">\n            <div class=\"resource-case\">{{ item.citation }}</div>\n            <div class=\"resource-date\">{{ item.decision_date }}</div>\n          </div>\n        </div>\n\n        <div class=\"resource-container\" v-else>\n          <a :href=\"url\" class=\"section-title\">{{ item.title }}</a>\n        </div>\n      </div>\n\n      <div class=\"list-right\">\n        <div v-if=\"needsToSpecifyCase\">\n          <button\n            class=\"btn btn-sm specify-case-button\"\n            @click=\"auditThisCase\"\n            value=\"Specify Document\"\n                  >Specify Document</button>\n        </div>\n        <div class=\"resource-type-container\">\n          <div v-if=\"item.is_transmutable && editing\">\n            <entry-transmuter :item=\"item\"></entry-transmuter>\n          </div>\n          <div v-else\n               v-bind:class=\"{'resource-type': true, 'temporary': item.resource_type === 'Temp'}\"\n               >{{ item.resource_type === 'TextBlock' ? 'Text' : item.resource_type }}</div>\n        </div>\n            <div v-bind:class=\"{'actions': !showDelete, 'actions-extra': showDelete}\" v-if=\"editing\">\n      <button\n        :aria-label=\"'Delete ' +item.title\"\n        class=\"action-delete\"\n        v-on:click=\"markForDeletion\"\n        v-if=\"!showDelete\"\n        ></button>\n      <div class=\"action-confirmation\" v-else>\n        <div class=\"action-align-resource\">\n          <button\n            class=\"action-confirm-delete btn btn-danger\"\n            v-on:click=\"confirmDeletion\"\n            >Delete {{item.resource_type !== null && item.resource_type !== 'Section' ? '' : 'section and all contents'}}</button>\n          <button class=\"action-cancel-delete btn\" v-on:click=\"cancelDeletion\" v-focus>Keep</button>\n        </div>\n      </div>\n    </div>\n\n      </div>\n    </div>\n\n    <div class=\"listing section\" v-bind:class=\"['listing', 'section' ,item.children.length > 0 ? 'child-present' : 'child-free', editing ? 'editing' : '' ]\" v-else>\n      <div class=\"list-left\">\n        <button\n          aria-role=\"heading\"\n          :aria-expanded=\"!collapsed ? 'true' : 'false'\"\n          :aria-label=\"collapsed ? 'expand ' + item.title : 'collapse ' + item.title\"\n          v-on:click=\"toggleSectionExpanded\"\n          class=\"action-expand\"\n          v-if=\"item.children.length > 0 || collapsed\"\n          >\n          <collapse-triangle :collapsed=\"collapsed\" />\n        </button>\n        <div class=\"section-number\">{{ item.ordinal_string }}</div>\n        <div class=\"section-container\">\n          <div class=\"section-title\">\n            <a :href=\"url\" class=\"section-title\">{{ item.title }}</a>\n          </div>\n        </div>\n      </div>\n      <div class=\"list-right\">\n        <div class=\"resource-type-container\" v-if=\"item.is_transmutable && editing\">\n          <entry-transmuter :item=\"item\"></entry-transmuter>\n        </div>\n        <div v-else>\n          &nbsp;\n        </div>\n    <div v-bind:class=\"{'actions': !showDelete, 'actions-extra': showDelete}\"  v-if=\"editing\">\n      <button\n        :aria-label=\"'Delete ' +item.title\"\n        class=\"action-delete\"\n        v-on:click=\"markForDeletion\"\n        v-if=\"!showDelete\"\n        ></button>\n      <div class=\"action-confirmation\" v-else>\n        <div class=\"action-align-section\">\n          <button\n            class=\"action-confirm-delete btn btn-danger\"\n            v-on:click=\"confirmDeletion\"\n            >Delete {{item.resource_type !== null && item.resource_type !== 'Section' ? '' : 'section and all contents'}}</button>\n          <button class=\"action-cancel-delete btn\" v-on:click=\"cancelDeletion\" v-focus>Keep</button>\n        </div>\n      </div>\n    </div>\n\n\n      </div>\n    </div>\n  </component>\n  <div class=\"audit-drawer\" v-if=\"item.audit && item.resource_type === 'Temp'\">\n    <entry-auditor :item=\"item\"></entry-auditor>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EntryAuditor from \"./EntryAuditor\";\nimport EntryTransmuter from \"./EntryTransmuter\";\nimport CollapseTriangle from \"../CollapseTriangle\";\nimport Vue from \"vue\";\nimport _ from \"lodash\";\nimport pp from \"../../libs/text_outline_parser\";\nimport { VueNestable, VueNestableHandle } from \"@holtchesley/vue-nestable\";\nimport vClickOutside from \"v-click-outside\";\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions } = createNamespacedHelpers(\"table_of_contents\");\nconst { mapGetters } = createNamespacedHelpers(\"case_search\");\n\nVue.use(VueNestable);\nVue.use(vClickOutside);\n\nexport default {\n  components: {\n    EntryAuditor,\n    EntryTransmuter,\n    VueNestableHandle,\n    CollapseTriangle\n  },\n  props: [\"item\", \"rootOrdinalDisplay\", \"editing\"],\n  data: () => ({ showDelete: false }),\n  computed: {\n    ...mapGetters(['getSources']),\n    autoSpecifyCandidate: function() {\n      if (this.needsToSpecifyCase) {\n        let lineGuess = pp.guessLineType(this.item.title, this.getSources());\n        return lineGuess.guesses.length === 1;\n      } else {\n        return false;\n      }\n    },\n    needsToSpecifyCase: function() {\n      return this.item.resource_type === 'Temp' && !this.item.audit;\n    },\n    collapsed: function() {\n      return this.item.collapsed;\n    },\n    url: function() {\n      return this.editing ?  this.item.edit_url : this.item.url;\n    },\n    dimmed: function() {\n      return !this.item.audit && this.$store.getters[\"globals/inAuditMode\"]()\n        ? \"dimmed\"\n        : \"\";\n    },\n    animated: function() {\n      return this.item.audit ? \"\" : this.item.animationState;\n    },\n    animatingLoading: function() {\n      return this.animationState && this.animationState === \"loading\";\n    },\n    animatingLoaded: function() {\n      return this.animationState && this.animationState === \"loaded\";\n    },\n    isResource: function() {\n      return (\n        this.item.resource_type !== null &&\n          this.item.resource_type !== \"\" &&\n          this.item.resource_type !== \"Section\"\n      );\n    },\n    anchor: function() {\n      if (!this.item.url) return '';\n      const url_parts = this.item.url.split(\"/\");\n      return url_parts[url_parts.length - 2];\n    },\n    casebook: function() {\n      return this.$store.getters[\"globals/casebook\"]();\n    },\n    section: function() {\n      return this.$store.getters[\"globals/section\"]();\n    },\n    isLegalDoc: function() {\n      return _.has(this.item, 'citation') && this.item.citation;\n    }\n  },\n  methods: {\n    auditThisCase: function() {\n      this.$store.dispatch('table_of_contents/setAudit', {id: this.item.id });\n    },\n    toggleSectionExpanded: function() {\n      this.$store.dispatch('table_of_contents/toggleCollapsed', {id:this.item.id});\n    },\n    dismissAudit: function() {\n      if (!this.item.audit || !this.$store.getters[\"globals/inAuditMode\"]()) {\n        return;\n      }\n      this.$store.commit(\"globals/setAuditMode\", false);\n      this.$store.dispatch(\"table_of_contents/clearAudit\", {\n        id: this.item.id\n      });\n    },\n    ...mapActions([\"deleteNode\"]),\n    markForDeletion: function() {\n      this.showDelete = true;\n    },\n    cancelDeletion: function() {\n      this.showDelete = false;\n    },\n    confirmDeletion: function({ id }) {\n      this.deleteNode({\n        casebook: this.casebook,\n        rootNode: this.section || this.casebook,\n        targetId: this.item.id\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.loading {\n    display: none;\n}\n.loaded {\n    animation-name: fadeInUp;\n    animation-duration: 200ms;\n}\n\n@keyframes fadeInUp {\n    0% {\n        opacity: 0;\n        transform: translateY(100%);\n    }\n    100% {\n        opacity: 1;\n        transform: translateY(0%);\n    }\n}\n\n@keyframes fadeInDown {\n    0% {\n        opacity: 0;\n        transform: translateY(0%);\n    }\n    100% {\n        opacity: 1;\n        transform: translateY(100%);\n    }\n}\n\n.dimmed {\n    opacity: 0.5;\n}\n\n.audit-drawer {\n    margin: 0 1rem 1rem 1rem;\n    border-left: 2px solid black;\n    border-bottom: 2px solid black;\n    border-right: 2px solid black;\n    padding: 1rem;\n    background-color: white;\n}\n\n.listing.resource.temporary {\n    outline: 2px solid red;\n}\n\n.action-confirm-delete {\n    border: 1px solid black;\n}\n\n.action-align-resource {\n    width: 156px;\n    margin-right: -16px;\n}\n.action-align-section {\n    width: 316px;\n    margin-right:-16px;\n}\n.specify-case-button {\n    margin-right: 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Entry.vue?vue&type=template&id=55be8b48&scoped=true&\"\nimport script from \"./Entry.vue?vue&type=script&lang=js&\"\nexport * from \"./Entry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Entry.vue?vue&type=style&index=0&id=55be8b48&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55be8b48\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"table-of-contents\"\n     v-bind:class=\"{'editable':editing}\">\n     <div class=\"take-notes-tip\" v-if=\"this.toc.length !== 0 && editing && verified_professor=='False'\">\n        <span class=\"take-notes-icon\"></span>\n        <p>Click on the content below to Take Notes!</p>\n     </div>\n     <button\n        :aria-expanded=\"!tocCollapsed ? 'true' : 'false'\"\n        :aria-label=\"tocCollapsed ? 'expand all' : 'collapse all'\"\n        class=\"action-expand toc-expand\"\n        @click=\"toggleToc\"\n      >\n      <collapse-triangle :collapsed=\"tocCollapsed\" />\n      {{ tocCollapsed ? \"Expand all\" : \"Collapse all\" }}\n     </button>\n     <vue-nestable v-model=\"toc\"\n                   :max-depth=\"100\"\n                   :hooks=\"{'beforeMove':canMove}\"\n                   class-prop=\"cssClasses\"\n                   v-on:change=\"moveSubsection\"\n                   :collapsed-groups=\"collapsedSections\"\n                   v-if=\"dataReady\"\n                   >\n         <div slot=\"placeholder\">\n         <placeholder :editing=\"editing\" :node-type=\"nodeType\" />\n         </div>\n         <template v-slot=\"{item}\">\n         <entry :item=\"item\"\n                :root-ordinal-display=\"rootOrdinalDisplay\"\n                :editing=\"editing\"\n         />\n        </template>\n        </vue-nestable>\n        </div>\n        </template>\n\n<script>\nimport _ from \"lodash\";\nimport { VueNestable } from \"@holtchesley/vue-nestable\";\nimport Placeholder from \"./TableOfContents/PlaceHolder\";\nimport Entry from \"./TableOfContents/Entry\";\nimport CollapseTriangle from \"./CollapseTriangle\";\n\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapActions, mapMutations } = createNamespacedHelpers(\n  \"table_of_contents\"\n);\n\nexport default {\n  components: {\n    VueNestable,\n    Placeholder,\n    Entry,\n    CollapseTriangle,\n  },\n  data: () => ({\n    needsDeleteConfirmation: {},\n    tocCollapsed: false\n  }),\n  directives: {\n    focus: {\n      inserted: function(el) {\n        el.focus();\n      }\n    }\n  },\n  computed: {\n    collapsedSections: function() {\n      return this.$store.getters[\"table_of_contents/collapsedNodes\"](this.rootNode);\n    },\n    casebook: function() {\n      return this.$store.getters[\"globals/casebook\"]();\n    },\n    section: function() {\n      return this.$store.getters[\"globals/section\"]();\n    },\n    rootNode: function() {\n      return this.section || this.casebook;\n    },\n    rootOrdinalDisplay: function() {\n      return this.rootOrdinals !== \"\"\n        ? this.rootOrdinals + \".\"\n        : this.rootOrdinals;\n    },\n    nodeType: function() {\n        return this.section ? \"section\" : \"casebook\";\n    },\n    toc: {\n      get: function() {\n        let toc = _.get(\n          this.$store,\n          `state.table_of_contents.toc.${this.rootNode}.children`\n          ,[]);\n        return toc;\n      },\n      set: function(newVal) {\n        this.shuffle({ id: this.rootNode, children: newVal });\n      }\n    },\n    dataReady: function() {\n      return this.toc !== [null] && this.toc !== null;\n    }\n  },\n  mounted: function() {\n    const hash = window.location.hash;\n    let attempts = 0;\n    function waitForID() {\n      if (null !== document.getElementById(hash.substring(1))) {\n        window.location.hash = \"\";\n        window.location.hash = hash;\n      } else {\n        attempts += 1;\n        if (attempts < 5) {\n          setTimeout(waitForID, 15);\n        }\n      }\n    }\n    if (hash !== \"\") {\n      setTimeout(waitForID, 15);\n    }\n  },\n  methods: {\n    ...mapActions([\"fetch\", \"commitShuffle\", \"moveNode\"]),\n    ...mapMutations([\"shuffle\"]),\n    canMove: function(movement) {\n      let { dragItem, pathFrom, pathTo } = movement;\n      if (pathTo.length === 1) {\n        return true;\n      }\n      let res_path = [];\n      let path = pathTo.slice(0);\n      // The pathTo potentially restructures the tree in a way that can affect lookup.\n      // we need to do a small adjustment to the lookup path to account for that\n      let lastFromIndex = pathFrom.pop();\n      let pathToStart = path.slice(0, pathFrom.length);\n      if (\n        _.isEqual(pathToStart, pathFrom) &&\n          path.length > pathFrom.length &&\n          path[pathFrom.length] >= lastFromIndex\n      ) {\n        path[pathFrom.length] += 1;\n      }\n\n      let ii = path.splice(0, 1)[0];\n      let curr = this.toc[ii];\n      while (path.length > 0) {\n        res_path.push({ ii, t: curr.resource_type });\n        if (\n          (curr.resource_type !== null && curr.resource_type !== \"Section\") ||\n            curr.id === dragItem.id ||\n            curr.collapsed\n        ) {\n          return false;\n        }\n        ii = path.splice(0, 1)[0];\n        curr = curr.children[ii];\n      }\n      return true;\n    },\n    moveSubsection: function({ id }, { items, pathTo }) {\n      function findIn(tree, id) {\n        let candidates = tree.children\n            .map((x, index) => {\n              if (x.id === id) {\n                return { parent: tree.id, index };\n              } else {\n                return findIn(x, id);\n              }\n            })\n            .filter(x => x !== null);\n        return candidates.length === 1 ? candidates[0] : null;\n      }\n      let { parent, index } = findIn({ id: null, children: items }, id);\n      this.moveNode({\n        casebook: this.casebook,\n        rootNode: this.rootNode,\n        moverId: id,\n        parent,\n        index\n      });\n    },\n    collapseToc() {\n      const ids = this.$store.getters[\"table_of_contents/topLevelNodes\"](\n        this.rootNode\n      );\n      this.$store.dispatch(\"table_of_contents/collapseAll\", { ids });\n    },\n    expandToc() {\n      const ids = this.$store.getters[\"table_of_contents/topLevelNodes\"](\n        this.rootNode\n      );\n      this.$store.dispatch(\"table_of_contents/expandAll\", { ids });\n    },\n    toggleToc() {\n      if (this.tocCollapsed) {\n        this.tocCollapsed = false;\n        this.expandToc();\n      } else {\n        this.tocCollapsed = true;\n        this.collapseToc();\n      }\n    },\n  },\n  props: [\"editing\", \"rootOrdinals\",\"verified_professor\"],\n  created: function() {\n    this.fetch({ casebook: this.casebook, subsection: this.section });\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../styles/vars-and-mixins\";\n\n#table-of-contents {\n    > .table-of-contents > .nestable > ol {\n        > li.nestable-item > .nestable-item-content {\n            > .listing-wrapper > .listing.resource {\n                padding-left: 60px;\n            }\n            > div > .listing-wrapper > .listing.resource {\n                padding-left: 60px;\n                &.temporary {\n                    border: 4px solid $red;\n                    padding-left: 58px;\n                }\n            }\n        }\n    }\n    > .table-of-contents > .nestable > ol {\n        > li.nestable-item > .nestable-item-content {\n            > .listing-wrapper > .listing.resource.temporary {\n                background-color: $red;\n            }\n        }\n    }\n\n    .transmute-dropdown:hover {\n        color: black;\n        border-color: black;\n    }\n    li.nestable-item.collapsed ol,\n    li.nestable-item-copy.collapsed ol {\n        display: none;\n    }\n    ol {\n        counter-reset: item;\n    }\n    li {\n        counter-increment: item;\n        display: block;\n    }\n    button.action-expand {\n        border: 0 solid transparent;\n        background: transparent;\n        margin: -8px;\n    }\n    button.toc-expand {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin: 10px 0 10px -5px;\n        padding: 0;\n        font-weight: bold;\n\n        svg polygon {\n          fill: $light-blue;\n          stroke: transparent;\n        }\n\n    }\n    .no-collapse-padded {\n        width: 32px;\n        height: 32px;\n        margin: 4px 7px;\n    }\n    .nestable-item {\n        position: relative;\n        .actions {\n            display: flex;\n            flex-direction: column;\n            align-content: center;\n            justify-content: center;\n        }\n    }\n    .action-confirmation {\n        /* margin-top: 1.5rem; */\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        padding-right: 10px;\n        button {\n            width: unset;\n            height: unset;\n            color: unset;\n            background-color: unset;\n            display: unset;\n            margin: unset;\n            background-position: unset;\n            background-repeat: unset;\n            background-size: unset;\n            font-weight: 400;\n            margin: 2px;\n            padding: 6px 16px;\n        }\n        .action-cancel-delete {\n            background-color: $white;\n            color: $black;\n            border: 1px solid black;\n        }\n    }\n    li.nestable-item.is-dragging {\n        border: 4px dashed grey;\n        border-radius: 8px;\n        margin-top: 8px;\n        margin-bottom: 8px;\n        .listing {\n            margin-top: 0px;\n            &.section:hover,\n            &.section:focus-within {\n                background-color: $black;\n                .section-number,\n                .section-title {\n                    color: $white;\n                }\n                .action-cancel-delete {\n                    color: black;\n                }\n                .transmute-dropdown {\n                    color: black;\n                    border-color: black;\n                }\n            }\n            &.resource:hover,\n            &.resource:focus-within {\n                background-color: $white;\n                .resource-case,\n                .resource-date,\n                .section-number,\n                .section-title,\n                .action-cancel-delete {\n                    color: $black;\n                }\n            }\n        }\n    }\n    .listing {\n        display: flex;\n        justify-content:space-between;\n        align-items: baseline;\n        width: 100%;\n        padding: 12px 16px;\n        /* padding-right: 42px; */\n        margin-top: 6px;\n        border: 1px solid $black;\n\n        .list-left,\n        .list-right {\n            display: flex;\n            flex-direction:row;\n            div {\n                align-self:baseline;\n            }\n            .is-instructional-material {\n                background-image:url('~static/images/ui/casebook/lock.svg') ;\n                height: 20px;\n                width: 20px;\n                margin-left: -5px;\n                display: inline-block;\n                align-self: flex-end;\n            }\n        }\n        .list-right {\n            margin-left: 8px;\n        }\n        .actions {\n            position: relative;\n            top: 12px;\n        }\n        &.section {\n            .actions {\n                min-height:44px;\n            }\n\n            align-items: left;\n            background-color: $black;\n\n            @media (max-width: $screen-xs) {\n                flex-direction: row;\n            }\n\n            .section-title {\n                display: inline;\n                font-weight: $medium;\n            }\n            .section-number,\n            .section-title {\n                color: $white;\n                margin-right: 10px;\n                display:inline;\n            }\n            .resource-type-container {\n                display: flex;\n                align-items: center;\n                justify-content: flex-end;\n\n                @media (max-width: $screen-xs) {\n                    margin-right: -4px;\n\n                    .resource-type {\n                        padding: 2px 7px;\n                    }\n                }\n            }\n            .btn.btn-danger {\n                color: #fff;\n                background-color: #c9302c;\n                border-color: #ac2925;\n            }\n\n\n        }\n        &.resource {\n            background-color: $white;\n\n            @media (max-width: $screen-xs) {\n                .resource-container {\n                    margin: 0 9px;\n                }\n            }\n\n            .section-title {\n                display: inline;\n            }\n\n            .case-section-title {\n                margin-bottom: 4px;\n            }\n\n            .section-number,\n            .section-title {\n                color: $black;\n            }\n\n            .case-metadata-container {\n                display: flex;\n                align-items: center;\n\n                @media (max-width: $screen-xxs) {\n                    flex-direction: column;\n                    align-items: flex-start;\n                }\n\n                .resource-case:empty {\n                    display: none;\n                }\n\n                .resource-case {\n                    margin-right: 9px;\n                }\n            }\n\n            .resource-type-container {\n                display: flex;\n                align-items: center;\n                justify-content: flex-end;\n\n                @media (max-width: $screen-xs) {\n                    margin-right: -4px;\n\n                    .resource-type {\n                        padding: 2px 7px;\n                    }\n                }\n            }\n            .btn.btn-danger {\n                color: #fff;\n                background-color: #c9302c;\n                border-color: #ac2925;\n            }\n        }\n        &.empty {\n            border: 1px dashed $gray;\n            text-align: center;\n            color: $dark-gray;\n            background: transparent;\n            padding: 60px;\n        }\n        &.section:hover,\n        &.section:focus,\n        &.section:focus-within,\n        &.resource:hover,\n        &.resource:focus,\n        &.resource:focus-within {\n            outline: 2px solid $white;\n            background-color: $light-blue;\n            border-color: $light-blue;\n            * {\n                color: $white;\n                border-color: $white;\n            }\n            *:focus {\n                outline: none !important;\n            }\n            *:focus-visible {\n                outline: 2px solid $white !important;\n            }\n            .transmute-dropdown {\n                color: black;\n                border-color: black;\n            }\n            .action-cancel-delete {\n                color: black;\n            }\n\n            .btn.btn-danger {\n                color: #fff;\n                background-color: #c9302c;\n                border-color: #ac2925;\n\n                &:hover {\n                    color: #fff;\n                    background-color: #d9534f;\n                    border-color: #d43f3a;\n                }\n            }\n            .btn.specify-case-button {\n                color:black;\n            }\n        }\n        @media (max-width: $screen-xs) {\n            &.section,\n            &.resource {\n                div {\n                    margin: 4px 0;\n                    padding-left: 0;\n                    text-align: left;\n                }\n            }\n        }\n        @media (min-width: $screen-xs) {\n            &.section {\n                flex-direction: row;\n                align-items: baseline;\n            }\n        }\n        .section-number,\n        .section-number:after {\n            font-size: 12px;\n            display: inline;\n            margin-right: 10px;\n        }\n        .section-number:after {}\n        .section-title {\n            @include sans-serif($bold, 14px, 14px);\n            display: inline-block;\n        }\n        .resource-type,\n        .resource-case,\n        .resource-date {\n            @include sans-serif($light, 14px, 14px);\n            display: inline-block;\n\n            text-align: left;\n            color: $black;\n        }\n\n        .resource-type {\n            border: 1px solid $light-blue;\n            color: $light-blue;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-size: 12px;\n            font-weight: bold;\n            height: 20px;\n            width: 82px;\n        }\n    }\n    &.confirm-delete {\n        margin-right: 160px;\n    }\n    ol.nestable-list.nestable-group {\n        padding-left: 0px;\n    }\n    .nestable-list {\n        .nestable-list {\n            border-left: 8px solid $light-blue;\n            padding-left: 16px;\n            margin-left: 30px;\n        }\n    }\n    div.editable .nestable-list .nestable-list {\n        border-left: 8px solid $yellow;\n        padding-left: 16px;\n        margin-left: 30px;\n    }\n    .nestable-drag-layer {\n        opacity: 0.7;\n        position: fixed;\n        top: 0;\n        left: 0;\n        z-index: 100;\n        pointer-events: none;\n        .listing {\n            .section-number:before {\n                content: \"-\";\n            }\n        }\n    }\n}\n.table-of-contents .add-content-link div {\n    display: inline;\n    button.action.one-line.add-resource {\n        border: none;\n        background-color: rgba(0, 0, 0, 0);\n        text-decoration: underline;\n        color: $light-blue;\n        display: inline;\n\n        &:hover {\n            font-weight: bold;\n        }\n    }\n}\n\n.editable .take-notes-tip{\n    justify-content: center;\n    margin: 5%;\n    display:flex;\n    flex-direction: row;\n    p{\n       padding:12px;\n       margin:0px;\n       text-align: center;\n       font-weight: 900;\n    }\n    .take-notes-icon{\n        background-image:url('~static/images/take-notes-icon.svg') ;\n        display: inline-block;\n        height: 40px;\n        width: 40px;\n    }\n}\n\n.nestable-list li.nestable-item.trailing-node {\n    height: 68px;\n    margin-top: 8px;\n}\n\n.nestable-list:not(:last-child) li.nestable-item.trailing-node {\n    border: 2px dashed black;\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheTableOfContents.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheTableOfContents.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheTableOfContents.vue?vue&type=template&id=7d879bdc&\"\nimport script from \"./TheTableOfContents.vue?vue&type=script&lang=js&\"\nexport * from \"./TheTableOfContents.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheTableOfContents.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Axios from '../../config/axios';\n\nconst helpers = {\n  resourcePath: annotation => `/resources/${annotation.resource_id}/annotations`,\n  path: annotation => `${helpers.resourcePath(annotation)}/${annotation.id}`\n};\n\nconst state = {\n  all: []\n};\n\nconst getters = {\n  getCount: state => state.all.length,\n\n  getById: state => id =>\n    state.all.find(\n      obj => obj.id === id\n    ),\n\n  getStartingAtOrAfter: state => (offset) =>\n\tstate.all.filter(\n    obj => obj.start_offset >= offset\n\t),\n\n  // Annotations that entirely span (or exceed) the provided offsets.\n  getSpanningOffsets: state => (start, end) =>\n    state.all.filter(\n      obj => obj.start_offset <= start && obj.end_offset >= end\n    ),\n\n  // Annotations whose start or end points fall WITHIN\n  // (i.e. not on the edges) the start and end bounds.\n  getWithinOffsets: state => (start, end) =>\n    state.all.filter(\n      obj => obj.start_offset > start || obj.end_offset < end\n    ),\n};\n\nconst actions = {\n\n  list: ({ commit }, payload) =>\n    Axios\n      .get(helpers.resourcePath(payload))\n      .then(resp => {\n        commit('append', resp.data);\n      }),\n\n  create: ({ commit }, payload) =>\n    Axios\n      .post(helpers.resourcePath(payload),\n            {annotation: payload})\n      .then(resp => {\n        commit('append', [{...payload, ...resp.data}]);\n      }),\n\n  update: ({ commit }, payload) =>\n    Axios\n      .patch(helpers.path(payload.obj),\n             {annotation: payload.vals})\n      .then(resp => {\n        commit('update', {obj: payload.obj,\n                          vals: {...payload.vals,\n                                 ...resp.data}});\n      }),\n\n  destroy: ({ commit, rootGetters }, payload) =>\n    Axios\n      .delete(helpers.path(payload))\n      .then(resp => {\n        commit('destroy', payload);\n        commit('annotations_ui/destroy',\n               rootGetters['annotations_ui/getById'](payload.id),\n               {root: true});\n      }),\n\n  createAndUpdate: ({ commit, rootGetters }, payload) =>\n    Axios\n      .post(helpers.resourcePath(payload.obj),\n            {annotation: {...payload.obj,\n                          ...payload.vals}})\n      .then(resp => {\n        // In the case where we have a placeholder annotation on the page\n        // with a null id, update that id here so that we continue to track\n        // the state using the same ui state object\n        commit('annotations_ui/update',\n               {obj: rootGetters['annotations_ui/getById'](payload.obj.id),\n                vals: {id: resp.data.id}},\n               {root: true});\n        commit('update', {obj: payload.obj,\n                          vals: {...payload.vals,\n                                 ...resp.data}});\n      })\n};\n\nconst mutations = {\n  append: (state, payload) =>\n    state.all.push(...payload),\n\n  update: (state, payload) =>\n    Object.assign(payload.obj, payload.vals),\n\n  destroy: (state, payload) =>\n    state.all.splice(state.all.indexOf(payload), 1)\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};\n","import Vue from 'vue';\n\nconst state = {\n  all: {}\n};\n\nconst getters = {\n  getById: state => id =>\n    state.all[id]\n};\n\nconst mutations = {\n  register: (state, payload) =>\n    Vue.set(state.all, payload.id, payload.annotationIds)\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations\n};\n","const state = {\n  editable: false\n};\n\nconst getters = {\n  getEditability: state =>\n    state.editable\n};\n\nconst mutations = {\n  setEditability: (state, payload) =>\n    state.editable = payload\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations\n};\n","import _ from 'lodash';\nimport Axios from '../../config/axios';\nimport Vue from \"vue\";\n\nconst state = {\n    toc: {},\n    augments: {}\n};\n\nfunction augmentNode(node, traits) {\n    _.keys(traits).forEach(k => Vue.set(node, k, traits[k]));\n}\n\nconst helpers = {\n    addCSSClass: (cls) => {\n        return (node) => {\n            node.cssClasses = _.get(node, 'cssClasses', []).filter(x => x !== cls).concat([cls]);\n            return node;\n        };\n    },\n    removeCSSClass: (cls) => {\n        return (node) => {\n            node.cssClasses = _.get(node, 'cssClasses', []).filter(x => x !== cls);\n            return node;\n        };\n    },\n    addFlag: (flagName) => {\n        return (node) => {\n            node[flagName] = true;\n            return node;\n        };\n    },\n    removeFlag: (flagName) => {\n        return (node) => {\n            node[flagName] = false;\n            return node;\n        };\n    },\n    flatFilter: (tree, filterFn) => {\n        // Return any node for which filterFn returns true\n        function dive(node) {\n            let ret = filterFn(node) ? [node] : [];\n            return ret.concat(_.flatMap(node.children || [], dive));\n        }\n        return dive(tree);\n    },\n    pruneFilter: (tree, filterFn) => {\n        // Return any node for which filterFN returns true for all parents and itself\n        function dive(node) {\n            return !filterFn(node) ? [] : [node].concat(_.flatMap(node.children || [], dive));\n        }\n        return dive(tree);\n    },\n    firstMatching: (tree, pred) => {\n        function dive(node) {\n            return pred(node) ? node : _.find(_.flatMap(node.children || [], dive).filter(_.identity), pred);\n        }\n        return dive(tree);\n    },\n    findPath: (tree, pred) => {\n        function dive(node, path) {\n            let nextPath = path.concat([node.id]);\n            return pred(node) ? [{ path: nextPath }] : _.flatMap(node.children || [], x => dive(x, nextPath));\n        }\n        return _.get(dive(tree, []), '0.path', []);\n    },\n    resourcePath: (casebook, subsection) => {\n        return !subsection ? `/casebook/${casebook}/toc` : `/casebook/${casebook}/toc/${subsection}`;\n    },\n    findNode: (toc, id) => {\n        const matchingNode = (node) => node.id === id;\n        let trees = _.values(toc).map((tree) => helpers.firstMatching(tree, matchingNode));\n        return _.find(trees, _.identity);\n    },\n    auditIDs: (toc, casebook) => {\n        function isTemp(node) {\n            return node.resource_type && node.resource_type === 'Temp';\n        }\n        if (!(casebook in toc)) {\n            return [];\n        }\n        return helpers.flatFilter(toc[casebook], isTemp).map(node => node.id);\n    },\n    collapsedIDs: (toc, casebook) => {\n        function isCollapsed(node) {\n            return node.collapsed;\n        }\n        if (!(casebook in toc)) {\n            return [];\n        }\n        return helpers.flatFilter(toc[casebook], isCollapsed).map(node => node.id);\n    },\n    openIDs: (toc, casebook) => {\n        function isOpen(node) {\n          return !node.collapsed;\n        }\n        if (!(casebook in toc)) {\n          return [];\n        }\n        return helpers.flatFilter(toc[casebook], isOpen).map((node) => node.id);\n    },\n    topLevelIDs: (toc, casebook) => {\n        if (!(casebook in toc)) {\n          return [];\n        }\n        return toc[casebook].children.map((node) => node.id);\n    },\n    augmentNode,\n    augmentNodes: (tree, augments) => {\n        const base = {};\n        function dive(node) {\n            let traits = _.get(augments, node.id, base);\n            augmentNode(node, traits);\n            (node.children || []).forEach(dive);\n        }\n        dive(tree);\n    }\n};\n\nconst getters = {\n    getNode: state => (id) => helpers.findNode(state.toc, id),\n    auditTargets: state => (casebook) => helpers.auditIDs(state.toc, casebook),\n    collapsedNodes: state => (casebook) => helpers.collapsedIDs(state.toc, casebook),\n    openNodes: (state) => (casebook) => helpers.openIDs(state.toc, casebook),\n    topLevelNodes: (state) => (casebook) => helpers.topLevelIDs(state.toc, casebook),\n\n};\n\nconst collapseNode = (node) => helpers.addCSSClass('collapsed')(helpers.addFlag('collapsed')(node));\nconst expandNode = (node) => helpers.removeCSSClass('collapsed')(helpers.removeFlag('collapsed')(node));\nconst setLoaded = (node) => helpers.removeCSSClass('loading')(helpers.addCSSClass('loaded')(node));\nconst setAudit = helpers.addFlag('audit');\nconst removeAudit = helpers.removeFlag('audit');\n\nconst mutations = {\n    overwrite: (state, payload) => {\n        helpers.augmentNodes(payload, state.augments);\n        Vue.set(state.toc, payload.id, payload);\n    },\n    delete: (state, payload) => {\n        function deleteRecursive(node, id) {\n            function childStream(node) {\n                return [node.id].concat(_.flatMap(node.children || [], childStream));\n            }\n            for (let ii = 0; ii < node.children.length; ii++) {\n                if (node.children[ii].id === id) {\n                    let children = childStream(node.children[ii]) || [];\n                    children.forEach(child => {\n                        if (_.has(state.augments, child)) {\n                            Vue.delete(state.augments, child);\n                        }\n                    });\n                    Vue.delete(node.children, ii);\n                    ii--;\n                } else {\n                    deleteRecursive(node.children[ii], id);\n                }\n            }\n        }\n        if (!(payload.casebook in state.toc)) {\n            return false;\n        }\n        deleteRecursive(state.toc[payload.casebook], payload.id);\n        return state.toc;\n    },\n    shuffle: (state, { id, children }) => {\n        if (id in state.toc) {\n            children.forEach(node => helpers.augmentNodes(node, state.augments));\n            Vue.set(state.toc[id], 'children', children);\n        }\n    },\n    modifyAugment: (state, { id, ids, modifyFn }) => {\n        let toUpdate = (id ? [id] : []).concat(ids || []);\n\n        toUpdate.forEach(ii => {\n            let updatedNode = modifyFn(_.get(state.augments, ii, {}));\n            Vue.set(state.augments, ii, updatedNode);\n            let node = helpers.findNode(state.toc, ii);\n            if (!node) {\n                if (_.has(state.augments, ii)) {\n                    Vue.delete(state.augments, ii);\n                }\n                return;\n            }\n            helpers.augmentNode(node, updatedNode);\n        });\n    }\n};\n\nconst actions = {\n    revealNode: ({ commit, state }, { casebook, id }) => {\n        let ids = helpers.findPath(state.toc[casebook], node => node.id === id);\n        commit('modifyAugment', { ids, modifyFn: expandNode });\n    },\n    toggleCollapsed: ({ commit }, { id }) => {\n        commit('modifyAugment', {\n            id,\n            modifyFn: (node) => _.get(node, 'collapsed', false) ? expandNode(node) : collapseNode(node)\n        });\n    },\n    collapseAll: ({ commit }, { ids }) => {\n        commit(\"modifyAugment\", {\n            ids,\n            modifyFn: collapseNode,\n        });\n    },\n    expandAll: ({ commit }, { ids }) => {\n        commit(\"modifyAugment\", {\n            ids,\n            modifyFn: expandNode,\n        });\n    },\n    setAudit: ({ commit, state }, { id }) => {\n        let currentAudits = _.keys(state.augments).filter(k => _.get(state.augments[k], 'audit', false)).map(parseInt);\n        commit('modifyAugment', { ids: currentAudits, modifyFn: removeAudit });\n        commit('modifyAugment', { id, modifyFn: setAudit });\n    },\n    clearAudit: ({ commit }, { id }) => {\n        commit('modifyAugment', { id, modifyFn: removeAudit });\n    },\n    slowMerge: ({ commit, state }, { casebook, newToc }) => {\n        // Compare the current state to the newToc and get a list of new nodes\n        // Cascade a delay for the new nodes, first node immediate, each after that appearing in a sec.\n        // animationState: 'loading' -> 'loaded'\n        function notInPreviousTree(node) {\n            return !helpers.findNode(state.toc, node.id);\n        }\n\n        let newNodes = helpers.flatFilter(newToc, notInPreviousTree);\n        const delayGap = 250;\n        newNodes.forEach(node => {\n            state.augments[node.id] = {cssClasses: ['loading']};\n            node.cssClasses = ['loading'];\n        });\n        commit('overwrite', newToc);\n        setTimeout(() => {\n            commit('modifyAugment', {\n                ids: newNodes.map(x => x.id),\n                modifyFn: setLoaded\n            });\n        }, delayGap);\n    },\n    fetch: ({ commit }, { casebook, subsection }) => {\n        if (!subsection || subsection === \"\") {\n            subsection = null;\n        }\n        Axios.get(helpers.resourcePath(casebook, subsection))\n            .then(resp => {\n                if (!resp.data.id) {\n                    resp.data.id = casebook;\n                }\n                commit('overwrite', resp.data);\n            }, console.error);\n    },\n    deleteNode: ({ commit, state, dispatch }, { casebook, rootNode, targetId }) => {\n        if (!targetId || targetId === \"\") {\n            return false;\n        }\n        let node = helpers.findNode(state.toc, targetId);\n        if (node === null) {\n            return false;\n        }\n        return Axios.delete(helpers.resourcePath(casebook, targetId))\n            .then(() => {\n                commit('delete', { casebook: rootNode, id: targetId });\n            }, () => {\n                dispatch('fetch', { casebook: rootNode });\n            });\n    },\n    moveNode: ({ commit, state, dispatch }, { casebook, rootNode, moverId, parent, index }) => {\n        let data = { parent, index };\n        if (parent === null && rootNode != casebook) {\n            data['parent'] = rootNode;\n        }\n        return Axios.patch(helpers.resourcePath(casebook, moverId), data)\n            .then(resp => {\n                if (!resp.data.id) {\n                    resp.data.id = casebook;\n                }\n                commit('overwrite', resp.data);\n            }, () => {\n                if (rootNode !== casebook) {\n                    dispatch('fetch', { casebook, subsection: rootNode });\n                } else {\n                    dispatch('fetch', { casebook });\n                }\n            });\n    }\n};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    mutations,\n    actions\n};\n","import Axios from '../../config/axios';\nimport Vue from 'vue';\nimport _ from 'lodash';\nimport url from '../../libs/urls';\n\nconst sourcesURL = url.url('search_sources')();\n\nconst searchUsingURL = url.url('search_using');\n\nconst state = {\n  sources: [],\n  searches: {}\n};\n\n\nconst helpers = {\n  normalize: function normalize(queryObj) {\n    const string = _.keys(queryObj).filter(x => x !== 'searchLimit').map(k => `${k}=${queryObj[k]}`).join(\",\");\n    return string;\n  },\n  encodeQuery: function encodeQuery(queryObj) {\n    const string = _.keys(queryObj).filter(x => x !== 'searchLimit').map(k => `${k === 'query' ? 'q' : k }=${encodeURI(queryObj[k])}`).join(\"&\");\n    return string;\n  }\n};\n\nconst getters = {\n  getSearch: state => queryObj => {\n    const qKey = helpers.normalize(queryObj);\n    const searchLimit = _.get(queryObj, 'searchLimit', false);\n    let searches = state.searches[qKey];\n    if (!searches) return {unRun: true};\n    let results = [];\n    let sources = [];\n    let keys = _.keys(_.groupBy(searches.map(results => _.isArray(results) ? 'completed' : results), x => x)).filter(x => x !== 'disabled');\n    let allDisabled = keys.length === 0;\n    let allCompleted = keys.length === 1 && keys[0] === 'completed';\n    let allPending = keys.length === 1 && keys[0] === 'pending';\n    let mixedResults = keys.length > 1;\n    searches.forEach((search, index) => {\n      if (_.isArray(search) && search.length === 0) return;\n      let source = _.find(state.sources, ({id}) => id === search[0].source_id);\n      if (!source) return;\n      if (_.isArray(search)) {\n        source.status = 'completed';\n        if (!searchLimit || search[0].source_id == searchLimit.id) {\n          results = results.concat(search.map(result => ({sourceName: source.name, ...result})));\n        }\n      } else {\n        source.status = source.status === 'timeout' ? 'disabled' : source.results;\n      }\n      sources.push(source);\n    });\n    let emptyResults = allCompleted && results.length === 0;\n    return {sources, results, allDisabled, allCompleted, allPending, mixedResults, emptyResults};\n  },\n  getSources: state => {\n    return state.sources;\n  }\n};\n\nconst mutations = {\n  setSources: (state, sources) => {\n    sources.forEach((source, sourceIndex) => {\n      source.search_regexes.forEach(search_regex => {\n        search_regex.regex = new RegExp(search_regex.regex);\n      });\n      source.sourceIndex = sourceIndex;\n    });\n    Vue.set(state, 'sources', sources);\n  },\n  overwrite: (state, {queryObj, source, results}) => {\n    const qKey = helpers.normalize(queryObj);\n    Vue.set(state.searches[qKey],source.sourceIndex, results);\n  },\n  setPending: (state, {queryObj, source}) => {\n    const qKey = helpers.normalize(queryObj);\n    Vue.set(state.searches[qKey], source.sourceIndex, 'pending');\n  },\n  setDisabled: (state, {queryObj, source}) => {\n    const qKey = helpers.normalize(queryObj);\n    Vue.set(state.searches[qKey], source.sourceIndex, 'disabled');\n  },\n  scrub: (state, {queryObj, source}) => {\n    const qKey = helpers.normalize(queryObj);\n    Vue.set(state.searches[qKey], source.sourceIndex, 'timeout');\n  },\n  initializeSearch: (state, queryObj) => {\n    const qKey = helpers.normalize(queryObj);\n    if (!_.has(state.searches, qKey)) {\n      Vue.set(state.searches, qKey, state.sources.map(() => 'disabled'));\n    }\n  },\n  toggleSourceEnabled: (state, sourceIndex) => {\n    state.sources[sourceIndex].enabled = !state.sources[sourceIndex].enabled;\n  }\n};\n\nconst actions = {\n  fetchForSource: ({state, commit, dispatch}, {queryObj, source }) => {\n    if (queryObj === {}) return;\n    commit('initializeSearch', queryObj);\n    let qKey = helpers.normalize(queryObj);\n    if (_.hasIn(state, ['searches', qKey]) &&\n        state.searches[qKey].length >= source.sourceIndex &&\n        !_.includes(['timeout', 'disabled'], state.searches[qKey][source.sourceIndex])) return;\n    commit('setPending', {queryObj, source});\n    const searchUrlRoot = searchUsingURL({sourceId: source.id});\n    const url = `${searchUrlRoot}?${helpers.encodeQuery(queryObj)}`;\n    Axios.get(url)\n      .then(resp => {\n        let results = resp.data.results;\n        results.forEach(x => x.source_id = source.id);\n        commit('overwrite', {queryObj, source, results});\n      }, console.error);\n    dispatch('timeOutSearch', {queryObj, source});\n  },\n  fetchForAllSources: ({state, commit, dispatch}, {queryObj}) => {\n    for(let source of state.sources) {\n      dispatch('fetchForSource', {queryObj, source});\n    }\n  },\n  fetchSources: ({ state, commit, dispatch }) => {\n    if (!state.sources || state.sources.length === 0) {\n      Axios.get(sourcesURL).then( resp => {\n        commit('setSources', resp.data.sources);\n      });\n    }\n  },\n  timeOutSearch: ({ state, commit }, {queryObj, source}) => {\n    const searchTimeout = 30000;\n    setTimeout(() => {\n      if (state.searches[helpers.normalize(queryObj)][source.sourceIndex] === 'pending') {\n        commit('scrub', {queryObj, source});\n      }\n    }, searchTimeout);\n  },\n  toggleSource: ({ state, commit, dispatch }, {source_id, queryObj}) => {\n    let source = _.find(state.sources, x => x.id === source_id);\n    commit(\"toggleSourceEnabled\", source.sourceIndex);\n    if (source.enabled) {\n      dispatch('fetchForSource', {queryObj, source});\n    } else {\n      commit('setDisabled', {queryObj, source});\n    }\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};\n","import _ from 'lodash';\n\nconst state = {\n  casebook:null,\n  section:null,\n  inAuditMode: false\n};\n\nconst getters = {\n  casebook: (state) => () => {\n    return state.casebook;\n  },\n  section: (state) => () => {\n    return state.section;\n  },\n  inAuditMode: (state) => () => {\n    return state.inAuditMode;\n  },\n};\n\nconst mutations = {\n  setCasebook: (state,value) => state.casebook = value,\n  setSection: (state,value) => state.section = value,\n  setAuditMode: (state,value) => state.inAuditMode = value\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations\n};\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport annotations from \"./modules/annotations\";\nimport annotations_ui from \"./modules/annotations_ui\";\nimport footnotes_ui from \"./modules/footnotes_ui\";\nimport resources_ui from \"./modules/resources_ui\";\nimport table_of_contents from \"./modules/table_of_contents\";\nimport createLogger from \"vuex/dist/logger\";\nimport case_search from './modules/case_search';\nimport globals from './modules/globals';\n\nVue.use(Vuex);\n\nconst debug = process.env.NODE_ENV == \"development\";\n\nexport default new Vuex.Store({\n  modules: {\n    annotations,\n    annotations_ui,\n    footnotes_ui,\n    resources_ui,\n    table_of_contents,\n    case_search,\n    globals\n  },\n  strict: debug,\n  plugins: debug ? [createLogger()] : []\n});\n","import \"../config/axios\";\nimport \"../directives/selectionchange\";\n\nimport * as Sentry from \"@sentry/vue\";\n\nimport AddContent from \"../components/AddContent\";\nimport AuditButton from \"../components/AuditButton\";\nimport Dashboard from \"../components/Dashboard\";\nimport Globals from \"../components/Globals\";\nimport PortalVue from \"portal-vue\";\nimport QuickAdd from \"../components/QuickAdd\";\nimport ResourceTypePicker from \"../components/ResourceTypePicker\";\nimport SectionCloner from \"../components/SectionCloner\";\nimport TakeNotesCloner from \"../components/TakeNotesCloner\";\nimport TheResource from \"../components/TheResource\";\nimport TheTableOfContents from \"../components/TheTableOfContents\";\nimport Vue from \"vue\";\nimport VueRouter from 'vue-router';\nimport contenteditableDirective from \"vue-contenteditable-directive\";\nimport store from \"../store/index\";\n\nVue.use(VueRouter);\nVue.config.productionTip = process.env.NODE_ENV == \"development\";\n\n\nVue.use(contenteditableDirective);\n\n\n// Font Awesome\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faCheck, faXmark } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\n\nlibrary.add(faCheck, faXmark)\nVue.component('font-awesome-icon', FontAwesomeIcon)\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const routes = [\n    { path: '/casebooks/:id/resources/:resource_id/', component: TheResource }\n  ];\n\n  const router = new VueRouter({\n      routes,\n      mode: 'history'\n  });\n\n  const app = new Vue({\n    el: \"#app\",\n    store,\n    router,\n    components: {\n        TheResource,\n        SectionCloner,\n        TakeNotesCloner,\n        AddContent,\n        TheTableOfContents,\n        PortalVue,\n        QuickAdd,\n        ResourceTypePicker,\n        Globals,\n        AuditButton,\n        Dashboard\n    }\n  });\n\n  if (window.sentry.USE_SENTRY) {\n    console.log('using sentry');\n    Sentry.init({\n      Vue,\n      dsn: window.sentry.DSN,\n      environment: window.sentry.ENVIRONMENT,\n\n      // Set tracesSampleRate to 1.0 to capture 100%\n      // of transactions for performance monitoring.\n      // We recommend adjusting this value in production\n      tracesSampleRate: window.sentry.TRACES_SAMPLE_RATE,\n    });\n  }\n\n  window.app = app;\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplacementAnnotation.vue?vue&type=style&index=0&id=38ee148e&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublishButton.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HighlightAnnotation.vue?vue&type=style&index=0&id=646aeb45&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheAnnotator.vue?vue&type=style&index=0&id=34021196&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Casebook.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkAnnotation.vue?vue&type=style&index=0&id=22e03138&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntryAuditor.vue?vue&type=style&index=0&id=cd951f32&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheGlobalElisionExpansionButton.vue?vue&type=style&index=0&id=497af012&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('portal',{attrs:{\"to\":\"modal-target\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('focus-trap',{attrs:{\"active\":_vm.hasFocusTarget,\"initial-focus\":_vm.wrappedFocus}},[_c('div',{attrs:{\"id\":\"modal\",\"aria-labelledby\":\"modal-title\",\"tabindex\":\"-1\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.$emit('close')}}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])]),_c('h4',{staticClass:\"modal-title\",attrs:{\"id\":\"modal-title\"}},[_vm._t(\"title\")],2)]),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"body\")],2)])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<portal to=\"modal-target\">\n<transition name=\"fade\">\n  <focus-trap :active=\"hasFocusTarget\" :initial-focus=\"wrappedFocus\">\n  <div id=\"modal\"\n       aria-labelledby=\"modal-title\"\n       tabindex=\"-1\"\n       @click.self=\"$emit('close')\">\n    <div class=\"modal-dialog\"\n         role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\"\n                  class=\"close\"\n                  aria-label=\"Close\"\n                  @click=\"$emit('close')\">\n            <span aria-hidden=\"true\"></span>\n          </button>\n          <h4 id=\"modal-title\" class=\"modal-title\">\n            <slot name=\"title\"></slot>\n          </h4>\n        </div>\n        <div class=\"modal-body\">\n          <slot name=\"body\"></slot>\n        </div>\n      </div>\n    </div>\n  </div>\n  </focus-trap>\n</transition>\n</portal>\n</template>\n\n<script>\nimport PortalVue from \"portal-vue\";\nimport Vue from \"vue\";\nimport { FocusTrap } from 'focus-trap-vue';\nVue.use(PortalVue)\n\nVue.directive('focus', {\n    inserted: function (el) {\n        el.focus()\n    }\n})\n\nexport default {\n  components: {\n    FocusTrap\n  },\n  props: ['initialFocus'],\n  computed: {\n    wrappedFocus: function() {\n      return this.initialFocus;\n    },\n    hasFocusTarget: function() {\n      return !! this.initialFocus;\n    }\n  },\n  methods: {\n    onKey(e) {\n      if(e.key == \"Escape\") this.$emit(\"close\");\n    }\n  },\n  created: function () {\n    let nm = document.getElementById('non-modal');\n    nm.style.position = \"relative\";\n    nm.setAttribute('aria-hidden', 'true');\n    nm.style.overflow = \"unset\";\n    document.body.classList.add('modal-open');\n    window.addEventListener('keydown', this.onKey)\n  },\n  beforeDestroy: function () {\n    let nm = document.getElementById('non-modal');\n    nm.removeAttribute('aria-hidden');\n    document.body.classList.remove('modal-open');\n    nm.style = \"\";\n    window.removeEventListener('keydown', this.onKey)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/vars-and-mixins\";\n\n#modal {\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(255, 255, 255, .85);\n  .modal-dialog {\n      max-width: 1000px;\n      min-width: 600px;\n      width: unset;\n    .modal-content {\n      max-height: calc(100vh - 225px);\n      overflow-y: scroll;\n\n    }\n  }\n}\n.modal-dialog {\n    margin-top: 90px;\n}\n\n/*\n * Many styles for this component are coming from Bootstrap\n * TODO: transition styles into this component\n */\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=67a504db&scoped=true&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&id=67a504db&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67a504db\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheTableOfContents.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoteAnnotation.vue?vue&type=style&index=0&id=e2df4790&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&id=67a504db&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElisionAnnotation.vue?vue&type=style&index=0&id=2c996573&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TakeNotesCloner.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationExpansionToggle.vue?vue&type=style&index=0&id=6c978a10&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSpinner.vue?vue&type=style&index=0&id=44b8022a&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceTypePicker.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=style&index=0&id=55be8b48&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectionAnnotation.vue?vue&type=style&index=0&id=5b7265c9&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheResource.vue?vue&type=style&index=0&id=7ef4ef6e&lang=scss&scoped=true&\""],"sourceRoot":""}