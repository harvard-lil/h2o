(function(t){function e(e){for(var o,r,s=e[0],c=e[1],d=e[2],u=0,v=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&v.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(v.length)v.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},a={application:0},i=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/static/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("3499")},"119d":function(t,e,n){"use strict";var o=n("3835"),a=(n("a15b"),n("d81d"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("a434"),n("1276"),n("d3b7"),n("159b"),n("2ef0")),i=n.n(a);function r(t){var e=FRONTEND_URLS[t];if(!e)return console.error("".concat(t," not present in FRONTEND_URLS")),!1;var n=e;return function(t){return"/"+n.map((function(e){return i.a.get(t,e.substr(1),e)})).join("/")}}function s(t){var e=FRONTEND_URLS[t];return e?new RegExp("^"+location.origin+"/"+i.a.map(e,(function(t){return t.length>0&&"_"===t[0]?"[^/]*":t})).join("/")+"$"):(console.error("".concat(t," not present in FRONTEND_URLS")),!1)}function c(t){var e=FRONTEND_URLS[t];return e?function(t){var n=t.split("/").splice(3),a={};return i.a.zip(e,n).forEach((function(t){var e=Object(o["a"])(t,2),n=e[0],i=e[1];if(n.length>0&&"_"===n[0]){var r=n.substr(1);a[r]=i}})),a}:(console.error("".concat(t," not present in FRONTEND_URLS")),!1)}e["a"]={url:r,matcher:s,reverser:c}},"248a":function(t,e,n){(function(t){n("ac1f"),n("00b4"),n("5319"),n("7db0"),n("d3b7"),function(t){"use strict";var e=".dropdown-backdrop",n='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};function a(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&t(n);return o&&o.length?o:e.parent()}function i(o){o&&3===o.which||(t(e).remove(),t(n).each((function(){var e=t(this),n=a(e),i={relatedTarget:this};n.hasClass("open")&&(o&&"click"==o.type&&/input|textarea/i.test(o.target.tagName)&&t.contains(n[0],o.target)||(n.trigger(o=t.Event("hide.bs.dropdown",i)),o.isDefaultPrevented()||(e.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",i)))))})))}function r(e){return this.each((function(){var n=t(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new o(this)),"string"==typeof e&&a[e].call(n)}))}o.VERSION="3.3.7",o.prototype.toggle=function(e){var n=t(this);if(!n.is(".disabled, :disabled")){var o=a(n),r=o.hasClass("open");if(i(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var s={relatedTarget:this};if(o.trigger(e=t.Event("show.bs.dropdown",s)),e.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},o.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var i=a(o),r=i.hasClass("open");if(!r&&27!=e.which||r&&27==e.which)return 27==e.which&&i.find(n).trigger("focus"),o.trigger("click");var s=" li:not(.disabled):visible a",c=i.find(".dropdown-menu"+s);if(c.length){var d=c.index(e.target);38==e.which&&d>0&&d--,40==e.which&&d<c.length-1&&d++,~d||(d=0),c.eq(d).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",n,o.prototype.toggle).on("keydown.bs.dropdown.data-api",n,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(t)}).call(this,n("1157"))},"2dd6":function(t,e,n){"use strict";(function(t){n("7db0"),n("d3b7"),n("ac1f"),n("466d"),n("5319"),n("bc3a"),n("3158")}).call(this,n("1157"))},3158:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("ac1f"),n("841c"),n("1276"),n("d3b7"),n("159b"),n("498a");function o(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var a=n[o].trim();if(a.substring(0,t.length+1)===t+"="){e=decodeURIComponent(a.substring(t.length+1));break}}return e}function a(){var t=document.querySelector("meta[name=csrf-token]"),e=o("csrftoken"),n=void 0;return t?n=t.getAttribute("content"):e&&(n=e),n}},3499:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("3084"),n("fd2b"),n("e792"),n("849c"),n("d3b7");var o=n("f684"),a=n.n(o);window.Promise=a.a,a.a.config({longStackTraces:!0,warnings:!0});n("248a"),n("3158"),n("2dd6"),n("bdcb");var i=n("8785"),r=n("d4ec"),s=n("bee2"),c=n("262e"),d=n("2caf"),l=n("ade3"),u=n("257e"),v=n("45eb"),p=n("7e84"),f=n("4f96"),b=n("b85c"),h=(n("ac1f"),n("1276"),n("fb6a"),n("a15b"),n("25f0"),n("8c50")),m=n.n(h),g=n("fad8"),y=function(){function t(e){var n=e.id,o=e.events;if(Object(r["a"])(this,t),n&&(this.el=this.findOrCreateElement(n)),o)for(var a in o)this.bindEvent(a,o[a])}return Object(s["a"])(t,[{key:"bindEvent",value:function(t,e){t=t.split(/, ?/g);var n,o=Object(b["a"])(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.split(" "),r=Object(f["a"])(i),s=r[0],c=r.slice(1);this.addEventDelegate(c.join(" "),s,e)}}catch(d){o.e(d)}finally{o.f()}}},{key:"render",value:function(){this.el&&Object(g["a"])(this.el,this.template().toString())}},{key:"findOrCreateElement",value:function(t){var e=document.querySelector("#".concat(t));return e||(e=document.createElement("div"),e.id=t,e)}},{key:"addEventDelegate",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.eventDelegates=this.eventDelegates||[],this.eventDelegates.push(m()(this.el,t,e,n,o))}},{key:"destroy",value:function(){if("true"!==this.el.dataset.processing){this.el.parentElement&&this.el.parentElement.removeChild(this.el);var t,e=Object(b["a"])(this.eventDelegates);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.destroy()}}catch(o){e.e(o)}finally{e.f()}}}}]),t}();function k(t){this.el.contains(t.target)||(t.stopPropagation(),this.el.focus())}var w,O=function(t){Object(c["a"])(n,t);var e=Object(d["a"])(n);function n(t,o,a){var i,s;return Object(r["a"])(this,n),s=e.call(this,{id:t,events:Object.assign(a||{},(i={"click .close":function(){s.destroy()},"click .cancel":function(){s.destroy()}},Object(l["a"])(i,"click #".concat(t),(function(e){e.target.id===t&&s.destroy()})),Object(l["a"])(i,"keydown #".concat(t),(function(t){"Escape"!=t.key&&"Esc"!=t.key&&27!=t.keyCode||s.destroy()})),i))}),s.id=t,s.trigger=o,s.handleFocus=k.bind(Object(u["a"])(s)),document.body.insertBefore(s.el,document.body.firstChild),s.render(),s.el.focus(),document.querySelector(".modal-overlay").classList.add("open"),document.getElementById("non-modal").setAttribute("aria-hidden","true"),document.addEventListener("focus",s.handleFocus,!0),s}return Object(s["a"])(n,[{key:"destroy",value:function(){"true"!==this.el.dataset.processing&&(document.removeEventListener("focus",this.handleFocus,!0),document.getElementById("non-modal").removeAttribute("aria-hidden"),document.querySelector(".modal-overlay").classList.remove("open"),this.trigger.focus(),Object(v["a"])(Object(p["a"])(n.prototype),"destroy",this).call(this))}}]),n}(y),j=n("715b");function x(t){new _("new-casebook-modal",t.target)}m()(document,'[data-action="show-casebook-modal"]',"click",(function(t){return x(t)}));var E,_=function(t){Object(c["a"])(n,t);var e=Object(d["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"template",value:function(){return Object(j["html"])(w||(w=Object(i["a"])(['<div class="modal fade in" id="','" style="display: block"  tabindex="-1" aria-labelledby="','-title">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            <h4 id="','-title" class="modal-title">Create a Casebook</h4>\n          </div>\n          <div class="modal-body">\n            <p class="create-casebook-text">Would you like to make a new casebook from scratch or search for a casebook you can copy and customize?</p>\n\n            <div class="modal-button-container">\n              <div class="modal-button-box">\n                <a href="/casebooks/new">\n                  <span class="add-casebook" aria-hidden="true"></span>\n                  <p class="modal-button-caption">\n                    Make a New Casebook\n                  </p>\n                </a>\n              </div>\n\n              <div class="modal-button-box">\n                <a href="/search">\n                  <span class="customize-casebook" aria-hidden="true"></span>\n                  <p class="modal-button-caption">\n                    Search for a Casebook to Customize\n                  </p>\n                </a>\n              </div>\n            </div>\n          \n          </div>\n          <div class="modal-footer"></div>\n        </div>\n      </div>\n    </div>'])),this.id,this.id,this.id)}}]),n}(O);function C(t){new I("revise-modal",t.target,{}),t.currentTarget.activeElement.dataset.processing="true"}m()(document,".create-draft","click",C);var S,I=function(t){Object(c["a"])(n,t);var e=Object(d["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"template",value:function(){return Object(j["html"])(E||(E=Object(i["a"])(['<div class="modal fade in" id="','" style="display: block" tabindex="-1" aria-labelledby="','-title">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="spinner-group">\n            <p class="spinner-header">Building draft</p>\n            <p class="spinner-description">Your casebook will remain published and you can merge in any changes when you\'re ready.</p>\n            <div class="spinner">\n              <div class="bounce1"></div>\n              <div class="bounce2"></div>\n              <div class="bounce3"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>'])),this.id,this.id)}}]),n}(O);function L(t){new D("clone-modal",t.target,{}),t.currentTarget.activeElement.dataset.processing="true"}m()(document,".clone-casebook","click",L);var N,D=function(t){Object(c["a"])(n,t);var e=Object(d["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"template",value:function(){return Object(j["html"])(S||(S=Object(i["a"])(['<div class="modal fade in" id="','" tabindex="-1" aria-label="','-title" style="display: block">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="spinner-group">\n            <p class="spinner-header">Cloning Casebook</p>\n            <div class="spinner">\n              <div class="bounce1"></div>\n              <div class="bounce2"></div>\n              <div class="bounce3"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>'])),this.id,this.id)}}]),n}(O);function R(t){new P("clone-modal",t.target,{}),t.currentTarget.activeElement.dataset.processing="true"}m()(document,".annotate-casebook","click",R);var T,P=function(t){Object(c["a"])(n,t);var e=Object(d["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"template",value:function(){return Object(j["html"])(N||(N=Object(i["a"])(['<div class="modal fade in" id="','" tabindex="-1" aria-label="','-title" style="display: block">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="spinner-group">\n            <p class="spinner-header">Copying for Taking Notes</p>\n            <p>You can view this copy on your Dashboard</p>\n            <span class=""></span>\n            <div class="spinner">\n              <div class="bounce1"></div>\n              <div class="bounce2"></div>\n              <div class="bounce3"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>'])),this.id,this.id)}}]),n}(O),q=(n("caad"),n("2532"),n("119d"));function F(t){var e=q["a"].url("export_resource");return e({resourceId:t})}function A(t){var e=q["a"].url("export_section");return e({sectionId:t})}function U(t){var e=q["a"].url("export_casebook");return e({casebookId:t})}function z(t){var e=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;"undefined"===typeof t&&(t="true");var a=document.querySelector("main > header").dataset;a.resourceId?window.location.assign(F(a.resourceId)+("true"===t?"?annotations=true":"?annotations=false")+(e?"&docx_footnotes=true":"")+(n?"&docx_sections=true":"")):a.sectionId?window.location.assign(A(a.sectionId)+("true"===t?"?annotations=true":"?annotations=false")+(e?"&docx_footnotes=true":"")+(n?"&docx_sections=true":"")):window.location.assign(U(a.casebookId)+("true"===t?"?annotations=true":"?annotations=false")+(e?"&docx_footnotes=true":"")+(n?"&docx_sections=true":"")),o.classList.add("animating");var i="response_flag_cookie",r=setInterval((function(){document.cookie.includes(i)&&(o.classList.remove("animating"),clearInterval(r))}),500)}function B(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];new M("export-modal",t.target,{"click #export-modal":function(t){"export-modal"===t.target.id&&e.destroy()},"click .export":function(t){z(t.target.value,n,o,a,t.target),document.querySelector("button.close").click()}})}m()(document,"a.action.export","click",(function(t){t.preventDefault();var e=t.target.classList.contains("export-experimental"),n=t.target.classList.contains("export-docx-footnotes"),o=t.target.classList.contains("export-docx-sections");window.app&&app.$store.getters["annotations/getCount"]>0||!window.app&&t.target.classList.contains("export-has-annotations")?B(t,e,n,o):z(void 0,e,n,o,t.target)}));var M=function(t){Object(c["a"])(n,t);var e=Object(d["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"casebookId",value:function(){return document.querySelector("header.casebook").dataset.casebookId}},{key:"sectionId",value:function(){return document.querySelector("header.casebook").dataset.sectionId}},{key:"template",value:function(){return Object(j["html"])(T||(T=Object(i["a"])(['<div class="modal fade in" id="','" style="display: block"  tabindex="-1" aria-labelledby="','-title">\n      <div class="modal-dialog" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            <h4 id="','-title" class="modal-title export-title">Export Casebook</h4>\n          </div>\n          <div class="modal-body">\n            <div class="export-annotations">\n              <button name="include-annotations" value=true class="modal-button export with-annotations">With annotations</button>\n              <button name="include-annotations" value=false class="modal-button export no-annotations">Without annotations</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>'])),this.id,this.id,this.id)}}]),n}(O);n("4079")},4079:function(t,e,n){(function(t){t(document).ready((function(e){t(".view-searches-index, .view-searches-show").length&&(t("#search_author").on("change",(function(t){t.target.closest("form").submit()})),t("#search_school").on("change",(function(t){t.target.closest("form").submit()})),t("#search_sort").on("change",(function(t){t.target.closest("form").submit()})))}))}).call(this,n("1157"))},bdcb:function(t,e,n){n("ac1f"),n("00b4"),function(){var t=/(trident|msie)/i.test(navigator.userAgent);t&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",(function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e),t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus()))}),!1)}()}});
//# sourceMappingURL=application.f876f0db.js.map